(function(c){if("object"==typeof exports&&"object"==typeof module)module.exports=c();else{if("function"==typeof define&&define.amd)return define([],c);this.CodeMirror=c()}})(function(){function c(a,b){if(!(this instanceof c))return new c(a,b);this.options=b=b||{};Ib(Se,b,!1);p(b);var d=b.value;"string"==typeof d&&(d=new ka(d,b.mode));this.doc=d;var g=this.display=new w(a,d);g.wrapper.CodeMirror=this;v(this);f(this);b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");b.autofocus&&
!Xc&&ma(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Yc};N&&11>R&&setTimeout(xa(ya,this,!0),20);Te(this);Jd||(Ue(),Jd=!0);var h=this;Ka(this,function(){h.curOp.forceUpdate=!0;Kd(h,d);b.autofocus&&!Xc||Qa()==g.input?setTimeout(xa(Zc,h),20):kc(h);for(var a in sb)if(sb.hasOwnProperty(a))sb[a](h,b[a],Ld);for(a=0;a<$c.length;++a)$c[a](h)})}function w(a,b){var d=this.input=D("textarea",null,null,
"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");fa?d.style.width="1000px":d.setAttribute("wrap","off");Jb&&(d.style.border="1px solid black");d.setAttribute("autocorrect","off");d.setAttribute("autocapitalize","off");d.setAttribute("spellcheck","false");this.inputDiv=D("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");this.scrollbarH=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");this.scrollbarV=D("div",
[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");this.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler");this.gutterFiller=D("div",null,"CodeMirror-gutter-filler");this.lineDiv=D("div",null,"CodeMirror-code");this.selectionDiv=D("div",null,null,"position: relative; z-index: 1");this.cursorDiv=D("div",null,"CodeMirror-cursors");this.measure=D("div",null,"CodeMirror-measure");this.lineMeasure=D("div",null,"CodeMirror-measure");this.lineSpace=D("div",[this.measure,this.lineMeasure,
this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");this.mover=D("div",[D("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=D("div",[this.mover],"CodeMirror-sizer");this.heightForcer=D("div",null,null,"position: absolute; height: "+qa+"px; width: 1px;");this.gutters=D("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=D("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex",
"-1");this.wrapper=D("div",[this.inputDiv,this.scrollbarH,this.scrollbarV,this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");N&&8>R&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Jb&&(d.style.width="0px");fa||(this.scroller.draggable=!0);ad&&(this.inputDiv.style.height="1px",this.inputDiv.style.position="absolute");N&&8>R&&(this.scrollbarH.style.minHeight=this.scrollbarV.style.minWidth="18px");a.appendChild?a.appendChild(this.wrapper):a(this.wrapper);this.viewFrom=
this.viewTo=b.first;this.view=[];this.externalMeasured=null;this.lastSizeC=this.viewOffset=0;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=this.updateLineNumbers=null;this.prevInput="";this.pollingFast=this.alignWidgets=!1;this.poll=new Yc;this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.inaccurateSelection=!1;this.maxLine=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.selForContextMenu=
null}function u(a){a.doc.mode=c.getMode(a.options,a.doc.modeOption);t(a)}function t(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;Ya(a,100);a.state.modeGen++;a.curOp&&oa(a)}function n(a){var b=C(a.display),d=a.options.lineWrapping,g=d&&Math.max(5,a.display.scroller.clientWidth/Za(a.display)-3);return function(h){if($a(a.doc,h))return 0;var r=0;if(h.widgets)for(var P=0;P<h.widgets.length;P++)h.widgets[P].height&&(r+=h.widgets[P].height);
return d?r+(Math.ceil(h.text.length/g)||1)*b:r+b}}function e(a){var b=a.doc,d=n(a);b.iter(function(a){var b=d(a);b!=a.height&&za(a,b)})}function l(a){var b=La[a.options.keyMap].style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")}function f(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Aa(a)}function m(a){v(a);oa(a);setTimeout(function(){B(a)},20)}
function v(a){var b=a.display.gutters,d=a.options.gutters;ab(b);for(var g=0;g<d.length;++g){var h=d[g],r=b.appendChild(D("div",null,"CodeMirror-gutter "+h));"CodeMirror-linenumbers"==h&&(a.display.lineGutter=r,r.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=g?"":"none";s(a)}function s(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px";a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function k(a){if(0==a.height)return 0;for(var b=a.text.length,
d,g=a;d=bb(g,!0);)d=d.find(0,!0),g=d.from.line,b+=d.from.ch-d.to.ch;for(g=a;d=bb(g,!1);)d=d.find(0,!0),b-=g.text.length-d.from.ch,g=d.to.line,b+=g.text.length-d.to.ch;return b}function q(a){var b=a.display;a=a.doc;b.maxLine=G(a,a.first);b.maxLineLength=k(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var g=k(a);g>b.maxLineLength&&(b.maxLineLength=g,b.maxLine=a)})}function p(a){var b=ca(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):
-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function z(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,hScrollbarTakesSpace:a.display.scroller.clientHeight-a.display.wrapper.clientHeight<qa-3,barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+Kb(a.display))}}function y(a,b){b||(b=z(a));var d=a.display,g=Ve(d.measure),h=b.docHeight+qa,
r=b.scrollWidth>b.clientWidth;r&&b.scrollWidth<=b.clientWidth+1&&0<g&&!b.hScrollbarTakesSpace&&(r=!1);var P=h>b.clientHeight;P?(d.scrollbarV.style.display="block",d.scrollbarV.style.bottom=r?g+"px":"0",d.scrollbarV.firstChild.style.height=Math.max(0,h-b.clientHeight+(b.barHeight||d.scrollbarV.clientHeight))+"px"):(d.scrollbarV.style.display="",d.scrollbarV.firstChild.style.height="0");r?(d.scrollbarH.style.display="block",d.scrollbarH.style.right=P?g+"px":"0",d.scrollbarH.firstChild.style.width=b.scrollWidth-
b.clientWidth+(b.barWidth||d.scrollbarH.clientWidth)+"px"):(d.scrollbarH.style.display="",d.scrollbarH.firstChild.style.width="0");r&&P?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=d.scrollbarFiller.style.width=g+"px"):d.scrollbarFiller.style.display="";r&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=g+"px",d.gutterFiller.style.width=d.gutters.offsetWidth+"px"):d.gutterFiller.style.display=
"";!a.state.checkedOverlayScrollbar&&0<b.clientHeight&&(0===g&&(d.scrollbarV.style.minWidth=d.scrollbarH.style.minHeight=Ba&&!We?"12px":"18px",g=function(b){(b.target||b.srcElement)!=d.scrollbarV&&(b.target||b.srcElement)!=d.scrollbarH&&X(a,Md)(b)},J(d.scrollbarV,"mousedown",g),J(d.scrollbarH,"mousedown",g)),a.state.checkedOverlayScrollbar=!0)}function x(a,b,d){var g=d&&null!=d.top?Math.max(0,d.top):a.scroller.scrollTop,g=Math.floor(g-a.lineSpace.offsetTop),h=d&&null!=d.bottom?d.bottom:g+a.wrapper.clientHeight,
g=cb(b,g),h=cb(b,h);if(d&&d.ensure){var r=d.ensure.from.line;d=d.ensure.to.line;if(r<g)return{from:r,to:cb(b,Ca(G(b,r))+a.wrapper.clientHeight)};if(Math.min(d,b.lastLine())>=h)return{from:cb(b,Ca(G(b,d))-a.wrapper.clientHeight),to:d}}return{from:g,to:Math.max(h,g+1)}}function B(a){var b=a.display,d=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var g=L(b)-b.scroller.scrollLeft+a.doc.scrollLeft,h=b.gutters.offsetWidth,r=g+"px",P=0;P<d.length;P++)if(!d[P].hidden){a.options.fixedGutter&&
d[P].gutter&&(d[P].gutter.style.left=r);var c=d[P].alignable;if(c)for(var p=0;p<c.length;p++)c[p].style.left=r}a.options.fixedGutter&&(b.gutters.style.left=g+h+"px")}}function F(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function L(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function S(a,b,d){for(var g=a.display.viewFrom,h=a.display.viewTo,r,P=x(a.display,a.doc,b),c=!0;;c=!1){var p=a.display.scroller.clientWidth,e;e=a;var k=P,f=d;d=e.display;
var m=e.doc;if(d.wrapper.offsetWidth)if(!f&&k.from>=d.viewFrom&&k.to<=d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers>=d.viewTo)&&0==Nd(e))e=void 0;else{var l;l=e;if(l.options.lineNumbers){var q=l.doc,q=F(l.options,q.first+q.size-1),n=l.display;if(q.length!=n.lineNumChars){var v=n.measure.appendChild(D("div",[D("div",q)],"CodeMirror-linenumber CodeMirror-gutter-elt")),H=v.firstChild.offsetWidth,v=v.offsetWidth-H;n.lineGutter.style.width="";n.lineNumInnerWidth=Math.max(H,n.lineGutter.offsetWidth-
v);n.lineNumWidth=n.lineNumInnerWidth+v;n.lineNumChars=n.lineNumInnerWidth?q.length:-1;n.lineGutter.style.width=n.lineNumWidth+"px";s(l);l=!0}else l=!1}else l=!1;l&&Ra(e);l=ga(e);H=m.first+m.size;q=Math.max(k.from-e.options.viewportMargin,m.first);n=Math.min(H,k.to+e.options.viewportMargin);d.viewFrom<q&&20>q-d.viewFrom&&(q=Math.max(m.first,d.viewFrom));d.viewTo>n&&20>d.viewTo-n&&(n=Math.min(H,d.viewTo));Sa&&(q=bd(e.doc,q),n=Od(e.doc,n));k=q!=d.viewFrom||n!=d.viewTo||d.lastSizeC!=d.wrapper.clientHeight;
m=e;H=m.display;0==H.view.length||q>=H.viewTo||n<=H.viewFrom?(H.view=lc(m,q,n),H.viewFrom=q):(H.viewFrom>q?H.view=lc(m,q,H.viewFrom).concat(H.view):H.viewFrom<q&&(H.view=H.view.slice(Lb(m,q))),H.viewFrom=q,H.viewTo<n?H.view=H.view.concat(lc(m,H.viewTo,n)):H.viewTo>n&&(H.view=H.view.slice(0,Lb(m,n))));H.viewTo=n;d.viewOffset=Ca(G(e.doc,d.viewFrom));e.display.mover.style.top=d.viewOffset+"px";m=Nd(e);if(k||0!=m||f){f=Qa();4<m&&(d.lineDiv.style.display="none");U(e,d.updateLineNumbers,l);4<m&&(d.lineDiv.style.display=
"");f&&Qa()!=f&&f.offsetHeight&&f.focus();ab(d.cursorDiv);ab(d.selectionDiv);k&&(d.lastSizeC=d.wrapper.clientHeight,Ya(e,400));e=e.display;d=e.lineDiv.offsetTop;for(f=0;f<e.view.length;f++)if(k=e.view[f],!k.hidden&&(N&&8>R?(l=k.node.offsetTop+k.node.offsetHeight,m=l-d,d=l):(m=k.node.getBoundingClientRect(),m=m.bottom-m.top),l=k.line.height-m,2>m&&(m=C(e)),.001<l||-.001>l))if(za(k.line,m),da(k.line),k.rest)for(m=0;m<k.rest.length;m++)da(k.rest[m]);e=!0}else e=void 0}else Ra(e),e=void 0;if(!e)break;
r=!0;a.display.maxLineChanged&&!a.options.lineWrapping&&(e=a,d=e.display,f=d.maxLine.text.length,f=Ta(e,tb(e,d.maxLine),f,void 0).left,d.maxLineChanged=!1,f=Math.max(0,f+3),k=Math.max(0,d.sizer.offsetLeft+f+qa-d.scroller.clientWidth),d.sizer.style.minWidth=f+"px",k<e.doc.scrollLeft&&ub(e,Math.min(d.scroller.scrollLeft,k),!0));e=z(a);db(a);d=a;f=e;d.display.sizer.style.minHeight=d.display.heightForcer.style.top=f.docHeight+"px";d.display.gutters.style.height=Math.max(f.docHeight,f.clientHeight-qa)+
"px";y(a,e);fa&&a.options.lineWrapping&&(d=a,f=e,d.display.sizer.offsetWidth+d.display.gutters.offsetWidth<d.display.scroller.clientWidth-1&&(d.display.sizer.style.minHeight=d.display.heightForcer.style.top="0px",d.display.gutters.style.height=f.docHeight+"px"));fa&&e.scrollWidth>e.clientWidth&&e.scrollWidth<e.clientWidth+1&&!(a.display.scroller.clientHeight-a.display.wrapper.clientHeight<qa-3)&&y(a);if(c&&a.options.lineWrapping&&p!=a.display.scroller.clientWidth)d=!0;else if(d=!1,b&&null!=b.top&&
(b={top:Math.min(e.docHeight-qa-e.clientHeight,b.top)}),P=x(a.display,a.doc,b),P.from>=a.display.viewFrom&&P.to<=a.display.viewTo)break}a.display.updateLineNumbers=null;r&&(Y(a,"update",a),a.display.viewFrom==g&&a.display.viewTo==h||Y(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo));return r}function da(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function ga(a){for(var b=a.display,d={},g={},h=b.gutters.firstChild,r=0;h;h=h.nextSibling,
++r)d[a.options.gutters[r]]=h.offsetLeft,g[a.options.gutters[r]]=h.offsetWidth;return{fixedPos:L(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:d,gutterWidth:g,wrapperWidth:b.wrapper.clientWidth}}function U(a,b,d){function g(b){var d=b.nextSibling;fa&&Ba&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return d}for(var h=a.display,r=a.options.lineNumbers,c=h.lineDiv,e=c.firstChild,k=h.view,h=h.viewFrom,p=0;p<k.length;p++){var f=k[p];if(!f.hidden)if(f.node){for(;e!=
f.node;)e=g(e);e=r&&null!=b&&b<=h&&f.lineNumber;f.changes&&(-1<ca(f.changes,"gutter")&&(e=!1),Ma(a,f,h,d));e&&(ab(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(F(a.options,h))));e=f.node.nextSibling}else{var m=mc(a,f,h,d);c.insertBefore(m,e)}h+=f.size}for(;e;)e=g(e)}function Ma(a,b,d,g){for(var h=0;h<b.changes.length;h++){var r=b.changes[h];if("text"==r){var r=b,c=r.text.className,e=T(a,r);r.text==r.node&&(r.node=e.pre);r.text.parentNode.replaceChild(e.pre,r.text);r.text=e.pre;e.bgClass!=
r.bgClass||e.textClass!=r.textClass?(r.bgClass=e.bgClass,r.textClass=e.textClass,Mb(r)):c&&(r.text.className=c)}else if("gutter"==r)Nb(a,b,d,g);else if("class"==r)Mb(b);else if("widget"==r){r=b;c=g;r.alignable&&(r.alignable=null);for(var e=r.node.firstChild,f=void 0;e;e=f)f=e.nextSibling,"CodeMirror-linewidget"==e.className&&r.node.removeChild(e);nc(r,c)}}b.changes=null}function ha(a){a.node==a.text&&(a.node=D("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,
a.text),a.node.appendChild(a.text),N&&8>R&&(a.node.style.zIndex=2));return a.node}function T(a,b){var d=a.display.externalMeasured;return d&&d.line==b.line?(a.display.externalMeasured=null,b.measure=d.measure,d.built):Pd(a,b)}function Mb(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var d=ha(a);a.background=d.insertBefore(D("div",
null,b),d.firstChild)}a.line.wrapClass?ha(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function Nb(a,b,d,g){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var h=b.line.gutterMarkers;if(a.options.lineNumbers||h){var r=ha(b),r=b.gutter=r.insertBefore(D("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px"),
b.text);!a.options.lineNumbers||h&&h["CodeMirror-linenumbers"]||(b.lineNumber=r.appendChild(D("div",F(a.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(h)for(b=0;b<a.options.gutters.length;++b){d=a.options.gutters[b];var c=h.hasOwnProperty(d)&&h[d];c&&r.appendChild(D("div",[c],"CodeMirror-gutter-elt","left: "+g.gutterLeft[d]+"px; width: "+g.gutterWidth[d]+"px"))}}}function mc(a,b,d,g){var h=
T(a,b);b.text=b.node=h.pre;h.bgClass&&(b.bgClass=h.bgClass);h.textClass&&(b.textClass=h.textClass);Mb(b);Nb(a,b,d,g);nc(b,g);return b.node}function nc(a,b){vb(a.line,a,b,!0);if(a.rest)for(var d=0;d<a.rest.length;d++)vb(a.rest[d],a,b,!1)}function vb(a,b,d,g){if(a.widgets){var h=ha(b),r=0;for(a=a.widgets;r<a.length;++r){var c=a[r],e=D("div",[c.node],"CodeMirror-linewidget");c.handleMouseEvents||(e.ignoreEvents=!0);var f=c,k=e,p=d;if(f.noHScroll){(b.alignable||(b.alignable=[])).push(k);var m=p.wrapperWidth;
k.style.left=p.fixedPos+"px";f.coverGutter||(m-=p.gutterTotalWidth,k.style.paddingLeft=p.gutterTotalWidth+"px");k.style.width=m+"px"}f.coverGutter&&(k.style.zIndex=5,k.style.position="relative",f.noHScroll||(k.style.marginLeft=-p.gutterTotalWidth+"px"));g&&c.above?h.insertBefore(e,b.gutter||b.text):h.appendChild(e);Y(c,"redraw")}}}function eb(a){return A(a.line,a.ch)}function fb(a,b){return 0>K(a,b)?b:a}function ra(a,b){return 0>K(a,b)?a:b}function ea(a,b){this.ranges=a;this.primIndex=b}function M(a,
b){this.anchor=a;this.head=b}function Z(a,b){var d=a[b];a.sort(function(a,b){return K(a.from(),b.from())});b=ca(a,d);for(d=1;d<a.length;d++){var g=a[d],h=a[d-1];if(0<=K(h.to(),g.from())){var r=ra(h.from(),g.from()),c=fb(h.to(),g.to()),g=h.empty()?g.from()==g.head:h.from()==h.head;d<=b&&--b;a.splice(--d,2,new M(g?c:r,g?r:c))}}return new ea(a,b)}function O(a,b){return new ea([new M(a,b||a)],0)}function E(a,b){if(b.line<a.first)return A(a.first,0);var d=a.first+a.size-1;if(b.line>d)return A(d,G(a,d).text.length);
var d=G(a,b.line).text.length,g=b.ch,d=null==g||g>d?A(b.line,d):0>g?A(b.line,0):b;return d}function W(a,b){return b>=a.first&&b<a.first+a.size}function pa(a,b,d,g){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,g&&(b=0>K(d,a),b!=0>K(g,a)?(a=d,d=g):b!=0>K(d,g)&&(d=g)),new M(a,d)):new M(g||d,d)}function wb(a,b,d,g){$(a,new ea([pa(a,a.sel.primary(),b,d)],0),g)}function xb(a,b,d){for(var g=[],h=0;h<a.sel.ranges.length;h++)g[h]=pa(a,a.sel.ranges[h],b[h],null);b=Z(g,a.sel.primIndex);$(a,b,d)}function oc(a,
b,d,g){var h=a.sel.ranges.slice(0);h[b]=d;$(a,Z(h,a.sel.primIndex),g)}function pc(a,b){var d={ranges:b.ranges,update:function(b){this.ranges=[];for(var d=0;d<b.length;d++)this.ranges[d]=new M(E(a,b[d].anchor),E(a,b[d].head))}};aa(a,"beforeSelectionChange",a,d);a.cm&&aa(a.cm,"beforeSelectionChange",a.cm,d);return d.ranges!=b.ranges?Z(d.ranges,d.ranges.length-1):b}function Ob(a,b,d){var g=a.history.done,h=Q(g);h&&h.ranges?(g[g.length-1]=b,yb(a,b,d)):$(a,b,d)}function $(a,b,d){yb(a,b,d);b=a.sel;var g=
a.cm?a.cm.curOp.id:NaN,h=a.history,r=d&&d.origin,c;if(!(c=g==h.lastOp)&&(c=r&&h.lastSelOrigin==r)&&!(c=h.lastModTime==h.lastSelTime&&h.lastOrigin==r)){c=Q(h.done);var e=r.charAt(0);c="*"==e||"+"==e&&c.ranges.length==b.ranges.length&&c.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}c?h.done[h.done.length-1]=b:qc(b,h.done);h.lastSelTime=+new Date;h.lastSelOrigin=r;h.lastOp=g;d&&!1!==d.clearRedo&&Qd(h.undone)}function yb(a,b,d){if(sa(a,
"beforeSelectionChange")||a.cm&&sa(a.cm,"beforeSelectionChange"))b=pc(a,b);var g=d&&d.bias||(0>K(b.primary().head,a.sel.primary().head)?-1:1);gb(a,ta(a,b,g,!0));d&&!1===d.scroll||!a.cm||zb(a.cm)}function gb(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,Rd(a.cm)),Y(a,"cursorActivity",a))}function Pb(a){gb(a,ta(a,a.sel,null,!1),hb)}function ta(a,b,d,g){for(var h,r=0;r<b.ranges.length;r++){var c=b.ranges[r],e=Ua(a,c.anchor,d,g),f=Ua(a,c.head,d,g);if(h||e!=
c.anchor||f!=c.head)h||(h=b.ranges.slice(0,r)),h[r]=new M(e,f)}return h?Z(h,b.primIndex):b}function Ua(a,b,d,g){var h=!1,r=b,c=d||1;a.cantEdit=!1;a:for(;;){var e=G(a,r.line);if(e.markedSpans)for(var f=0;f<e.markedSpans.length;++f){var k=e.markedSpans[f],p=k.marker;if((null==k.from||(p.inclusiveLeft?k.from<=r.ch:k.from<r.ch))&&(null==k.to||(p.inclusiveRight?k.to>=r.ch:k.to>r.ch))){if(g&&(aa(p,"beforeCursorEnter"),p.explicitlyCleared))if(e.markedSpans){--f;continue}else break;if(p.atomic){f=p.find(0>
c?-1:1);if(0==K(f,r)&&(f.ch+=c,0>f.ch?f=f.line>a.first?E(a,A(f.line-1)):null:f.ch>e.text.length&&(f=f.line<a.first+a.size-1?A(f.line+1,0):null),!f)){if(h){if(!g)return Ua(a,b,d,!0);a.cantEdit=!0;return A(a.first,0)}h=!0;f=b;c=-c}r=f;continue a}}}return r}}function db(a){for(var b=a.display,d=a.doc,g=document.createDocumentFragment(),h=document.createDocumentFragment(),r=0;r<d.sel.ranges.length;r++){var c=d.sel.ranges[r],e=c.empty();if(e||a.options.showCursorWhenSelecting){var f=a,k=g,p=na(f,c.head,
"div",null,null,!f.options.singleCursorHeightPerLine),m=k.appendChild(D("div","\u00a0","CodeMirror-cursor"));m.style.left=p.left+"px";m.style.top=p.top+"px";m.style.height=Math.max(0,p.bottom-p.top)*f.options.cursorHeight+"px";p.other&&(f=k.appendChild(D("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),f.style.display="",f.style.left=p.other.left+"px",f.style.top=p.other.top+"px",f.style.height=.85*(p.other.bottom-p.other.top)+"px")}e||rc(a,c,h)}a.options.moveInputWithCursor&&(d=na(a,
d.sel.primary().head,"div"),r=b.wrapper.getBoundingClientRect(),c=b.lineDiv.getBoundingClientRect(),a=Math.max(0,Math.min(b.wrapper.clientHeight-10,d.top+c.top-r.top)),d=Math.max(0,Math.min(b.wrapper.clientWidth-10,d.left+c.left-r.left)),b.inputDiv.style.top=a+"px",b.inputDiv.style.left=d+"px");Da(b.cursorDiv,g);Da(b.selectionDiv,h)}function rc(a,b,d){function g(a,b,d,g){0>b&&(b=0);b=Math.round(b);g=Math.round(g);e.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+
b+"px; width: "+(null==d?p-a:d)+"px; height: "+(g-b)+"px"))}function h(b,d,h){var r=G(c,b),e=r.text.length,f,m;Xe(Ea(r),d||0,null==h?e:h,function(c,P,l){var q=ib(a,A(b,c),"div",r,"left"),la,s;c==P?(la=q,l=s=q.left):(la=ib(a,A(b,P-1),"div",r,"right"),"rtl"==l&&(l=q,q=la,la=l),l=q.left,s=la.right);null==d&&0==c&&(l=k);3<la.top-q.top&&(g(l,q.top,null,q.bottom),l=k,q.bottom<la.top&&g(l,q.bottom,null,la.top));null==h&&P==e&&(s=p);if(!f||q.top<f.top||q.top==f.top&&q.left<f.left)f=q;if(!m||la.bottom>m.bottom||
la.bottom==m.bottom&&la.right>m.right)m=la;l<k+1&&(l=k);g(l,la.top,s-l,la.bottom)});return{start:f,end:m}}var r=a.display,c=a.doc,e=document.createDocumentFragment(),f=Ab(a.display),k=f.left,p=r.lineSpace.offsetWidth-f.right,r=b.from();b=b.to();if(r.line==b.line)h(r.line,r.ch,b.ch);else{var m=G(c,r.line),f=G(c,b.line),f=Fa(m)==Fa(f),r=h(r.line,r.ch,f?m.text.length+1:null).end;b=h(b.line,f?0:null,b.ch).start;f&&(r.top<b.top-2?(g(r.right,r.top,null,r.bottom),g(k,b.top,b.left,b.bottom)):g(r.right,r.top,
b.left-r.right,r.bottom));r.bottom<b.top&&g(k,r.bottom,null,b.top)}d.appendChild(e)}function Ga(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var d=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(d=!d)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function Ya(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,
xa(cd,a))}function cd(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var d=+new Date+a.options.workTime,g=Qb(b.mode,jb(a,b.frontier));Ka(a,function(){b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(h){if(b.frontier>=a.display.viewFrom){var r=h.styles,c=Sd(a,h,g,!0);h.styles=c.styles;var e=h.styleClasses;(c=c.classes)?h.styleClasses=c:e&&(h.styleClasses=null);e=!r||r.length!=h.styles.length||e!=c&&(!e||!c||e.bgClass!=c.bgClass||
e.textClass!=c.textClass);for(c=0;!e&&c<r.length;++c)e=r[c]!=h.styles[c];e&&Na(a,b.frontier,"text");h.stateAfter=Qb(b.mode,g)}else dd(a,h.text,g),h.stateAfter=0==b.frontier%5?Qb(b.mode,g):null;++b.frontier;if(+new Date>d)return Ya(a,a.options.workDelay),!0})})}}function ed(a,b,d){for(var g,h,r=a.doc,c=d?-1:b-(a.doc.mode.innerMode?1E3:100);b>c;--b){if(b<=r.first)return r.first;var e=G(r,b-1);if(e.stateAfter&&(!d||b<=r.frontier))return b;e=ua(e.text,null,a.options.tabSize);if(null==h||g>e)h=b-1,g=e}return h}
function jb(a,b,d){var g=a.doc,h=a.display;if(!g.mode.startState)return!0;var r=ed(a,b,d),c=r>g.first&&G(g,r-1).stateAfter,c=c?Qb(g.mode,c):Ye(g.mode);g.iter(r,b,function(d){dd(a,d.text,c);d.stateAfter=r==b-1||0==r%5||r>=h.viewFrom&&r<h.viewTo?Qb(g.mode,c):null;++r});d&&(g.frontier=r);return c}function Kb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Ab(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=Da(a.measure,D("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):
b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function sc(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[Lb(a,b)];var d=a.display.externalMeasured;if(d&&b>=d.lineN&&b<d.lineN+d.size)return d}function tb(a,b){var d=V(b),g=sc(a,d);g&&!g.text?g=null:g&&g.changes&&Ma(a,g,d,ga(a));if(!g){var h;h=Fa(b);g=V(h);h=a.display.externalMeasured=new Td(a.doc,h,g);h.lineN=g;g=h.built=Pd(a,h);h.text=
g.pre;Da(a.display.lineMeasure,g.pre);g=h}a:if(h=g,h.line==b)d={map:h.measure.map,cache:h.measure.cache};else{for(var r=0;r<h.rest.length;r++)if(h.rest[r]==b){d={map:h.measure.maps[r],cache:h.measure.caches[r]};break a}for(r=0;r<h.rest.length;r++)if(V(h.rest[r])>d){d={map:h.measure.maps[r],cache:h.measure.caches[r],before:!0};break a}d=void 0}return{line:b,view:g,rect:null,map:d.map,cache:d.cache,before:d.before,hasHeights:!1}}function Ta(a,b,d,g,h){b.before&&(d=-1);var r=d+(g||"");if(b.cache.hasOwnProperty(r))a=
b.cache[r];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.hasHeights){var c=b.view,e=b.rect,f=a.options.lineWrapping,k=f&&a.display.scroller.clientWidth;if(!c.measure.heights||f&&c.measure.width!=k){var p=c.measure.heights=[];if(f)for(c.measure.width=k,c=c.text.firstChild.getClientRects(),f=0;f<c.length-1;f++){var k=c[f],m=c[f+1];2<Math.abs(k.bottom-m.bottom)&&p.push((k.bottom+m.top)/2-e.top)}p.push(e.bottom-e.top)}b.hasHeights=!0}var e=g,p=b.map,l,q,s,n;for(g=0;g<p.length;g+=3){var y=
p[g],x=p[g+1];if(d<y)q=0,s=1,n="left";else if(d<x)q=d-y,s=q+1;else if(g==p.length-3||d==x&&p[g+3]>d)s=x-y,q=s-1,d>=x&&(n="right");if(null!=q){l=p[g+2];y==x&&e==(l.insertLeft?"left":"right")&&(n=e);if("left"==e&&0==q)for(;g&&p[g-2]==p[g-3]&&p[g-1].insertLeft;)l=p[(g-=3)+2],n="left";if("right"==e&&q==x-y)for(;g<p.length-3&&p[g+3]==p[g+4]&&!p[g+5].insertLeft;)l=p[(g+=3)+2],n="right";break}}if(3==l.nodeType){for(;q&&Rb(b.line.text.charAt(y+q));)--q;for(;y+s<x&&Rb(b.line.text.charAt(y+s));)++s;if(N&&9>
R&&0==q&&s==x-y)d=l.parentNode.getBoundingClientRect();else if(N&&a.options.lineWrapping){var v=Sb(l,q,s).getClientRects();d=v.length?v["right"==e?v.length-1:0]:fd}else d=Sb(l,q,s).getBoundingClientRect()||fd}else 0<q&&(n=e="right"),d=a.options.lineWrapping&&1<(v=l.getClientRects()).length?v["right"==e?v.length-1:0]:l.getBoundingClientRect();!(N&&9>R)||q||d&&(d.left||d.right)||(d=(l=l.parentNode.getClientRects()[0])?{left:l.left,right:l.left+Za(a.display),top:l.top,bottom:l.bottom}:fd);l=d.top-b.rect.top;
q=d.bottom-b.rect.top;v=(l+q)/2;s=b.view.measure.heights;for(g=0;g<s.length-1&&!(v<s[g]);g++);n={left:("right"==n?d.right:d.left)-b.rect.left,right:("left"==n?d.left:d.right)-b.rect.left,top:g?s[g-1]:0,bottom:s[g]};d.left||d.right||(n.bogus=!0);a.options.singleCursorHeightPerLine||(n.rtop=l,n.rbottom=q);a=n;a.bogus||(b.cache[r]=a)}return{left:a.left,right:a.right,top:h?a.rtop:a.top,bottom:h?a.rbottom:a.bottom}}function Oa(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=
0;b<a.rest.length;b++)a.measure.caches[b]={}}function Tb(a){a.display.externalMeasure=null;ab(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Oa(a.display.view[b])}function Aa(a){Tb(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function Ha(a,b,d,g){if(b.widgets)for(var h=0;h<b.widgets.length;++h)if(b.widgets[h].above){var r=Ub(b.widgets[h]);d.top+=r;d.bottom+=r}if("line"==
g)return d;g||(g="local");b=Ca(b);b="local"==g?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==g||"window"==g)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==g?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),g=a.left+("window"==g?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),d.left+=g,d.right+=g;d.top+=b;d.bottom+=b;return d}function Vb(a,b,d){if("div"==d)return b;var g=b.left;b=b.top;"page"==d?(g-=window.pageXOffset||
(document.documentElement||document.body).scrollLeft,b-=window.pageYOffset||(document.documentElement||document.body).scrollTop):"local"!=d&&d||(d=a.display.sizer.getBoundingClientRect(),g+=d.left,b+=d.top);a=a.display.lineSpace.getBoundingClientRect();return{left:g-a.left,top:b-a.top}}function ib(a,b,d,g,h){g||(g=G(a.doc,b.line));var r=g;b=b.ch;g=Ta(a,tb(a,g),b,h);return Ha(a,r,g,d)}function na(a,b,d,g,h,r){function c(b,e){var f=Ta(a,h,b,e?"right":"left",r);e?f.left=f.right:f.right=f.left;return Ha(a,
g,f,d)}function e(a,b){var d=f[b],g=d.level%2;a==gd(d)&&b&&d.level<f[b-1].level?(d=f[--b],a=hd(d)-(d.level%2?0:1),g=!0):a==hd(d)&&b<f.length-1&&d.level<f[b+1].level&&(d=f[++b],a=gd(d)-d.level%2,g=!1);return g&&a==d.to&&a>d.from?c(a-1):c(a,g)}g=g||G(a.doc,b.line);h||(h=tb(a,g));var f=Ea(g);b=b.ch;if(!f)return c(b);var p=id(f,b),p=e(b,p);null!=Wb&&(p.other=e(b,Wb));return p}function tc(a,b){var d=0;b=E(a.doc,b);a.options.lineWrapping||(d=Za(a.display)*b.ch);var g=G(a.doc,b.line),h=Ca(g)+a.display.lineSpace.offsetTop;
return{left:d,right:d,top:h,bottom:h+g.height}}function Ia(a,b,d,g){a=A(a,b);a.xRel=g;d&&(a.outside=!0);return a}function Va(a,b,d){var g=a.doc;d+=a.display.viewOffset;if(0>d)return Ia(g.first,0,!0,-1);var h=cb(g,d),r=g.first+g.size-1;if(h>r)return Ia(g.first+g.size-1,G(g,r).text.length,!0,1);0>b&&(b=0);for(g=G(g,h);;)if(h=jd(a,g,h,b,d),r=(g=bb(g,!1))&&g.find(0,!0),g&&(h.ch>r.from.ch||h.ch==r.from.ch&&0<h.xRel))h=V(g=r.to.line);else return h}function jd(a,b,d,g,h){function r(g){g=na(a,A(d,g),"line",
b,p);e=!0;if(c>g.bottom)return g.left-f;if(c<g.top)return g.left+f;e=!1;return g.left}var c=h-Ca(b),e=!1,f=2*a.display.wrapper.clientWidth,p=tb(a,b),k=Ea(b),m=b.text.length;h=uc(b);var l=vc(b),q=r(h),s=e,n=r(l),y=e;if(g>n)return Ia(d,l,y,1);for(;;){if(k?l==h||l==kd(b,h,1):1>=l-h){k=g<q||g-q<=n-g?h:l;for(g-=k==h?q:n;Rb(b.text.charAt(k));)++k;return Ia(d,k,k==h?s:y,-1>g?-1:1<g?1:0)}var x=Math.ceil(m/2),v=h+x;if(k)for(var v=h,H=0;H<x;++H)v=kd(b,v,1);H=r(v);if(H>g){l=v;n=H;if(y=e)n+=1E3;m=x}else h=v,
q=H,s=e,m-=x}}function C(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==kb){kb=D("pre");for(var b=0;49>b;++b)kb.appendChild(document.createTextNode("x")),kb.appendChild(D("br"));kb.appendChild(document.createTextNode("x"))}Da(a.measure,kb);b=kb.offsetHeight/50;3<b&&(a.cachedTextHeight=b);ab(a.measure);return b||1}function Za(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=D("span","xxxxxxxxxx"),d=D("pre",[b]);Da(a.measure,d);b=b.getBoundingClientRect();b=(b.right-b.left)/
10;2<b&&(a.cachedCharWidth=b);return b||10}function H(a){a.curOp={viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ze};wc++||(Wa=[])}function Bb(a){var b=a.curOp,d=a.doc,g=a.display;a.curOp=null;b.updateMaxLine&&q(a);if(b.viewChanged||b.forceUpdate||null!=b.scrollTop||b.scrollToPos&&(b.scrollToPos.from.line<g.viewFrom||b.scrollToPos.to.line>=
g.viewTo)||g.maxLineChanged&&a.options.lineWrapping){var h=S(a,{top:b.scrollTop,ensure:b.scrollToPos},b.forceUpdate);a.display.scroller.offsetHeight&&(a.doc.scrollTop=a.display.scroller.scrollTop)}!h&&b.selectionChanged&&db(a);h||b.startHeight==a.doc.height||y(a);null==g.wheelStartX||null==b.scrollTop&&null==b.scrollLeft&&!b.scrollToPos||(g.wheelStartX=g.wheelStartY=null);null!=b.scrollTop&&g.scroller.scrollTop!=b.scrollTop&&(h=Math.max(0,Math.min(g.scroller.scrollHeight-g.scroller.clientHeight,b.scrollTop)),
g.scroller.scrollTop=g.scrollbarV.scrollTop=d.scrollTop=h);null!=b.scrollLeft&&g.scroller.scrollLeft!=b.scrollLeft&&(h=Math.max(0,Math.min(g.scroller.scrollWidth-g.scroller.clientWidth,b.scrollLeft)),g.scroller.scrollLeft=g.scrollbarH.scrollLeft=d.scrollLeft=h,B(a));if(b.scrollToPos){a:{d=E(a.doc,b.scrollToPos.from);g=E(a.doc,b.scrollToPos.to);h=b.scrollToPos.margin;for(null==h&&(h=0);;){var r=!1,c=na(a,d),e=g&&g!=d?na(a,g):c,e=xc(a,Math.min(c.left,e.left),Math.min(c.top,e.top)-h,Math.max(c.left,
e.left),Math.max(c.bottom,e.bottom)+h),f=a.doc.scrollTop,p=a.doc.scrollLeft;null!=e.scrollTop&&(Xb(a,e.scrollTop),1<Math.abs(a.doc.scrollTop-f)&&(r=!0));null!=e.scrollLeft&&(ub(a,e.scrollLeft),1<Math.abs(a.doc.scrollLeft-p)&&(r=!0));if(!r){d=c;break a}}d=void 0}b.scrollToPos.isCursor&&a.state.focused&&(g=d,h=a.display,r=h.sizer.getBoundingClientRect(),d=null,0>g.top+r.top?d=!0:g.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(d=!1),null==d||$e||(g=D("div","\u200b",null,
"position: absolute; top: "+(g.top-h.viewOffset-a.display.lineSpace.offsetTop)+"px; height: "+(g.bottom-g.top+qa)+"px; left: "+g.left+"px; width: 2px;"),a.display.lineSpace.appendChild(g),g.scrollIntoView(d),a.display.lineSpace.removeChild(g)))}b.selectionChanged&&Ga(a);a.state.focused&&b.updateInput&&ya(a,b.typing);d=b.maybeHiddenMarkers;g=b.maybeUnhiddenMarkers;if(d)for(h=0;h<d.length;++h)d[h].lines.length||aa(d[h],"hide");if(g)for(h=0;h<g.length;++h)g[h].lines.length&&aa(g[h],"unhide");var k;--wc||
(k=Wa,Wa=null);b.changeObjs&&aa(a,"changes",a,b.changeObjs);if(k)for(h=0;h<k.length;++h)k[h]();if(b.cursorActivityHandlers)for(h=0;h<b.cursorActivityHandlers.length;h++)b.cursorActivityHandlers[h](a)}function Ka(a,b){if(a.curOp)return b();H(a);try{return b()}finally{Bb(a)}}function X(a,b){return function(){if(a.curOp)return b.apply(a,arguments);H(a);try{return b.apply(a,arguments)}finally{Bb(a)}}}function ba(a){return function(){if(this.curOp)return a.apply(this,arguments);H(this);try{return a.apply(this,
arguments)}finally{Bb(this)}}}function ia(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);H(b);try{return a.apply(this,arguments)}finally{Bb(b)}}}function Td(a,b,d){for(var g=this.line=b,h;g=bb(g,!1);)g=g.find(1,!0).line,(h||(h=[])).push(g);this.size=(this.rest=h)?V(Q(this.rest))-d+1:1;this.node=this.text=null;this.hidden=$a(a,b)}function lc(a,b,d){var g=[],h;for(h=b;h<d;)b=new Td(a.doc,G(a.doc,h),h),h+=b.size,g.push(b);return g}function oa(a,b,d,g){null==b&&(b=a.doc.first);
null==d&&(d=a.doc.first+a.doc.size);g||(g=0);var h=a.display;g&&d<h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>b)&&(h.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=h.viewTo)Sa&&bd(a.doc,b)<h.viewTo&&Ra(a);else if(d<=h.viewFrom)Sa&&Od(a.doc,d+g)>h.viewFrom?Ra(a):(h.viewFrom+=g,h.viewTo+=g);else if(b<=h.viewFrom&&d>=h.viewTo)Ra(a);else if(b<=h.viewFrom){var r=yc(a,d,d+g,1);r?(h.view=h.view.slice(r.index),h.viewFrom=r.lineN,h.viewTo+=g):Ra(a)}else if(d>=h.viewTo)(r=yc(a,b,b,-1))?(h.view=
h.view.slice(0,r.index),h.viewTo=r.lineN):Ra(a);else{var r=yc(a,b,b,-1),c=yc(a,d,d+g,1);r&&c?(h.view=h.view.slice(0,r.index).concat(lc(a,r.lineN,c.lineN)).concat(h.view.slice(c.index)),h.viewTo+=g):Ra(a)}if(a=h.externalMeasured)d<a.lineN?a.lineN+=g:b<a.lineN+a.size&&(h.externalMeasured=null)}function Na(a,b,d){a.curOp.viewChanged=!0;var g=a.display,h=a.display.externalMeasured;h&&b>=h.lineN&&b<h.lineN+h.size&&(g.externalMeasured=null);b<g.viewFrom||b>=g.viewTo||(a=g.view[Lb(a,b)],null!=a.node&&(a=
a.changes||(a.changes=[]),-1==ca(a,d)&&a.push(d)))}function Ra(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Lb(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>b)return null;for(var d=a.display.view,g=0;g<d.length;g++)if(b-=d[g].size,0>b)return g}function yc(a,b,d,g){var h=Lb(a,b),r=a.display.view;if(!Sa||d==a.doc.first+a.doc.size)return{index:h,lineN:d};for(var c=0,e=a.display.viewFrom;c<h;c++)e+=r[c].size;if(e!=b){if(0<g){if(h==
r.length-1)return null;b=e+r[h].size-b;h++}else b=e-b;d+=b}for(;bd(a.doc,d)!=d;){if(h==(0>g?0:r.length-1))return null;d+=g*r[h-(0>g?1:0)].size;h+=g}return{index:h,lineN:d}}function Nd(a){a=a.display.view;for(var b=0,d=0;d<a.length;d++){var g=a[d];g.hidden||g.node&&!g.changes||++b}return b}function zc(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){ld(a);a.state.focused&&zc(a)})}function Yb(a){function b(){ld(a)||d?(a.display.pollingFast=!1,zc(a)):(d=!0,a.display.poll.set(60,
b))}var d=!1;a.display.pollingFast=!0;a.display.poll.set(20,b)}function ld(a){var b=a.display.input,d=a.display.prevInput,g=a.doc;if(!a.state.focused||af(b)&&!d||Ac(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var h=b.value;if(h==d&&!a.somethingSelected())return!1;if(N&&9<=R&&a.display.inputHasSelection===h)return ya(a),!1;var r=!a.curOp;r&&H(a);a.display.shift=!1;8203!=h.charCodeAt(0)||g.sel!=
a.display.selForContextMenu||d||(d="\u200b");for(var c=0,e=Math.min(d.length,h.length);c<e&&d.charCodeAt(c)==h.charCodeAt(c);)++c;for(var e=h.slice(c),f=Cb(e),p=a.state.pasteIncoming&&1<f.length&&g.sel.ranges.length==f.length,k=g.sel.ranges.length-1;0<=k;k--){var l=g.sel.ranges[k],m=l.from(),q=l.to();c<d.length?m=A(m.line,m.ch-(d.length-c)):a.state.overwrite&&l.empty()&&!a.state.pasteIncoming&&(q=A(q.line,Math.min(G(g,q.line).text.length,q.ch+Q(f).length)));var s=a.curOp.updateInput,q={from:m,to:q,
text:p?[f[k]]:f,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};Db(a.doc,q);Y(a,"inputRead",a,q);if(e&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&100>l.head.ch&&(!k||g.sel.ranges[k-1].head.line!=l.head.line))if(m=a.getModeAt(l.head),m.electricChars)for(q=0;q<m.electricChars.length;q++){if(-1<e.indexOf(m.electricChars.charAt(q))){Zb(a,l.head.line,"smart");break}}else m.electricInput&&(q=lb(q),m.electricInput.test(G(g,q.line).text.slice(0,q.ch))&&
Zb(a,l.head.line,"smart"))}zb(a);a.curOp.updateInput=s;a.curOp.typing=!0;1E3<h.length||-1<h.indexOf("\n")?b.value=a.display.prevInput="":a.display.prevInput=h;r&&Bb(a);a.state.pasteIncoming=a.state.cutIncoming=!1;return!0}function ya(a,b){var d,g,h=a.doc;a.somethingSelected()?(a.display.prevInput="",d=h.sel.primary(),g=(d=Ud&&(100<d.to().line-d.from().line||1E3<(g=a.getSelection()).length))?"-":g||a.getSelection(),a.display.input.value=g,a.state.focused&&$b(a.display.input),N&&9<=R&&(a.display.inputHasSelection=
g)):b||(a.display.prevInput=a.display.input.value="",N&&9<=R&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=d}function ma(a){"nocursor"==a.options.readOnly||Xc&&Qa()==a.display.input||a.display.input.focus()}function md(a){a.state.focused||(ma(a),Zc(a))}function Ac(a){return a.options.readOnly||a.doc.cantEdit}function Te(a){function b(){a.state.focused&&setTimeout(xa(ma,a),0)}function d(b){Ja(a,b)||nd(b)}function g(b){if(a.somethingSelected())h.inaccurateSelection&&(h.prevInput=
"",h.inaccurateSelection=!1,h.input.value=a.getSelection(),$b(h.input));else{for(var d="",g=[],c=0;c<a.doc.sel.ranges.length;c++){var e=a.doc.sel.ranges[c].head.line,e={anchor:A(e,0),head:A(e+1,0)};g.push(e);d+=a.getRange(e.anchor,e.head)}"cut"==b.type?a.setSelections(g,null,hb):(h.prevInput="",h.input.value=d,$b(h.input))}"cut"==b.type&&(a.state.cutIncoming=!0)}var h=a.display;J(h.scroller,"mousedown",X(a,Md));N&&11>R?J(h.scroller,"dblclick",X(a,function(b){if(!Ja(a,b)){var d=Eb(a,b);!d||od(a,b,
"gutterClick",!0,Y)||mb(a.display,b)||(ja(b),b=pd(a,d),wb(a.doc,b.anchor,b.head))}})):J(h.scroller,"dblclick",function(b){Ja(a,b)||ja(b)});J(h.lineSpace,"selectstart",function(a){mb(h,a)||ja(a)});qd||J(h.scroller,"contextmenu",function(b){Vd(a,b)});J(h.scroller,"scroll",function(){h.scroller.clientHeight&&(Xb(a,h.scroller.scrollTop),ub(a,h.scroller.scrollLeft,!0),aa(a,"scroll",a))});J(h.scrollbarV,"scroll",function(){h.scroller.clientHeight&&Xb(a,h.scrollbarV.scrollTop)});J(h.scrollbarH,"scroll",
function(){h.scroller.clientHeight&&ub(a,h.scrollbarH.scrollLeft)});J(h.scroller,"mousewheel",function(b){Wd(a,b)});J(h.scroller,"DOMMouseScroll",function(b){Wd(a,b)});J(h.scrollbarH,"mousedown",b);J(h.scrollbarV,"mousedown",b);J(h.wrapper,"scroll",function(){h.wrapper.scrollTop=h.wrapper.scrollLeft=0});J(h.input,"keyup",X(a,Xd));J(h.input,"input",function(){N&&9<=R&&a.display.inputHasSelection&&(a.display.inputHasSelection=null);Yb(a)});J(h.input,"keydown",X(a,Yd));J(h.input,"keypress",X(a,Zd));
J(h.input,"focus",xa(Zc,a));J(h.input,"blur",xa(kc,a));a.options.dragDrop&&(J(h.scroller,"dragstart",function(b){if(N&&(!a.state.draggingText||100>+new Date-$d))nd(b);else if(!Ja(a,b)&&!mb(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!ae)){var d=D("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";va&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop);
b.dataTransfer.setDragImage(d,0,0);va&&d.parentNode.removeChild(d)}}),J(h.scroller,"dragenter",d),J(h.scroller,"dragover",d),J(h.scroller,"drop",X(a,bf)));J(h.scroller,"paste",function(b){mb(h,b)||(a.state.pasteIncoming=!0,ma(a),Yb(a))});J(h.input,"paste",function(){if(fa&&!a.state.fakedLastChar&&!(200>new Date-a.state.lastMiddleDown)){var b=h.input.selectionStart,d=h.input.selectionEnd;h.input.value+="$";h.input.selectionEnd=d;h.input.selectionStart=b;a.state.fakedLastChar=!0}a.state.pasteIncoming=
!0;Yb(a)});J(h.input,"cut",g);J(h.input,"copy",g);ad&&J(h.sizer,"mouseup",function(){Qa()==h.input&&h.input.blur();ma(a)})}function cf(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null;a.setSize()}function mb(a,b){for(var d=b.target||b.srcElement;d!=a.wrapper;d=d.parentNode)if(!d||d.ignoreEvents||d.parentNode==a.sizer&&d!=a.mover)return!0}function Eb(a,b,d,g){var h=a.display;if(!d&&(d=b.target||b.srcElement,d==h.scrollbarH||d==h.scrollbarV||d==h.scrollbarFiller||d==h.gutterFiller))return null;
var r,c,h=h.lineSpace.getBoundingClientRect();try{r=b.clientX-h.left,c=b.clientY-h.top}catch(e){return null}b=Va(a,r,c);var f;g&&1==b.xRel&&(f=G(a.doc,b.line).text).length==b.ch&&(g=ua(f,f.length,a.options.tabSize)-f.length,b=A(b.line,Math.max(0,Math.round((r-Ab(a.display).left)/Za(a.display))-g)));return b}function Md(a){if(!Ja(this,a)){var b=this.display;b.shift=a.shiftKey;if(mb(b,a))fa||(b.scroller.draggable=!1,setTimeout(function(){b.scroller.draggable=!0},100));else if(!od(this,a,"gutterClick",
!0,Y)){var d=Eb(this,a);window.focus();switch(be(a)){case 1:d?df(this,a,d):(a.target||a.srcElement)==b.scroller&&ja(a);break;case 2:fa&&(this.state.lastMiddleDown=+new Date);d&&wb(this.doc,d);setTimeout(xa(ma,this),20);ja(a);break;case 3:qd&&Vd(this,a)}}}}function df(a,b,d){setTimeout(xa(md,a),0);var g=+new Date,h;Bc&&Bc.time>g-400&&0==K(Bc.pos,d)?h="triple":Cc&&Cc.time>g-400&&0==K(Cc.pos,d)?(h="double",Bc={time:g,pos:d}):(h="single",Cc={time:g,pos:d});var g=a.doc.sel,r=Ba?b.metaKey:b.ctrlKey;a.options.dragDrop&&
ef&&!Ac(a)&&"single"==h&&-1<g.contains(d)&&g.somethingSelected()?ff(a,b,d,r):gf(a,b,d,h,r)}function ff(a,b,d,g){var h=a.display,r=X(a,function(c){fa&&(h.scroller.draggable=!1);a.state.draggingText=!1;Pa(document,"mouseup",r);Pa(h.scroller,"drop",r);10>Math.abs(b.clientX-c.clientX)+Math.abs(b.clientY-c.clientY)&&(ja(c),g||wb(a.doc,d),ma(a),N&&9==R&&setTimeout(function(){document.body.focus();ma(a)},20))});fa&&(h.scroller.draggable=!0);a.state.draggingText=r;h.scroller.dragDrop&&h.scroller.dragDrop();
J(document,"mouseup",r);J(h.scroller,"drop",r)}function gf(a,b,d,g,h){function r(b){if(0!=K(q,b))if(q=b,"rect"==g){for(var h=[],r=a.options.tabSize,c=ua(G(k,d.line).text,d.ch,r),e=ua(G(k,b.line).text,b.ch,r),f=Math.min(c,e),c=Math.max(c,e),e=Math.min(d.line,b.line),s=Math.min(a.lastLine(),Math.max(d.line,b.line));e<=s;e++){var n=G(k,e).text,P=ce(n,f,r);f==c?h.push(new M(A(e,P),A(e,P))):n.length>P&&h.push(new M(A(e,P),A(e,ce(n,c,r))))}h.length||h.push(new M(d,d));$(k,Z(l.ranges.slice(0,m).concat(h),
m),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else h=p,r=h.anchor,f=b,"single"!=g&&(b="double"==g?pd(a,b):new M(A(b.line,0),E(k,A(b.line+1,0))),0<K(b.anchor,r)?(f=b.head,r=ra(h.from(),b.anchor)):(f=b.anchor,r=fb(h.to(),b.head))),h=l.ranges.slice(0),h[m]=new M(E(k,r),f),$(k,Z(h,m),rd)}function c(b){var d=++n,h=Eb(a,b,!0,"rect"==g);if(h)if(0!=K(h,q)){md(a);r(h);var e=x(f,k);(h.line>=e.to||h.line<e.from)&&setTimeout(X(a,function(){n==d&&c(b)}),150)}else{var p=b.clientY<s.top?-20:b.clientY>s.bottom?
20:0;p&&setTimeout(X(a,function(){n==d&&(f.scroller.scrollTop+=p,c(b))}),50)}}function e(b){n=Infinity;ja(b);ma(a);Pa(document,"mousemove",y);Pa(document,"mouseup",v);k.history.lastSelOrigin=null}var f=a.display,k=a.doc;ja(b);var p,m,l=k.sel;h&&!b.shiftKey?(m=k.sel.contains(d),p=-1<m?k.sel.ranges[m]:new M(d,d)):p=k.sel.primary();b.altKey?(g="rect",h||(p=new M(d,d)),d=Eb(a,b,!0,!0),m=-1):"double"==g?(b=pd(a,d),p=a.display.shift||k.extend?pa(k,p,b.anchor,b.head):b):"triple"==g?(b=new M(A(d.line,0),
E(k,A(d.line+1,0))),p=a.display.shift||k.extend?pa(k,p,b.anchor,b.head):b):p=pa(k,p,d);h?-1<m?oc(k,m,p,rd):(m=k.sel.ranges.length,$(k,Z(k.sel.ranges.concat([p]),m),{scroll:!1,origin:"*mouse"})):(m=0,$(k,new ea([p],0),rd),l=k.sel);var q=d,s=f.wrapper.getBoundingClientRect(),n=0,y=X(a,function(a){be(a)?c(a):e(a)}),v=X(a,e);J(document,"mousemove",y);J(document,"mouseup",v)}function od(a,b,d,g,h){try{var r=b.clientX,c=b.clientY}catch(e){return!1}if(r>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;
g&&ja(b);g=a.display;var f=g.lineDiv.getBoundingClientRect();if(c>f.bottom||!sa(a,d))return sd(b);c-=f.top-g.viewOffset;for(f=0;f<a.options.gutters.length;++f){var k=g.gutters.childNodes[f];if(k&&k.getBoundingClientRect().right>=r)return r=cb(a.doc,c),h(a,d,a,r,a.options.gutters[f],b),sd(b)}}function bf(a){var b=this;if(!Ja(b,a)&&!mb(b.display,a)){ja(a);N&&($d=+new Date);var d=Eb(b,a,!0),g=a.dataTransfer.files;if(d&&!Ac(b))if(g&&g.length&&window.FileReader&&window.File){var h=g.length,r=Array(h),
c=0;a=function(a,g){var e=new FileReader;e.onload=X(b,function(){r[g]=e.result;if(++c==h){d=E(b.doc,d);var a={from:d,to:d,text:Cb(r.join("\n")),origin:"paste"};Db(b.doc,a);Ob(b.doc,O(d,lb(a)))}});e.readAsText(a)};for(var e=0;e<h;++e)a(g[e],e)}else if(b.state.draggingText&&-1<b.doc.sel.contains(d))b.state.draggingText(a),setTimeout(xa(ma,b),20);else try{if(r=a.dataTransfer.getData("Text")){if(b.state.draggingText&&(Ba?!a.metaKey:!a.ctrlKey))var f=b.listSelections();yb(b.doc,O(d,d));if(f)for(e=0;e<
f.length;++e)Dc(b.doc,"",f[e].anchor,f[e].head,"drag");b.replaceSelection(r,"around","paste");ma(b)}}catch(k){}}}function Xb(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,ac||S(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),ac&&S(a),Ya(a,100))}function ub(a,b,d){(d?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),
a.doc.scrollLeft=b,B(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function Wd(a,b){var d=b.wheelDeltaX,g=b.wheelDeltaY;null==d&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(d=b.detail);null==g&&b.detail&&b.axis==b.VERTICAL_AXIS?g=b.detail:null==g&&(g=b.wheelDelta);var h=a.display,r=h.scroller;if(d&&r.scrollWidth>r.clientWidth||g&&r.scrollHeight>r.clientHeight){if(g&&Ba&&fa){var c=b.target,e=h.view;a:for(;c!=
r;c=c.parentNode)for(var f=0;f<e.length;f++)if(e[f].node==c){a.display.currentWheelTarget=c;break a}}!d||ac||va||null==wa?(g&&null!=wa&&(c=g*wa,e=a.doc.scrollTop,f=e+h.wrapper.clientHeight,0>c?e=Math.max(0,e+c-50):f=Math.min(a.doc.height,f+c+50),S(a,{top:e,bottom:f})),20>Ec&&(null==h.wheelStartX?(h.wheelStartX=r.scrollLeft,h.wheelStartY=r.scrollTop,h.wheelDX=d,h.wheelDY=g,setTimeout(function(){if(null!=h.wheelStartX){var a=r.scrollLeft-h.wheelStartX,b=r.scrollTop-h.wheelStartY,a=b&&h.wheelDY&&b/h.wheelDY||
a&&h.wheelDX&&a/h.wheelDX;h.wheelStartX=h.wheelStartY=null;a&&(wa=(wa*Ec+a)/(Ec+1),++Ec)}},200)):(h.wheelDX+=d,h.wheelDY+=g))):(g&&Xb(a,Math.max(0,Math.min(r.scrollTop+g*wa,r.scrollHeight-r.clientHeight))),ub(a,Math.max(0,Math.min(r.scrollLeft+d*wa,r.scrollWidth-r.clientWidth))),ja(b),h.wheelStartX=null)}}function Fc(a,b,d){if("string"==typeof b&&(b=Gc[b],!b))return!1;a.display.pollingFast&&ld(a)&&(a.display.pollingFast=!1);var g=a.display.shift,h=!1;try{Ac(a)&&(a.state.suppressEdits=!0),d&&(a.display.shift=
!1),h=b(a)!=de}finally{a.display.shift=g,a.state.suppressEdits=!1}return h}function ee(a){var b=a.state.keyMaps.slice(0);a.options.extraKeys&&b.push(a.options.extraKeys);b.push(a.options.keyMap);return b}function fe(a,b){var d=td(a.options.keyMap),g=d.auto;clearTimeout(ge);g&&!hf(b)&&(ge=setTimeout(function(){td(a.options.keyMap)==d&&(a.options.keyMap=g.call?g.call(null,a):g,l(a))},50));var h=jf(b,!0),r=!1;if(!h)return!1;r=ee(a);if(r=b.shiftKey?Hc("Shift-"+h,r,function(b){return Fc(a,b,!0)})||Hc(h,
r,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return Fc(a,b)}):Hc(h,r,function(b){return Fc(a,b)}))ja(b),Ga(a),Y(a,"keyHandled",a,h,b);return r}function kf(a,b,d){var g=Hc("'"+d+"'",ee(a),function(b){return Fc(a,b,!0)});g&&(ja(b),Ga(a),Y(a,"keyHandled",a,"'"+d+"'",b));return g}function Yd(a){md(this);if(!Ja(this,a)){N&&11>R&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var d=fe(this,a);va&&(ud=d?b:null,!d&&88==b&&!Ud&&(Ba?a.metaKey:a.ctrlKey)&&
this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||lf(this)}}function lf(a){function b(a){18!=a.keyCode&&a.altKey||(Ic(d,"CodeMirror-crosshair"),Pa(document,"keyup",b),Pa(document,"mouseover",b))}var d=a.display.lineDiv;Jc(d,"CodeMirror-crosshair");J(document,"keyup",b);J(document,"mouseover",b)}function Xd(a){Ja(this,a)||16!=a.keyCode||(this.doc.sel.shift=!1)}function Zd(a){if(!(Ja(this,a)||a.ctrlKey||Ba&&a.metaKey)){var b=a.keyCode,d=a.charCode;
va&&b==ud?(ud=null,ja(a)):(va&&(!a.which||10>a.which)||ad)&&fe(this,a)||(b=String.fromCharCode(null==d?b:d),kf(this,a,b)||(N&&9<=R&&(this.display.inputHasSelection=null),Yb(this)))}}function Zc(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(aa(a,"focus",a),a.state.focused=!0,Jc(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(ya(a),fa&&setTimeout(xa(ya,a,!0),0))),zc(a),Ga(a))}function kc(a){a.state.focused&&(aa(a,"blur",a),a.state.focused=!1,Ic(a.display.wrapper,
"CodeMirror-focused"));clearInterval(a.display.blinker);setTimeout(function(){a.state.focused||(a.display.shift=!1)},150)}function Vd(a,b){function d(){if(null!=h.input.selectionStart){var b=a.somethingSelected(),d=h.input.value="\u200b"+(b?h.input.value:"");h.prevInput=b?"":"\u200b";h.input.selectionStart=1;h.input.selectionEnd=d.length;h.selForContextMenu=a.doc.sel}}function g(){h.inputDiv.style.position="relative";h.input.style.cssText=e;N&&9>R&&(h.scrollbarV.scrollTop=h.scroller.scrollTop=c);
zc(a);if(null!=h.input.selectionStart){(!N||N&&9>R)&&d();var b=0,g=function(){h.selForContextMenu==a.doc.sel&&0==h.input.selectionStart?X(a,Gc.selectAll)(a):10>b++?h.detectingSelectAll=setTimeout(g,500):ya(a)};h.detectingSelectAll=setTimeout(g,200)}}if(!Ja(a,b,"contextmenu")){var h=a.display;if(!mb(h,b)&&!mf(a,b)){var r=Eb(a,b),c=h.scroller.scrollTop;if(r&&!va){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(r)&&X(a,$)(a.doc,O(r),hb);var e=h.input.style.cssText;h.inputDiv.style.position=
"absolute";h.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(N?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";ma(a);ya(a);a.somethingSelected()||(h.input.value=h.prevInput=" ");h.selForContextMenu=a.doc.sel;clearTimeout(h.detectingSelectAll);N&&9<=R&&d();if(qd){nd(b);var f=function(){Pa(window,"mouseup",
f);setTimeout(g,20)};J(window,"mouseup",f)}else setTimeout(g,50)}}}}function mf(a,b){return sa(a,"gutterContextMenu")?od(a,b,"gutterContextMenu",!1,aa):!1}function he(a,b){if(0>K(a,b.from))return a;if(0>=K(a,b.to))return lb(b);var d=a.line+b.text.length-(b.to.line-b.from.line)-1,g=a.ch;a.line==b.to.line&&(g+=lb(b).ch-b.to.ch);return A(d,g)}function vd(a,b){for(var d=[],g=0;g<a.sel.ranges.length;g++){var h=a.sel.ranges[g];d.push(new M(he(h.anchor,b),he(h.head,b)))}return Z(d,a.sel.primIndex)}function ie(a,
b,d){return a.line==b.line?A(d.line,a.ch-b.ch+d.ch):A(d.line+(a.line-b.line),a.ch)}function je(a,b,d){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};d&&(b.update=function(b,d,r,c){b&&(this.from=E(a,b));d&&(this.to=E(a,d));r&&(this.text=r);void 0!==c&&(this.origin=c)});aa(a,"beforeChange",a,b);a.cm&&aa(a.cm,"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,origin:b.origin}}function Db(a,b,d){if(a.cm){if(!a.cm.curOp)return X(a.cm,
Db)(a,b,d);if(a.cm.state.suppressEdits)return}if(sa(a,"beforeChange")||a.cm&&sa(a.cm,"beforeChange"))if(b=je(a,b,!0),!b)return;if(d=ke&&!d&&nf(a,b.from,b.to))for(var g=d.length-1;0<=g;--g)le(a,{from:d[g].from,to:d[g].to,text:g?[""]:b.text});else le(a,b)}function le(a,b){if(1!=b.text.length||""!=b.text[0]||0!=K(b.from,b.to)){var d=vd(a,b);me(a,b,d,a.cm?a.cm.curOp.id:NaN);bc(a,b,d,wd(a,b));var g=[];nb(a,function(a,d){d||-1!=ca(g,a.history)||(ne(a.history,b),g.push(a.history));bc(a,b,null,wd(a,b))})}}
function Kc(a,b,d){if(!a.cm||!a.cm.state.suppressEdits){for(var g=a.history,h,r=a.sel,c="undo"==b?g.done:g.undone,e="undo"==b?g.undone:g.done,f=0;f<c.length&&(h=c[f],d?!h.ranges||h.equals(a.sel):h.ranges);f++);if(f!=c.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(h=c.pop(),h.ranges){qc(h,e);if(d&&!h.equals(a.sel)){$(a,h,{clearRedo:!1});return}r=h}else break;d=[];qc(r,e);e.push({changes:d,generation:g.generation});g.generation=h.generation||++g.maxGeneration;g=sa(a,"beforeChange")||a.cm&&sa(a.cm,
"beforeChange");for(f=h.changes.length-1;0<=f;--f){var k=h.changes[f];k.origin=b;if(g&&!je(a,k,!1)){c.length=0;break}d.push(xd(a,k));r=f?vd(a,k,null):Q(c);bc(a,k,r,oe(a,k));!f&&a.cm&&a.cm.scrollIntoView(k);var p=[];nb(a,function(a,b){b||-1!=ca(p,a.history)||(ne(a.history,k),p.push(a.history));bc(a,k,null,oe(a,k))})}}}}function pe(a,b){if(0!=b&&(a.first+=b,a.sel=new ea(yd(a.sel.ranges,function(a){return new M(A(a.anchor.line+b,a.anchor.ch),A(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){oa(a.cm,
a.first,a.first-b,b);for(var d=a.cm.display,g=d.viewFrom;g<d.viewTo;g++)Na(a.cm,g,"gutter")}}function bc(a,b,d,g){if(a.cm&&!a.cm.curOp)return X(a.cm,bc)(a,b,d,g);if(b.to.line<a.first)pe(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var h=b.text.length-1-(a.first-b.from.line);pe(a,h);b={from:A(a.first,0),to:A(b.to.line+h,b.to.ch),text:[Q(b.text)],origin:b.origin}}h=a.lastLine();b.to.line>h&&(b={from:b.from,to:A(h,G(a,h).text.length),text:[b.text[0]],
origin:b.origin});b.removed=cc(a,b.from,b.to);d||(d=vd(a,b,null));a.cm?of(a.cm,b,g):zd(a,b,g);yb(a,d,hb)}}function of(a,b,d){var g=a.doc,h=a.display,r=b.from,c=b.to,e=!1,f=r.line;a.options.lineWrapping||(f=V(Fa(G(g,r.line))),g.iter(f,c.line+1,function(a){if(a==h.maxLine)return e=!0}));-1<g.sel.contains(b.from,b.to)&&Rd(a);zd(g,b,d,n(a));a.options.lineWrapping||(g.iter(f,r.line+b.text.length,function(a){var b=k(a);b>h.maxLineLength&&(h.maxLine=a,h.maxLineLength=b,h.maxLineChanged=!0,e=!1)}),e&&(a.curOp.updateMaxLine=
!0));g.frontier=Math.min(g.frontier,r.line);Ya(a,400);d=b.text.length-(c.line-r.line)-1;r.line!=c.line||1!=b.text.length||qe(a.doc,b)?oa(a,r.line,c.line+1,d):Na(a,r.line,"text");d=sa(a,"changes");if((g=sa(a,"change"))||d)b={from:r,to:c,text:b.text,removed:b.removed,origin:b.origin},g&&Y(a,"change",a,b),d&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(b);a.display.selForContextMenu=null}function Dc(a,b,d,g,h){g||(g=d);if(0>K(g,d)){var r=g;g=d;d=r}"string"==typeof b&&(b=Cb(b));Db(a,{from:d,to:g,
text:b,origin:h})}function xc(a,b,d,g,h){var r=a.display,c=C(a.display);0>d&&(d=0);var e=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:r.scroller.scrollTop,f=r.scroller.clientHeight-qa,k={},p=a.doc.height+Kb(r),m=d<c,c=h>p-c;d<e?k.scrollTop=m?0:d:h>e+f&&(d=Math.min(d,(c?p:h)-f),d!=e&&(k.scrollTop=d));a=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:r.scroller.scrollLeft;e=r.scroller.clientWidth-qa;b+=r.gutters.offsetWidth;g+=r.gutters.offsetWidth;r=r.gutters.offsetWidth;d=b<r+10;b<a+r||
d?(d&&(b=0),k.scrollLeft=Math.max(0,b-10-r)):g>e+a-3&&(k.scrollLeft=g+10-e);return k}function Lc(a,b,d){null==b&&null==d||Mc(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b);null!=d&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+d)}function zb(a){Mc(a);var b=a.getCursor(),d=b,g=b;a.options.lineWrapping||(d=b.ch?A(b.line,b.ch-1):b,g=A(b.line,b.ch+1));a.curOp.scrollToPos={from:d,to:g,margin:a.options.cursorScrollMargin,
isCursor:!0}}function Mc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var d=tc(a,b.from),g=tc(a,b.to),b=xc(a,Math.min(d.left,g.left),Math.min(d.top,g.top)-b.margin,Math.max(d.right,g.right),Math.max(d.bottom,g.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function Zb(a,b,d,g){var h=a.doc,r;null==d&&(d="add");"smart"==d&&(a.doc.mode.indent?r=jb(a,b):d="prev");var c=a.options.tabSize,e=G(h,b),f=ua(e.text,null,c);e.stateAfter&&(e.stateAfter=null);var k=e.text.match(/^\s*/)[0],
p;if(!g&&!/\S/.test(e.text))p=0,d="not";else if("smart"==d&&(p=a.doc.mode.indent(r,e.text.slice(k.length),e.text),p==de)){if(!g)return;d="prev"}"prev"==d?p=b>h.first?ua(G(h,b-1).text,null,c):0:"add"==d?p=f+a.options.indentUnit:"subtract"==d?p=f-a.options.indentUnit:"number"==typeof d&&(p=f+d);p=Math.max(0,p);g="";r=0;if(a.options.indentWithTabs)for(d=Math.floor(p/c);d;--d)r+=c,g+="\t";r<p&&(g+=re(p-r));if(g!=k)Dc(a.doc,g,A(b,0),A(b,k.length),"+input");else for(d=0;d<h.sel.ranges.length;d++)if(a=h.sel.ranges[d],
a.head.line==b&&a.head.ch<k.length){r=A(b,k.length);oc(h,d,new M(r,r));break}e.stateAfter=null}function Nc(a,b,d,g){var h=b,r=b;"number"==typeof b?r=G(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):h=V(b);if(null==h)return null;g(r,h)&&a.cm&&Na(a.cm,h,d);return r}function Oc(a,b){for(var d=a.doc.sel.ranges,g=[],h=0;h<d.length;h++){for(var r=b(d[h]);g.length&&0>=K(r.from,Q(g).to);){var c=g.pop();if(0>K(c.from,r.from)){r.from=c.from;break}}g.push(r)}Ka(a,function(){for(var b=g.length-1;0<=b;b--)Dc(a.doc,
"",g[b].from,g[b].to,"+delete");zb(a)})}function Ad(a,b,d,g,h){function r(b){var g=(h?kd:se)(k,e,d,!0);if(null==g){if(b=!b)b=c+d,b<a.first||b>=a.first+a.size?b=p=!1:(c=b,b=k=G(a,b));if(b)e=h?(0>d?vc:uc)(k):0>d?k.text.length:0;else return p=!1}else e=g;return!0}var c=b.line,e=b.ch,f=d,k=G(a,c),p=!0;if("char"==g)r();else if("column"==g)r(!0);else if("word"==g||"group"==g){var m=null;g="group"==g;b=a.cm&&a.cm.getHelper(b,"wordChars");for(var l=!0;!(0>d)||r(!l);l=!1){var q=k.text.charAt(e)||"\n",q=Pc(q,
b)?"w":g&&"\n"==q?"n":!g||/\s/.test(q)?null:"p";!g||l||q||(q="s");if(m&&m!=q){0>d&&(d=1,r());break}q&&(m=q);if(0<d&&!r(!l))break}}f=Ua(a,A(c,e),f,!0);p||(f.hitSide=!0);return f}function te(a,b,d,g){var h=a.doc,r=b.left,c;"page"==g?(g=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=b.top+d*(g-(0>d?1.5:.5)*C(a.display))):"line"==g&&(c=0<d?b.bottom+3:b.top-3);for(;;){var e=Va(a,r,c);if(!e.outside)break;if(0>d?0>=c:c>=h.height){e.hitSide=!0;break}c+=
5*d}return e}function pd(a,b){var d=G(a.doc,b.line).text,g=b.ch,h=b.ch;if(d){var r=a.getHelper(b,"wordChars");(0>b.xRel||h==d.length)&&g?--g:++h;for(var c=d.charAt(g),c=Pc(c,r)?function(a){return Pc(a,r)}:/\s/.test(c)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Pc(a)};0<g&&c(d.charAt(g-1));)--g;for(;h<d.length&&c(d.charAt(h));)++h}return new M(A(b.line,g),A(b.line,h))}function I(a,b,d,g){c.defaults[a]=b;d&&(sb[a]=g?function(a,b,g){g!=Ld&&d(a,b,g)}:d)}function td(a){return"string"==
typeof a?La[a]:a}function Fb(a,b,d,g,h){if(g&&g.shared)return pf(a,b,d,g,h);if(a.cm&&!a.cm.curOp)return X(a.cm,Fb)(a,b,d,g,h);var r=new ob(a,h);h=K(b,d);g&&Ib(g,r,!1);if(0<h||0==h&&!1!==r.clearWhenEmpty)return r;r.replacedWith&&(r.collapsed=!0,r.widgetNode=D("span",[r.replacedWith],"CodeMirror-widget"),g.handleMouseEvents||(r.widgetNode.ignoreEvents=!0),g.insertLeft&&(r.widgetNode.insertLeft=!0));if(r.collapsed){if(ue(a,b.line,b,d,r)||b.line!=d.line&&ue(a,d.line,b,d,r))throw Error("Inserting collapsed marker partially overlapping an existing one");
Sa=!0}r.addToHistory&&me(a,{from:b,to:d,origin:"markText"},a.sel,NaN);var c=b.line,e=a.cm,f;a.iter(c,d.line+1,function(a){e&&r.collapsed&&!e.options.lineWrapping&&Fa(a)==e.display.maxLine&&(f=!0);r.collapsed&&c!=b.line&&za(a,0);var g=new Qc(r,c==b.line?b.ch:null,c==d.line?d.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([g]):[g];g.marker.attachLine(a);++c});r.collapsed&&a.iter(b.line,d.line+1,function(b){$a(a,b)&&za(b,0)});r.clearOnEnter&&J(r,"beforeCursorEnter",function(){r.clear()});
r.readOnly&&(ke=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());r.collapsed&&(r.id=++qf,r.atomic=!0);if(e){f&&(e.curOp.updateMaxLine=!0);if(r.collapsed)oa(e,b.line,d.line+1);else if(r.className||r.title||r.startStyle||r.endStyle)for(g=b.line;g<=d.line;g++)Na(e,g,"text");r.atomic&&Pb(e.doc);Y(e,"markerAdded",e,r)}return r}function pf(a,b,d,g,h){g=Ib(g);g.shared=!1;var r=[Fb(a,b,d,g,h)],c=r[0],e=g.widgetNode;nb(a,function(a){e&&(g.widgetNode=e.cloneNode(!0));r.push(Fb(a,E(a,b),
E(a,d),g,h));for(var f=0;f<a.linked.length;++f)if(a.linked[f].isParent)return;c=Q(r)});return new Rc(r,c)}function ve(a){return a.findMarks(A(a.first,0),a.clipPos(A(a.lastLine())),function(a){return a.parent})}function rf(a){for(var b=0;b<a.length;b++){var d=a[b],g=[d.primary.doc];nb(d.primary.doc,function(a){g.push(a)});for(var h=0;h<d.markers.length;h++){var r=d.markers[h];-1==ca(g,r.doc)&&(r.parent=null,d.markers.splice(h--,1))}}}function Qc(a,b,d){this.marker=a;this.from=b;this.to=d}function dc(a,
b){if(a)for(var d=0;d<a.length;++d){var g=a[d];if(g.marker==b)return g}}function wd(a,b){var d=W(a,b.from.line)&&G(a,b.from.line).markedSpans,g=W(a,b.to.line)&&G(a,b.to.line).markedSpans;if(!d&&!g)return null;var h=b.from.ch,r=b.to.ch,c=0==K(b.from,b.to);if(d)for(var e=0,f;e<d.length;++e){var k=d[e],p=k.marker;if(null==k.from||(p.inclusiveLeft?k.from<=h:k.from<h)||!(k.from!=h||"bookmark"!=p.type||c&&k.marker.insertLeft)){var m=null==k.to||(p.inclusiveRight?k.to>=h:k.to>h);(f||(f=[])).push(new Qc(p,
k.from,m?null:k.to))}}d=f;if(g)for(var e=0,l;e<g.length;++e)if(f=g[e],k=f.marker,null==f.to||(k.inclusiveRight?f.to>=r:f.to>r)||f.from==r&&"bookmark"==k.type&&(!c||f.marker.insertLeft))p=null==f.from||(k.inclusiveLeft?f.from<=r:f.from<r),(l||(l=[])).push(new Qc(k,p?null:f.from-r,null==f.to?null:f.to-r));g=l;c=1==b.text.length;l=Q(b.text).length+(c?h:0);if(d)for(r=0;r<d.length;++r)if(e=d[r],null==e.to)(f=dc(g,e.marker),f)?c&&(e.to=null==f.to?null:f.to+l):e.to=h;if(g)for(r=0;r<g.length;++r)e=g[r],null!=
e.to&&(e.to+=l),null==e.from?(f=dc(d,e.marker),f||(e.from=l,c&&(d||(d=[])).push(e))):(e.from+=l,c&&(d||(d=[])).push(e));d&&(d=we(d));g&&g!=d&&(g=we(g));h=[d];if(!c){var c=b.text.length-2,q;if(0<c&&d)for(r=0;r<d.length;++r)null==d[r].to&&(q||(q=[])).push(new Qc(d[r].marker,null,null));for(r=0;r<c;++r)h.push(q);h.push(g)}return h}function we(a){for(var b=0;b<a.length;++b){var d=a[b];null!=d.from&&d.from==d.to&&!1!==d.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function oe(a,b){var d;
if(d=b["spans_"+a.id]){for(var g=0,h=[];g<b.text.length;++g)h.push(sf(d[g]));d=h}else d=null;g=wd(a,b);if(!d)return g;if(!g)return d;for(h=0;h<d.length;++h){var c=d[h],e=g[h];if(c&&e){var f=0;a:for(;f<e.length;++f){for(var k=e[f],p=0;p<c.length;++p)if(c[p].marker==k.marker)continue a;c.push(k)}}else e&&(d[h]=e)}return d}function nf(a,b,d){var g=null;a.iter(b.line,d.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var d=a.markedSpans[b].marker;!d.readOnly||g&&-1!=ca(g,d)||
(g||(g=[])).push(d)}});if(!g)return null;a=[{from:b,to:d}];for(b=0;b<g.length;++b){d=g[b];for(var h=d.find(0),c=0;c<a.length;++c){var e=a[c];if(!(0>K(e.to,h.from)||0<K(e.from,h.to))){var f=[c,1],k=K(e.from,h.from),p=K(e.to,h.to);(0>k||!d.inclusiveLeft&&!k)&&f.push({from:e.from,to:h.from});(0<p||!d.inclusiveRight&&!p)&&f.push({from:h.to,to:e.to});a.splice.apply(a,f);c+=f.length-1}}}return a}function xe(a){var b=a.markedSpans;if(b){for(var d=0;d<b.length;++d)b[d].marker.detachLine(a);a.markedSpans=
null}}function ye(a,b){if(b){for(var d=0;d<b.length;++d)b[d].marker.attachLine(a);a.markedSpans=b}}function ze(a,b){var d=a.lines.length-b.lines.length;if(0!=d)return d;var d=a.find(),g=b.find(),h=K(d.from,g.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return h?-h:(d=K(d.to,g.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?d:b.id-a.id}function bb(a,b){var d=Sa&&a.markedSpans,g;if(d)for(var h,c=0;c<d.length;++c)h=d[c],h.marker.collapsed&&null==(b?h.from:h.to)&&(!g||0>ze(g,h.marker))&&(g=
h.marker);return g}function ue(a,b,d,g,h){a=G(a,b);if(a=Sa&&a.markedSpans)for(b=0;b<a.length;++b){var c=a[b];if(c.marker.collapsed){var e=c.marker.find(0),f=K(e.from,d)||(c.marker.inclusiveLeft?-1:0)-(h.inclusiveLeft?-1:0),k=K(e.to,g)||(c.marker.inclusiveRight?1:0)-(h.inclusiveRight?1:0);if(!(0<=f&&0>=k||0>=f&&0<=k)&&(0>=f&&(0<K(e.to,d)||c.marker.inclusiveRight&&h.inclusiveLeft)||0<=f&&(0>K(e.from,g)||c.marker.inclusiveLeft&&h.inclusiveRight)))return!0}}}function Fa(a){for(var b;b=bb(a,!0);)a=b.find(-1,
!0).line;return a}function bd(a,b){var d=G(a,b),g=Fa(d);return d==g?b:V(g)}function Od(a,b){if(b>a.lastLine())return b;var d=G(a,b),g;if(!$a(a,d))return b;for(;g=bb(d,!1);)d=g.find(1,!0).line;return V(d)+1}function $a(a,b){var d=Sa&&b.markedSpans;if(d)for(var g,h=0;h<d.length;++h)if(g=d[h],g.marker.collapsed&&(null==g.from||!g.marker.widgetNode&&0==g.from&&g.marker.inclusiveLeft&&Bd(a,b,g)))return!0}function Bd(a,b,d){if(null==d.to)return b=d.marker.find(1,!0),Bd(a,b.line,dc(b.line.markedSpans,d.marker));
if(d.marker.inclusiveRight&&d.to==b.text.length)return!0;for(var g,h=0;h<b.markedSpans.length;++h)if(g=b.markedSpans[h],g.marker.collapsed&&!g.marker.widgetNode&&g.from==d.to&&(null==g.to||g.to!=d.from)&&(g.marker.inclusiveLeft||d.marker.inclusiveRight)&&Bd(a,b,g))return!0}function Ub(a){if(null!=a.height)return a.height;var b;a:{b=document.body;var d=a.node;if(b.contains)b=b.contains(d);else{for(;d=d.parentNode;)if(d==b){b=!0;break a}b=void 0}}b||(b="position: relative;",a.coverGutter&&(b+="margin-left: -"+
a.cm.getGutterElement().offsetWidth+"px;"),Da(a.cm.display.measure,D("div",[a.node],null,b)));return a.height=a.node.offsetHeight}function tf(a,b,d,g){var h=new Sc(a,d,g);h.noHScroll&&(a.display.alignWidgets=!0);Nc(a.doc,b,"widget",function(b){var d=b.widgets||(b.widgets=[]);null==h.insertAt?d.push(h):d.splice(Math.min(d.length-1,Math.max(0,h.insertAt)),0,h);h.line=b;$a(a.doc,b)||(d=Ca(b)<a.doc.scrollTop,za(b,b.height+Ub(h)),d&&Lc(a,null,h.height),a.curOp.forceUpdate=!0);return!0});return h}function Ae(a,
b){if(a)for(;;){var d=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;a=a.slice(0,d.index)+a.slice(d.index+d[0].length);var g=d[1]?"bgClass":"textClass";null==b[g]?b[g]=d[2]:(new RegExp("(?:^|s)"+d[2]+"(?:$|s)")).test(b[g])||(b[g]+=" "+d[2])}return a}function Be(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var d=c.innerMode(a,b);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function Cd(a,b,d){for(var g=0;10>g;g++){var h=a.token(b,d);if(b.pos>b.start)return h}throw Error("Mode "+
a.name+" failed to advance stream.");}function Ce(a,b,d,g,h,e,f){var k=d.flattenSpans;null==k&&(k=a.options.flattenSpans);var p=0,m=null,l=new Tc(b,a.options.tabSize),q;for(""==b&&Ae(Be(d,g),e);!l.eol();){l.pos>a.options.maxHighlightLength?(k=!1,f&&dd(a,b,g,l.pos),l.pos=b.length,q=null):q=Ae(Cd(d,l,g),e);if(a.options.addModeClass){var s=c.innerMode(d,g).mode.name;s&&(q="m-"+(q?s+" "+q:s))}k&&m==q||(p<l.start&&h(l.start,m),p=l.start,m=q);l.start=l.pos}for(;p<l.pos;)a=Math.min(l.pos,p+5E4),h(a,m),p=
a}function Sd(a,b,d,g){var h=[a.state.modeGen],c={};Ce(a,b.text,a.doc.mode,d,function(a,b){h.push(a,b)},c,g);for(d=0;d<a.state.overlays.length;++d){var e=a.state.overlays[d],f=1,k=0;Ce(a,b.text,e.mode,!0,function(a,b){for(var d=f;k<a;){var g=h[f];g>a&&h.splice(f,1,a,h[f+1],g);f+=2;k=Math.min(a,g)}if(b)if(e.opaque)h.splice(d,f-d,a,"cm-overlay "+b),f=d+2;else for(;d<f;d+=2)g=h[d+1],h[d+1]=(g?g+" ":"")+"cm-overlay "+b},c)}return{styles:h,classes:c.bgClass||c.textClass?c:null}}function De(a,b){if(!b.styles||
b.styles[0]!=a.state.modeGen){var d=Sd(a,b,b.stateAfter=jb(a,V(b)));b.styles=d.styles;d.classes?b.styleClasses=d.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}function dd(a,b,d,g){var h=a.doc.mode,c=new Tc(b,a.options.tabSize);c.start=c.pos=g||0;for(""==b&&Be(h,d);!c.eol()&&c.pos<=a.options.maxHighlightLength;)Cd(h,c,d),c.start=c.pos}function Ee(a,b){if(!a||/^\s*$/.test(a))return null;var d=b.addModeClass?uf:vf;return d[a]||(d[a]=a.replace(/\S+/g,"cm-$&"))}function Pd(a,b){var d=D("span",
null,null,fa?"padding-right: .1px":null),d={pre:D("pre",[d]),content:d,col:0,pos:0,cm:a};b.measure={};for(var g=0;g<=(b.rest?b.rest.length:0);g++){var h=g?b.rest[g-1]:b.line,c;d.pos=0;d.addToken=wf;(N||fa)&&a.getOption("lineWrapping")&&(d.addToken=xf(d.addToken));var e;if(null!=Dd)e=Dd;else{e=Da(a.display.measure,document.createTextNode("A\u062eA"));var f=Sb(e,0,1).getBoundingClientRect();e=f.left==f.right?!1:Dd=3>Sb(e,1,2).getBoundingClientRect().right-f.right}e&&(c=Ea(h))&&(d.addToken=yf(d.addToken,
c));d.map=[];a:{e=d;var f=De(a,h),k=h.markedSpans,p=h.text,l=0;if(k)for(var m=p.length,q=0,s=1,n="",y=void 0,x=0,v=void 0,H=void 0,z=void 0,t=void 0,B=void 0;;){if(x==q){for(var v=H=z=t="",B=null,x=Infinity,u=[],W=0;W<k.length;++W){var w=k[W],F=w.marker;w.from<=q&&(null==w.to||w.to>q)?(null!=w.to&&x>w.to&&(x=w.to,H=""),F.className&&(v+=" "+F.className),F.startStyle&&w.from==q&&(z+=" "+F.startStyle),F.endStyle&&w.to==x&&(H+=" "+F.endStyle),F.title&&!t&&(t=F.title),F.collapsed&&(!B||0>ze(B.marker,F))&&
(B=w)):w.from>q&&x>w.from&&(x=w.from);"bookmark"==F.type&&w.from==q&&F.widgetNode&&u.push(F)}if(B&&(B.from||0)==q&&(Fe(e,(null==B.to?m+1:B.to)-q,B.marker,null==B.from),null==B.to))break a;if(!B&&u.length)for(W=0;W<u.length;++W)Fe(e,0,u[W])}if(q>=m)break;for(u=Math.min(m,x);;){if(n){W=q+n.length;B||(w=W>u?n.slice(0,u-q):n,e.addToken(e,w,y?y+v:v,z,q+w.length==x?H:"",t));if(W>=u){n=n.slice(u-q);q=u;break}q=W;z=""}n=p.slice(l,l=f[s++]);y=Ee(f[s++],e.cm.options)}}else for(var s=1;s<f.length;s+=2)e.addToken(e,
p.slice(l,l=f[s]),Ee(f[s+1],e.cm.options))}h.styleClasses&&(h.styleClasses.bgClass&&(d.bgClass=Ed(h.styleClasses.bgClass,d.bgClass||"")),h.styleClasses.textClass&&(d.textClass=Ed(h.styleClasses.textClass,d.textClass||"")));0==d.map.length&&d.map.push(0,0,d.content.appendChild(zf(a.display.measure)));0==g?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}aa(a,"renderLine",a,b.line,d.pre);d.pre.className&&
(d.textClass=Ed(d.pre.className,d.textClass||""));return d}function wf(a,b,d,g,h,c){if(b){var e=a.cm.options.specialChars,f=!1;if(e.test(b))for(var k=document.createDocumentFragment(),p=0;;){e.lastIndex=p;var l=e.exec(b),m=l?l.index-p:b.length-p;if(m){var q=document.createTextNode(b.slice(p,p+m));N&&9>R?k.appendChild(D("span",[q])):k.appendChild(q);a.map.push(a.pos,a.pos+m,q);a.col+=m;a.pos+=m}if(!l)break;p+=m+1;"\t"==l[0]?(q=a.cm.options.tabSize,l=q-a.col%q,q=k.appendChild(D("span",re(l),"cm-tab")),
a.col+=l):(q=a.cm.options.specialCharPlaceholder(l[0]),N&&9>R?k.appendChild(D("span",[q])):k.appendChild(q),a.col+=1);a.map.push(a.pos,a.pos+1,q);a.pos++}else{a.col+=b.length;var k=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,k);N&&9>R&&(f=!0);a.pos+=b.length}if(d||g||h||f)return b=d||"",g&&(b+=g),h&&(b+=h),g=D("span",[k],b),c&&(g.title=c),a.content.appendChild(g);a.content.appendChild(k)}}function xf(a){function b(a){for(var b=" ",h=0;h<a.length-2;++h)b+=h%2?" ":"\u00a0";return b+" "}
return function(d,g,h,c,e,f){a(d,g.replace(/ {3,}/g,b),h,c,e,f)}}function yf(a,b){return function(d,g,h,c,e,f){h=h?h+" cm-force-border":"cm-force-border";for(var k=d.pos,p=k+g.length;;){for(var l=0;l<b.length;l++){var q=b[l];if(q.to>k&&q.from<=k)break}if(q.to>=p)return a(d,g,h,c,e,f);a(d,g.slice(0,q.to-k),h,c,null,f);c=null;g=g.slice(q.to-k);k=q.to}}}function Fe(a,b,d,g){if(d=!g&&d.widgetNode)a.map.push(a.pos,a.pos+b,d),a.content.appendChild(d);a.pos+=b}function qe(a,b){return 0==b.from.ch&&0==b.to.ch&&
""==Q(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function zd(a,b,d,g){function h(a,d,h){a.text=d;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);xe(a);ye(a,h);d=g?g(a):1;d!=a.height&&za(a,d);Y(a,"change",a,b)}var c=b.from,e=b.to,f=b.text,k=G(a,c.line),p=G(a,e.line),l=Q(f),q=d?d[f.length-1]:null,m=e.line-c.line;if(qe(a,b)){for(var s=0,n=[];s<f.length-1;++s)n.push(new pb(f[s],d?d[s]:null,g));h(p,p.text,q);m&&a.remove(c.line,m);n.length&&a.insert(c.line,
n)}else if(k==p)if(1==f.length)h(k,k.text.slice(0,c.ch)+l+k.text.slice(e.ch),q);else{n=[];for(s=1;s<f.length-1;++s)n.push(new pb(f[s],d?d[s]:null,g));n.push(new pb(l+k.text.slice(e.ch),q,g));h(k,k.text.slice(0,c.ch)+f[0],d?d[0]:null);a.insert(c.line+1,n)}else if(1==f.length)h(k,k.text.slice(0,c.ch)+f[0]+p.text.slice(e.ch),d?d[0]:null),a.remove(c.line+1,m);else{h(k,k.text.slice(0,c.ch)+f[0],d?d[0]:null);h(p,l+p.text.slice(e.ch),q);s=1;for(n=[];s<f.length-1;++s)n.push(new pb(f[s],d?d[s]:null,g));1<
m&&a.remove(c.line+1,m-1);a.insert(c.line+1,n)}Y(a,"change",a,b)}function ec(a){this.lines=a;this.parent=null;for(var b=0,d=0;b<a.length;++b)a[b].parent=this,d+=a[b].height;this.height=d}function fc(a){this.children=a;for(var b=0,d=0,g=0;g<a.length;++g){var h=a[g],b=b+h.chunkSize(),d=d+h.height;h.parent=this}this.size=b;this.height=d;this.parent=null}function nb(a,b,d){function g(a,c,e){if(a.linked)for(var f=0;f<a.linked.length;++f){var k=a.linked[f];if(k.doc!=c){var p=e&&k.sharedHist;if(!d||p)b(k.doc,
p),g(k.doc,a,p)}}}g(a,null,!0)}function Kd(a,b){if(b.cm)throw Error("This document is already in use.");a.doc=b;b.cm=a;e(a);u(a);a.options.lineWrapping||q(a);a.options.mode=b.modeOption;oa(a)}function G(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var d=a;!d.lines;)for(var g=0;;++g){var h=d.children[g],c=h.chunkSize();if(b<c){d=h;break}b-=c}return d.lines[b]}function cc(a,b,d){var g=[],h=b.line;a.iter(b.line,d.line+1,function(a){a=a.text;h==
d.line&&(a=a.slice(0,d.ch));h==b.line&&(a=a.slice(b.ch));g.push(a);++h});return g}function Fd(a,b,d){var g=[];a.iter(b,d,function(a){g.push(a.text)});return g}function za(a,b){var d=b-a.height;if(d)for(var g=a;g;g=g.parent)g.height+=d}function V(a){if(null==a.parent)return null;var b=a.parent;a=ca(b.lines,a);for(var d=b.parent;d;b=d,d=d.parent)for(var g=0;d.children[g]!=b;++g)a+=d.children[g].chunkSize();return a+b.first}function cb(a,b){var d=a.first;a:do{for(var g=0;g<a.children.length;++g){var h=
a.children[g],c=h.height;if(b<c){a=h;continue a}b-=c;d+=h.chunkSize()}return d}while(!a.lines);for(g=0;g<a.lines.length;++g){h=a.lines[g].height;if(b<h)break;b-=h}return d+g}function Ca(a){a=Fa(a);for(var b=0,d=a.parent,g=0;g<d.lines.length;++g){var h=d.lines[g];if(h==a)break;else b+=h.height}for(a=d.parent;a;d=a,a=d.parent)for(g=0;g<a.children.length&&(h=a.children[g],h!=d);++g)b+=h.height;return b}function Ea(a){var b=a.order;null==b&&(b=a.order=Af(a.text));return b}function Uc(a){this.done=[];
this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=null;this.generation=this.maxGeneration=a||1}function xd(a,b){var d={from:eb(b.from),to:lb(b),text:cc(a,b.from,b.to)};Ge(a,d,b.from.line,b.to.line+1);nb(a,function(a){Ge(a,d,b.from.line,b.to.line+1)},!0);return d}function Qd(a){for(;a.length;)if(Q(a).ranges)a.pop();else break}function me(a,b,d,g){var h=a.history;h.undone.length=0;var c=+new Date,e,f;if(f=h.lastOp==g||h.lastOrigin==
b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&h.lastModTime>c-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))h.lastOp==g?(Qd(h.done),e=Q(h.done)):h.done.length&&!Q(h.done).ranges?e=Q(h.done):1<h.done.length&&!h.done[h.done.length-2].ranges?(h.done.pop(),e=Q(h.done)):e=void 0,f=e;if(f){var k=Q(e.changes);0==K(b.from,b.to)&&0==K(b.from,k.to)?k.to=lb(b):e.changes.push(xd(a,b))}else for((e=Q(h.done))&&e.ranges||qc(a.sel,h.done),e={changes:[xd(a,b)],generation:h.generation},h.done.push(e);h.done.length>
h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift();h.done.push(d);h.generation=++h.maxGeneration;h.lastModTime=h.lastSelTime=c;h.lastOp=g;h.lastOrigin=h.lastSelOrigin=b.origin;k||aa(a,"historyAdded")}function qc(a,b){var d=Q(b);d&&d.ranges&&d.equals(a)||b.push(a)}function Ge(a,b,d,g){var h=b["spans_"+a.id],c=0;a.iter(Math.max(a.first,d),Math.min(a.first+a.size,g),function(d){d.markedSpans&&((h||(h=b["spans_"+a.id]={}))[c]=d.markedSpans);++c})}function sf(a){if(!a)return null;for(var b=0,
d;b<a.length;++b)a[b].marker.explicitlyCleared?d||(d=a.slice(0,b)):d&&d.push(a[b]);return d?d.length?d:null:a}function Gb(a,b,d){for(var g=0,h=[];g<a.length;++g){var c=a[g];if(c.ranges)h.push(d?ea.prototype.deepCopy.call(c):c);else{var c=c.changes,e=[];h.push({changes:e});for(var f=0;f<c.length;++f){var k=c[f],p;e.push({from:k.from,to:k.to,text:k.text});if(b)for(var q in k)(p=q.match(/^spans_(\d+)$/))&&-1<ca(b,Number(p[1]))&&(Q(e)[q]=k[q],delete k[q])}}}return h}function He(a,b,d,g){d<a.line?a.line+=
g:b<a.line&&(a.line=b,a.ch=0)}function Ie(a,b,d,g){for(var h=0;h<a.length;++h){var c=a[h],e=!0;if(c.ranges){c.copied||(c=a[h]=c.deepCopy(),c.copied=!0);for(var f=0;f<c.ranges.length;f++)He(c.ranges[f].anchor,b,d,g),He(c.ranges[f].head,b,d,g)}else{for(f=0;f<c.changes.length;++f){var k=c.changes[f];if(d<k.from.line)k.from=A(k.from.line+g,k.from.ch),k.to=A(k.to.line+g,k.to.ch);else if(b<=k.to.line){e=!1;break}}e||(a.splice(0,h+1),h=0)}}}function ne(a,b){var d=b.from.line,g=b.to.line,h=b.text.length-
(g-d)-1;Ie(a.done,d,g,h);Ie(a.undone,d,g,h)}function sd(a){return null!=a.defaultPrevented?a.defaultPrevented:!1==a.returnValue}function be(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Ba&&a.ctrlKey&&1==b&&(b=3);return b}function Y(a,b){function d(a){return function(){a.apply(null,h)}}var g=a._handlers&&a._handlers[b];if(g){var h=Array.prototype.slice.call(arguments,2);Wa||(++wc,Wa=[],setTimeout(Bf,0));for(var c=0;c<g.length;++c)Wa.push(d(g[c]))}}function Bf(){--wc;
var a=Wa;Wa=null;for(var b=0;b<a.length;++b)a[b]()}function Ja(a,b,d){aa(a,d||b.type,a,b);return sd(b)||b.codemirrorIgnore}function Rd(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var d=0;d<b.length;++d)-1==ca(a,b[d])&&a.push(b[d])}}function sa(a,b){var d=a._handlers&&a._handlers[b];return d&&0<d.length}function Hb(a){a.prototype.on=function(a,d){J(this,a,d)};a.prototype.off=function(a,d){Pa(this,a,d)}}function Yc(){this.id=
null}function ce(a,b,d){for(var g=0,h=0;;){var c=a.indexOf("\t",g);-1==c&&(c=a.length);var e=c-g;if(c==a.length||h+e>=b)return g+Math.min(e,b-h);h+=c-g;h+=d-h%d;g=c+1;if(h>=b)return g}}function re(a){for(;Vc.length<=a;)Vc.push(Q(Vc)+" ");return Vc[a]}function Q(a){return a[a.length-1]}function ca(a,b){for(var d=0;d<a.length;++d)if(a[d]==b)return d;return-1}function yd(a,b){for(var d=[],g=0;g<a.length;g++)d[g]=b(a[g],g);return d}function Je(a,b){var d;Object.create?d=Object.create(a):(d=function(){},
d.prototype=a,d=new d);b&&Ib(b,d);return d}function Ib(a,b,d){b||(b={});for(var g in a)!a.hasOwnProperty(g)||!1===d&&b.hasOwnProperty(g)||(b[g]=a[g]);return b}function xa(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function Pc(a,b){return b?-1<b.source.indexOf("\\w")&&Ke(a)?!0:b.test(a):Ke(a)}function Le(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function Rb(a){return 768<=a.charCodeAt(0)&&Cf.test(a)}function D(a,b,d,g){a=document.createElement(a);
d&&(a.className=d);g&&(a.style.cssText=g);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(d=0;d<b.length;++d)a.appendChild(b[d]);return a}function ab(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function Da(a,b){return ab(a).appendChild(b)}function Qa(){return document.activeElement}function Gd(a){return new RegExp("\\b"+a+"\\b\\s*")}function Ic(a,b){var d=Gd(b);d.test(a.className)&&(a.className=a.className.replace(d,""))}function Jc(a,
b){Gd(b).test(a.className)||(a.className+=" "+b)}function Ed(a,b){for(var d=a.split(" "),g=0;g<d.length;g++)d[g]&&!Gd(d[g]).test(b)&&(b+=" "+d[g]);return b}function Me(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),d=0;d<b.length;d++){var g=b[d].CodeMirror;g&&a(g)}}function Ue(){var a;J(window,"resize",function(){null==a&&(a=setTimeout(function(){gc=a=null;Me(cf)},100))});J(window,"blur",function(){Me(kc)})}function Ve(a){if(null!=gc)return gc;
var b=D("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");Da(a,b);b.offsetWidth&&(gc=b.offsetHeight-b.clientHeight);return gc||0}function zf(a){if(null==Hd){var b=D("span","\u200b");Da(a,D("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(Hd=1>=b.offsetWidth&&2<b.offsetHeight&&!(N&&8>R))}return Hd?D("span","\u200b"):D("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function Xe(a,b,d,g){if(!a)return g(b,d,"ltr");for(var h=!1,c=0;c<
a.length;++c){var e=a[c];if(e.from<d&&e.to>b||b==d&&e.to==b)g(Math.max(e.from,b),Math.min(e.to,d),1==e.level?"rtl":"ltr"),h=!0}h||g(b,d,"ltr")}function gd(a){return a.level%2?a.to:a.from}function hd(a){return a.level%2?a.from:a.to}function uc(a){return(a=Ea(a))?gd(a[0]):0}function vc(a){var b=Ea(a);return b?hd(Q(b)):a.text.length}function Ne(a,b){var d=G(a.doc,b),g=Fa(d);g!=d&&(b=V(g));g=(d=Ea(g))?d[0].level%2?vc(g):uc(g):0;return A(b,g)}function id(a,b){Wb=null;for(var d=0,g;d<a.length;++d){var h=
a[d];if(h.from<b&&h.to>b)return d;if(h.from==b||h.to==b)if(null==g)g=d;else{var c;c=h.level;var e=a[g].level,f=a[0].level;c=c==f?!0:e==f?!1:c<e;if(c)return h.from!=h.to&&(Wb=g),d;h.from!=h.to&&(Wb=d);break}}return g}function Id(a,b,d,g){if(!g)return b+d;do b+=d;while(0<b&&Rb(a.text.charAt(b)));return b}function kd(a,b,d,g){var h=Ea(a);if(!h)return se(a,b,d,g);var c=id(h,b),e=h[c];for(b=Id(a,b,e.level%2?-d:d,g);;){if(b>e.from&&b<e.to)return b;if(b==e.from||b==e.to){if(id(h,b)==c)return b;e=h[c+d];
return 0<d==e.level%2?e.to:e.from}e=h[c+=d];if(!e)return null;b=0<d==e.level%2?Id(a,e.to,-1,g):Id(a,e.from,1,g)}}function se(a,b,d,g){b+=d;if(g)for(;0<b&&Rb(a.text.charAt(b));)b+=d;return 0>b||b>a.text.length?null:b}var ac=/gecko\/\d/i.test(navigator.userAgent),Oe=/MSIE \d/.test(navigator.userAgent),Pe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),N=Oe||Pe,R=N&&(Oe?document.documentMode||6:Pe[1]),fa=/WebKit\//.test(navigator.userAgent),Df=fa&&/Qt\/\d+\.\d+/.test(navigator.userAgent),
Ef=/Chrome\//.test(navigator.userAgent),va=/Opera\//.test(navigator.userAgent),ae=/Apple Computer/.test(navigator.vendor),ad=/KHTML\//.test(navigator.userAgent),We=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),$e=/PhantomJS/.test(navigator.userAgent),Jb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Xc=Jb||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ba=Jb||/Mac/.test(navigator.platform),Ff=/win/i.test(navigator.platform),
qb=va&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);qb&&(qb=Number(qb[1]));qb&&15<=qb&&(va=!1,fa=!0);var Qe=Ba&&(Df||va&&(null==qb||12.11>qb)),qd=ac||N&&9<=R,ke=!1,Sa=!1,A=c.Pos=function(a,b){if(!(this instanceof A))return new A(a,b);this.line=a;this.ch=b},K=c.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};ea.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;
for(var b=0;b<this.ranges.length;b++){var d=this.ranges[b],g=a.ranges[b];if(0!=K(d.anchor,g.anchor)||0!=K(d.head,g.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new M(eb(this.ranges[b].anchor),eb(this.ranges[b].head));return new ea(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var d=0;d<this.ranges.length;d++){var g=this.ranges[d];if(0<=
K(b,g.from())&&0>=K(a,g.to()))return d}return-1}};M.prototype={from:function(){return ra(this.anchor,this.head)},to:function(){return fb(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var fd={left:0,right:0,top:0,bottom:0},kb,Ze=0,Cc,Bc,$d=0,Ec=0,wa=null;N?wa=-.53:ac?wa=15:Ef?wa=-.7:ae&&(wa=-1/3);var ge,ud=null,lb=c.changeEnd=function(a){return a.text?A(a.from.line+a.text.length-1,Q(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};
c.prototype={constructor:c,focus:function(){window.focus();ma(this);Yb(this)},setOption:function(a,b){var d=this.options,g=d[a];if(d[a]!=b||"mode"==a)d[a]=b,sb.hasOwnProperty(a)&&X(this,sb[a])(this,b,g)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,d=0;d<b.length;++d)if(b[d]==a||"string"!=typeof b[d]&&b[d].name==a)return b.splice(d,1),!0},addOverlay:ba(function(a,
b){var d=a.token?a:c.getMode(this.options,a);if(d.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;oa(this)}),removeOverlay:ba(function(a){for(var b=this.state.overlays,d=0;d<b.length;++d){var g=b[d].modeSpec;if(g==a||"string"==typeof a&&g.name==a){b.splice(d,1);this.state.modeGen++;oa(this);break}}}),indentLine:ba(function(a,b,d){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?
"smart":"prev":b?"add":"subtract");W(this.doc,a)&&Zb(this,a,b,d)}),indentSelection:ba(function(a){for(var b=this.doc.sel.ranges,d=-1,g=0;g<b.length;g++){var h=b[g];if(h.empty())h.head.line>d&&(Zb(this,h.head.line,a,!0),d=h.head.line,g==this.doc.sel.primIndex&&zb(this));else for(var c=Math.max(d,h.from().line),d=h.to(),d=Math.min(this.lastLine(),d.line-(d.ch?0:1))+1;c<d;++c)Zb(this,c,a)}}),getTokenAt:function(a,b){var d=this.doc;a=E(d,a);for(var g=jb(this,a.line,b),h=this.doc.mode,d=G(d,a.line),d=
new Tc(d.text,this.options.tabSize);d.pos<a.ch&&!d.eol();){d.start=d.pos;var c=Cd(h,d,g)}return{start:d.start,end:d.pos,string:d.current(),type:c||null,state:g}},getTokenTypeAt:function(a){a=E(this.doc,a);var b=De(this,G(this.doc,a.line)),d=0,g=(b.length-1)/2;a=a.ch;var h;if(0==a)h=b[2];else for(;;){var c=d+g>>1;if((c?b[2*c-1]:0)>=a)g=c;else if(b[2*c+1]<a)d=c+1;else{h=b[2*c+2];break}}b=h?h.indexOf("cm-overlay "):-1;return 0>b?h:0==b?null:h.slice(0,b-1)},getModeAt:function(a){var b=this.doc.mode;return b.innerMode?
c.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var d=[];if(!rb.hasOwnProperty(b))return rb;var g=rb[b],h=this.getModeAt(a);if("string"==typeof h[b])g[h[b]]&&d.push(g[h[b]]);else if(h[b])for(var c=0;c<h[b].length;c++){var e=g[h[b][c]];e&&d.push(e)}else h.helperType&&g[h.helperType]?d.push(g[h.helperType]):g[h.name]&&d.push(g[h.name]);for(c=0;c<g._global.length;c++)e=g._global[c],e.pred(h,this)&&-1==ca(d,e.val)&&d.push(e.val);
return d},getStateAfter:function(a,b){var d=this.doc;a=Math.max(d.first,Math.min(null==a?d.first+d.size-1:a,d.first+d.size-1));return jb(this,a+1,b)},cursorCoords:function(a,b){var d;d=this.doc.sel.primary();d=null==a?d.head:"object"==typeof a?E(this.doc,a):a?d.from():d.to();return na(this,d,b||"page")},charCoords:function(a,b){return ib(this,E(this.doc,a),b||"page")},coordsChar:function(a,b){a=Vb(this,a,b||"page");return Va(this,a.left,a.top)},lineAtHeight:function(a,b){a=Vb(this,{top:a,left:0},
b||"page").top;return cb(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var d=!1,g=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>g&&(a=g,d=!0);g=G(this.doc,a);return Ha(this,g,{top:0,left:0},b||"page").top+(d?this.doc.height-Ca(g):0)},defaultTextHeight:function(){return C(this.display)},defaultCharWidth:function(){return Za(this.display)},setGutterMarker:ba(function(a,b,d){return Nc(this.doc,a,"gutter",function(a){var h=a.gutterMarkers||(a.gutterMarkers={});h[b]=
d;!d&&Le(h)&&(a.gutterMarkers=null);return!0})}),clearGutter:ba(function(a){var b=this,d=b.doc,g=d.first;d.iter(function(d){d.gutterMarkers&&d.gutterMarkers[a]&&(d.gutterMarkers[a]=null,Na(b,g,"gutter"),Le(d.gutterMarkers)&&(d.gutterMarkers=null));++g})}),addLineWidget:ba(function(a,b,d){return tf(this,a,b,d)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!W(this.doc,a))return null;var b=a;a=G(this.doc,a);if(!a)return null}else if(b=V(a),null==b)return null;
return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,d,g,h){var c=this.display;a=na(this,E(this.doc,a));var e=a.bottom,f=a.left;b.style.position="absolute";c.sizer.appendChild(b);if("over"==g)e=a.top;else if("above"==g||"near"==g){var k=Math.max(c.wrapper.clientHeight,this.doc.height),p=Math.max(c.sizer.clientWidth,
c.lineSpace.clientWidth);("above"==g||a.bottom+b.offsetHeight>k)&&a.top>b.offsetHeight?e=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=k&&(e=a.bottom);f+b.offsetWidth>p&&(f=p-b.offsetWidth)}b.style.top=e+"px";b.style.left=b.style.right="";"right"==h?(f=c.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==h?f=0:"middle"==h&&(f=(c.sizer.clientWidth-b.offsetWidth)/2),b.style.left=f+"px");d&&(a=xc(this,f,e,f+b.offsetWidth,e+b.offsetHeight),null!=a.scrollTop&&Xb(this,a.scrollTop),null!=a.scrollLeft&&
ub(this,a.scrollLeft))},triggerOnKeyDown:ba(Yd),triggerOnKeyPress:ba(Zd),triggerOnKeyUp:ba(Xd),execCommand:function(a){if(Gc.hasOwnProperty(a))return Gc[a](this)},findPosH:function(a,b,d,g){var h=1;0>b&&(h=-1,b=-b);var c=0;for(a=E(this.doc,a);c<b&&(a=Ad(this.doc,a,h,d,g),!a.hitSide);++c);return a},moveH:ba(function(a,b){var d=this;d.extendSelectionsBy(function(g){return d.display.shift||d.doc.extend||g.empty()?Ad(d.doc,g.head,a,b,d.options.rtlMoveVisually):0>a?g.from():g.to()},Wc)}),deleteH:ba(function(a,
b){var d=this.doc;this.doc.sel.somethingSelected()?d.replaceSelection("",null,"+delete"):Oc(this,function(g){var h=Ad(d,g.head,a,b,!1);return 0>a?{from:h,to:g.head}:{from:g.head,to:h}})}),findPosV:function(a,b,d,g){var h=1;0>b&&(h=-1,b=-b);var c=0;for(a=E(this.doc,a);c<b&&(a=na(this,a,"div"),null==g?g=a.left:a.left=g,a=te(this,a,h,d),!a.hitSide);++c);return a},moveV:ba(function(a,b){var d=this,g=this.doc,h=[],c=!d.display.shift&&!g.extend&&g.sel.somethingSelected();g.extendSelectionsBy(function(e){if(c)return 0>
a?e.from():e.to();var f=na(d,e.head,"div");null!=e.goalColumn&&(f.left=e.goalColumn);h.push(f.left);var k=te(d,f,a,b);"page"==b&&e==g.sel.primary()&&Lc(d,null,ib(d,k,"div").top-f.top);return k},Wc);if(h.length)for(var e=0;e<g.sel.ranges.length;e++)g.sel.ranges[e].goalColumn=h[e]}),toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?Jc(this.display.cursorDiv,"CodeMirror-overwrite"):Ic(this.display.cursorDiv,"CodeMirror-overwrite"),aa(this,"overwriteToggle",
this,this.state.overwrite)},hasFocus:function(){return Qa()==this.display.input},scrollTo:ba(function(a,b){null==a&&null==b||Mc(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=qa;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:ba(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==
b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:A(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line)Mc(this),this.curOp.scrollToPos=a;else{var d=xc(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(d.scrollLeft,d.scrollTop)}}),setSize:ba(function(a,b){function d(a){return"number"==typeof a||/^\d+$/.test(String(a))?
a+"px":a}var g=this;null!=a&&(g.display.wrapper.style.width=d(a));null!=b&&(g.display.wrapper.style.height=d(b));g.options.lineWrapping&&Tb(this);var h=g.display.viewFrom;g.doc.iter(h,g.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Na(g,h,"widget");break}++h});g.curOp.forceUpdate=!0;aa(g,"refresh",this)}),operation:function(a){return Ka(this,a)},refresh:ba(function(){var a=this.display.cachedTextHeight;oa(this);this.curOp.forceUpdate=!0;Aa(this);
this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);s(this);(null==a||.5<Math.abs(a-C(this.display)))&&e(this);aa(this,"refresh",this)}),swapDoc:ba(function(a){var b=this.doc;b.cm=null;Kd(this,a);Aa(this);ya(this);this.scrollTo(a.scrollLeft,a.scrollTop);Y(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
Hb(c);var Se=c.defaults={},sb=c.optionHandlers={},Ld=c.Init={toString:function(){return"CodeMirror.Init"}};I("value","",function(a,b){a.setValue(b)},!0);I("mode",null,function(a,b){a.doc.modeOption=b;u(a)},!0);I("indentUnit",2,u,!0);I("indentWithTabs",!1);I("smartIndent",!0);I("tabSize",4,function(a){t(a);Aa(a);oa(a)},!0);I("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(a,b){a.options.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g");a.refresh()},!0);I("specialCharPlaceholder",
function(a){var b=D("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);return b},function(a){a.refresh()},!0);I("electricChars",!0);I("rtlMoveVisually",!Ff);I("wholeLineUpdateBefore",!0);I("theme","default",function(a){f(a);m(a)},!0);I("keyMap","default",l);I("extraKeys",null);I("lineWrapping",!1,function(a){a.options.lineWrapping?(Jc(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(Ic(a.display.wrapper,"CodeMirror-wrap"),q(a));e(a);oa(a);Aa(a);setTimeout(function(){y(a)},
100)},!0);I("gutters",[],function(a){p(a.options);m(a)},!0);I("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?L(a.display)+"px":"0";a.refresh()},!0);I("coverGutterNextToScrollbar",!1,y,!0);I("lineNumbers",!1,function(a){p(a.options);m(a)},!0);I("firstLineNumber",1,m,!0);I("lineNumberFormatter",function(a){return a},m,!0);I("showCursorWhenSelecting",!1,db,!0);I("resetSelectionOnContextMenu",!0);I("readOnly",!1,function(a,b){"nocursor"==b?(kc(a),a.display.input.blur(),a.display.disabled=
!0):(a.display.disabled=!1,b||ya(a))});I("disableInput",!1,function(a,b){b||ya(a)},!0);I("dragDrop",!0);I("cursorBlinkRate",530);I("cursorScrollMargin",0);I("cursorHeight",1,db,!0);I("singleCursorHeightPerLine",!0,db,!0);I("workTime",100);I("workDelay",100);I("flattenSpans",!0,t,!0);I("addModeClass",!1,t,!0);I("pollInterval",100);I("undoDepth",200,function(a,b){a.doc.history.undoDepth=b});I("historyEventDelay",1250);I("viewportMargin",10,function(a){a.refresh()},!0);I("maxHighlightLength",1E4,t,!0);
I("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)});I("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});I("autofocus",null);var Re=c.modes={},hc=c.mimeModes={};c.defineMode=function(a,b){c.defaults.mode||"null"==a||(c.defaults.mode=a);if(2<arguments.length){b.dependencies=[];for(var d=2;d<arguments.length;++d)b.dependencies.push(arguments[d])}Re[a]=b};c.defineMIME=function(a,b){hc[a]=b};c.resolveMode=function(a){if("string"==typeof a&&
hc.hasOwnProperty(a))a=hc[a];else if(a&&"string"==typeof a.name&&hc.hasOwnProperty(a.name)){var b=hc[a.name];"string"==typeof b&&(b={name:b});a=Je(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return c.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};c.getMode=function(a,b){b=c.resolveMode(b);var d=Re[b.name];if(!d)return c.getMode(a,"text/plain");d=d(a,b);if(ic.hasOwnProperty(b.name)){var g=ic[b.name],h;for(h in g)g.hasOwnProperty(h)&&
(d.hasOwnProperty(h)&&(d["_"+h]=d[h]),d[h]=g[h])}d.name=b.name;b.helperType&&(d.helperType=b.helperType);if(b.modeProps)for(h in b.modeProps)d[h]=b.modeProps[h];return d};c.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});c.defineMIME("text/plain","null");var ic=c.modeExtensions={};c.extendMode=function(a,b){var d=ic.hasOwnProperty(a)?ic[a]:ic[a]={};Ib(b,d)};c.defineExtension=function(a,b){c.prototype[a]=b};c.defineDocExtension=function(a,b){ka.prototype[a]=b};c.defineOption=
I;var $c=[];c.defineInitHook=function(a){$c.push(a)};var rb=c.helpers={};c.registerHelper=function(a,b,d){rb.hasOwnProperty(a)||(rb[a]=c[a]={_global:[]});rb[a][b]=d};c.registerGlobalHelper=function(a,b,d,g){c.registerHelper(a,b,g);rb[a]._global.push({pred:d,val:g})};var Qb=c.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var d={},g;for(g in b){var h=b[g];h instanceof Array&&(h=h.concat([]));d[g]=h}return d},Ye=c.startState=function(a,b,d){return a.startState?a.startState(b,
d):!0};c.innerMode=function(a,b){for(;a.innerMode;){var d=a.innerMode(b);if(!d||d.mode==a)break;b=d.state;a=d.mode}return d||{mode:a,state:b}};var Gc=c.commands={selectAll:function(a){a.setSelection(A(a.firstLine(),0),A(a.lastLine()),hb)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),hb)},killLine:function(a){Oc(a,function(b){if(b.empty()){var d=G(a.doc,b.head.line).text.length;return b.head.ch==d&&b.head.line<a.lastLine()?{from:b.head,to:A(b.head.line+1,0)}:
{from:b.head,to:A(b.head.line,d)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Oc(a,function(b){return{from:A(b.from().line,0),to:E(a.doc,A(b.to().line+1,0))}})},delLineLeft:function(a){Oc(a,function(a){return{from:A(a.from().line,0),to:a.from()}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(A(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(A(a.lastLine()))},
goLineStart:function(a){a.extendSelectionsBy(function(b){return Ne(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){var d=Ne(a,b.head.line),g=a.getLineHandle(d.line),h=Ea(g);return h&&0!=h[0].level?d:(g=Math.max(0,g.text.search(/\S/)),A(d.line,b.head.line==d.line&&b.head.ch<=g&&b.head.ch?0:g))},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var d,g=G(a.doc,b);d=bb(g,!1);)g=d.find(1,!0).line,
b=null;d=(d=Ea(g))?d[0].level%2?uc(g):vc(g):g.text.length;return A(null==b?V(g):b,d)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},Wc)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Wc)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},
goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,
"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],d=a.listSelections(),g=a.options.tabSize,h=0;h<d.length;h++){var c=
d[h].from(),c=ua(a.getLine(c.line),c.ch,g);b.push(Array(g-c%g+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Ka(a,function(){for(var b=a.listSelections(),d=[],g=0;g<b.length;g++){var h=b[g].head,c=G(a.doc,h.line).text;if(c)if(h.ch==c.length&&(h=new A(h.line,h.ch-1)),0<h.ch)h=new A(h.line,h.ch+1),a.replaceRange(c.charAt(h.ch-1)+c.charAt(h.ch-2),A(h.line,h.ch-2),h,"+transpose");else if(h.line>
a.doc.first){var e=G(a.doc,h.line-1).text;e&&a.replaceRange(c.charAt(0)+"\n"+e.charAt(e.length-1),A(h.line-1,e.length-1),A(h.line,1),"+transpose")}d.push(new M(h,h))}a.setSelections(d)})},newlineAndIndent:function(a){Ka(a,function(){for(var b=a.listSelections().length,d=0;d<b;d++){var g=a.listSelections()[d];a.replaceRange("\n",g.anchor,g.head,"+input");a.indentLine(g.from().line+1,null,!0);zb(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},La=c.keyMap={};La.basic={Left:"goCharLeft",Right:"goCharRight",
Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};La.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd",
"Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};La.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection",
"Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};La.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};La["default"]=Ba?La.macDefault:La.pcDefault;var Hc=c.lookupKey=
function(a,b,d){function g(b){b=td(b);var h=b[a];if(!1===h)return"stop";if(null!=h&&d(h))return!0;if(b.nofallthrough)return"stop";b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return g(b);for(h=0;h<b.length;++h){var c=g(b[h]);if(c)return c}return!1}for(var h=0;h<b.length;++h){var c=g(b[h]);if(c)return"stop"!=c}},hf=c.isModifierKey=function(a){a=Xa[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},jf=c.keyName=function(a,b){if(va&&34==a.keyCode&&
a["char"])return!1;var d=Xa[a.keyCode];if(null==d||a.altGraphKey)return!1;a.altKey&&(d="Alt-"+d);if(Qe?a.metaKey:a.ctrlKey)d="Ctrl-"+d;if(Qe?a.ctrlKey:a.metaKey)d="Cmd-"+d;!b&&a.shiftKey&&(d="Shift-"+d);return d};c.fromTextArea=function(a,b){function d(){a.value=p.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var g=Qa();b.autofocus=g==a||null!=a.getAttribute("autofocus")&&g==
document.body}if(a.form&&(J(a.form,"submit",d),!b.leaveSubmitMethodAlone)){var h=a.form,e=h.submit;try{var f=h.submit=function(){d();h.submit=e;h.submit();h.submit=f}}catch(k){}}a.style.display="none";var p=c(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);p.save=d;p.getTextArea=function(){return a};p.toTextArea=function(){d();a.parentNode.removeChild(p.getWrapperElement());a.style.display="";a.form&&(Pa(a.form,"submit",d),"function"==typeof a.form.submit&&(a.form.submit=e))};return p};
var Tc=c.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};Tc.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):
a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&(this.lastColumnValue=ua(this.string,this.start,this.tabSize,this.lastColumnPos,
this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?ua(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ua(this.string,null,this.tabSize)-(this.lineStart?ua(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,d){if("string"==typeof a){var g=function(a){return d?a.toLowerCase():a},h=this.string.substr(this.pos,a.length);if(g(h)==g(a))return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&
0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var ob=c.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a};Hb(ob);ob.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&H(a);if(sa(this,"clear")){var d=this.find();d&&Y(this,"clear",d.from,d.to)}for(var g=d=null,h=0;h<this.lines.length;++h){var c=
this.lines[h],e=dc(c.markedSpans,this);a&&!this.collapsed?Na(a,V(c),"text"):a&&(null!=e.to&&(g=V(c)),null!=e.from&&(d=V(c)));for(var f=c,p=c.markedSpans,q=e,l=void 0,m=0;m<p.length;++m)p[m]!=q&&(l||(l=[])).push(p[m]);f.markedSpans=l;null==e.from&&this.collapsed&&!$a(this.doc,c)&&a&&za(c,C(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(h=0;h<this.lines.length;++h)c=Fa(this.lines[h]),e=k(c),e>a.display.maxLineLength&&(a.display.maxLine=c,a.display.maxLineLength=e,a.display.maxLineChanged=
!0);null!=d&&a&&this.collapsed&&oa(a,d,g+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Pb(a.doc));a&&Y(a,"markerCleared",a,this);b&&Bb(a);this.parent&&this.parent.clear()}};ob.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var d,g,h=0;h<this.lines.length;++h){var c=this.lines[h],e=dc(c.markedSpans,this);if(null!=e.from&&(d=A(b?c:V(c),e.from),-1==a))return d;if(null!=e.to&&(g=A(b?c:V(c),e.to),1==a))return g}return d&&
{from:d,to:g}};ob.prototype.changed=function(){var a=this.find(-1,!0),b=this,d=this.doc.cm;a&&d&&Ka(d,function(){var g=a.line,h=V(a.line);if(h=sc(d,h))Oa(h),d.curOp.selectionChanged=d.curOp.forceUpdate=!0;d.curOp.updateMaxLine=!0;$a(b.doc,g)||null==b.height||(h=b.height,b.height=null,(h=Ub(b)-h)&&za(g,g.height+h))})};ob.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=ca(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=
[])).push(this)}this.lines.push(a)};ob.prototype.detachLine=function(a){this.lines.splice(ca(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};var qf=0,Rc=c.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(var d=0;d<a.length;++d)a[d].parent=this};Hb(Rc);Rc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Y(this,
"clear")}};Rc.prototype.find=function(a,b){return this.primary.find(a,b)};var Sc=c.LineWidget=function(a,b,d){if(d)for(var g in d)d.hasOwnProperty(g)&&(this[g]=d[g]);this.cm=a;this.node=b};Hb(Sc);Sc.prototype.clear=function(){var a=this.cm,b=this.line.widgets,d=this.line,g=V(d);if(null!=g&&b){for(var h=0;h<b.length;++h)b[h]==this&&b.splice(h--,1);b.length||(d.widgets=null);var c=Ub(this);Ka(a,function(){var b=-c;Ca(d)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Lc(a,null,b);Na(a,g,"widget");za(d,
Math.max(0,d.height-c))})}};Sc.prototype.changed=function(){var a=this.height,b=this.cm,d=this.line;this.height=null;var g=Ub(this)-a;g&&Ka(b,function(){b.curOp.forceUpdate=!0;Ca(d)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Lc(b,null,g);za(d,d.height+g)})};var pb=c.Line=function(a,b,d){this.text=a;ye(this,b);this.height=d?d(this):1};Hb(pb);pb.prototype.lineNo=function(){return V(this)};var vf={},uf={};ec.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var d=
a,g=a+b;d<g;++d){var h=this.lines[d];this.height-=h.height;var c=h;c.parent=null;xe(c);Y(h,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,d){this.height+=d;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,d){for(b=a+b;a<b;++a)if(d(this.lines[a]))return!0}};fc.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var d=
0;d<this.children.length;++d){var g=this.children[d],h=g.chunkSize();if(a<h){var c=Math.min(b,h-a),e=g.height;g.removeInner(a,c);this.height-=e-g.height;h==c&&(this.children.splice(d--,1),g.parent=null);if(0==(b-=c))break;a=0}else a-=h}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof ec))&&(d=[],this.collapse(d),this.children=[new ec(d)],this.children[0].parent=this)},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,
b,d){this.size+=b.length;this.height+=d;for(var g=0;g<this.children.length;++g){var h=this.children[g],c=h.chunkSize();if(a<=c){h.insertInner(a,b,d);if(h.lines&&50<h.lines.length){for(;50<h.lines.length;)a=h.lines.splice(h.lines.length-25,25),a=new ec(a),h.height-=a.height,this.children.splice(g+1,0,a),a.parent=this;this.maybeSpill()}break}a-=c}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new fc(b);if(a.parent){a.size-=b.size;
a.height-=b.height;var d=ca(a.parent.children,a);a.parent.children.splice(d+1,0,b)}else d=new fc(a.children),d.parent=a,a.children=[d,b],a=d;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,d){for(var g=0;g<this.children.length;++g){var h=this.children[g],c=h.chunkSize();if(a<c){c=Math.min(b,c-a);if(h.iterN(a,c,d))return!0;if(0==(b-=c))break;a=0}else a-=c}}};var Gf=0,ka=c.Doc=function(a,b,d){if(!(this instanceof ka))return new ka(a,b,d);null==d&&(d=0);fc.call(this,
[new ec([new pb("",null)])]);this.first=d;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=d;d=A(d,0);this.sel=O(d);this.history=new Uc(null);this.id=++Gf;this.modeOption=b;"string"==typeof a&&(a=Cb(a));zd(this,{from:d,to:d,text:a});$(this,O(d),hb)};ka.prototype=Je(fc.prototype,{constructor:ka,iter:function(a,b,d){d?this.iterN(a-this.first,b-a,d):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var d=0,g=0;g<b.length;++g)d+=b[g].height;
this.insertInner(a-this.first,b,d)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Fd(this,this.first,this.first+this.size);return!1===a?b:b.join(a||"\n")},setValue:ia(function(a){var b=A(this.first,0),d=this.first+this.size-1;Db(this,{from:b,to:A(d,G(this,d).text.length),text:Cb(a),origin:"setValue"},!0);$(this,O(b))}),replaceRange:function(a,b,d,g){b=E(this,b);d=d?E(this,d):b;Dc(this,a,b,d,g)},getRange:function(a,b,d){a=cc(this,E(this,a),E(this,b));return!1===
d?a:a.join(d||"\n")},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(W(this,a))return G(this,a)},getLineNumber:function(a){return V(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=G(this,a));return Fa(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return E(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==
a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ia(function(a,b,d){a=E(this,"number"==typeof a?A(a,b||0):a);$(this,O(a,null),d)}),setSelection:ia(function(a,b,d){var g=E(this,a);a=E(this,b||a);$(this,O(g,a),d)}),extendSelection:ia(function(a,b,d){wb(this,E(this,a),b&&E(this,b),d)}),extendSelections:ia(function(a,b){for(var d=[],g=0;g<a.length;g++)d[g]=
E(this,a[g]);xb(this,d)}),extendSelectionsBy:ia(function(a,b){xb(this,yd(this.sel.ranges,a),b)}),setSelections:ia(function(a,b,d){if(a.length){for(var g=0,h=[];g<a.length;g++)h[g]=new M(E(this,a[g].anchor),E(this,a[g].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));$(this,Z(h,b),d)}}),addSelection:ia(function(a,b,d){var g=this.sel.ranges.slice(0);g.push(new M(E(this,a),E(this,b||a)));$(this,Z(g,g.length-1),d)}),getSelection:function(a){for(var b=this.sel.ranges,d,g=0;g<b.length;g++){var h=
cc(this,b[g].from(),b[g].to());d=d?d.concat(h):h}return!1===a?d:d.join(a||"\n")},getSelections:function(a){for(var b=[],d=this.sel.ranges,g=0;g<d.length;g++){var h=cc(this,d[g].from(),d[g].to());!1!==a&&(h=h.join(a||"\n"));b[g]=h}return b},replaceSelection:function(a,b,d){for(var g=[],h=0;h<this.sel.ranges.length;h++)g[h]=a;this.replaceSelections(g,b,d||"+input")},replaceSelections:ia(function(a,b,d){for(var g=[],h=this.sel,c=0;c<h.ranges.length;c++){var e=h.ranges[c];g[c]={from:e.from(),to:e.to(),
text:Cb(a[c]),origin:d}}if(c=b&&"end"!=b){c=[];d=a=A(this.first,0);for(h=0;h<g.length;h++){var f=g[h],e=ie(f.from,a,d),k=ie(lb(f),a,d);a=f.to;d=k;"around"==b?(f=this.sel.ranges[h],f=0>K(f.head,f.anchor),c[h]=new M(f?k:e,f?e:k)):c[h]=new M(e,e)}c=new ea(c,this.sel.primIndex)}b=c;for(c=g.length-1;0<=c;c--)Db(this,g[c]);b?Ob(this,b):this.cm&&zb(this.cm)}),undo:ia(function(){Kc(this,"undo")}),redo:ia(function(){Kc(this,"redo")}),undoSelection:ia(function(){Kc(this,"undo",!0)}),redoSelection:ia(function(){Kc(this,
"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,d=0,g=0;g<a.done.length;g++)a.done[g].ranges||++b;for(g=0;g<a.undone.length;g++)a.undone[g].ranges||++d;return{undo:b,redo:d}},clearHistory:function(){this.history=new Uc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastOrigin=null);return this.history.generation},
isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Gb(this.history.done),undone:Gb(this.history.undone)}},setHistory:function(a){var b=this.history=new Uc(this.history.maxGeneration);b.done=Gb(a.done.slice(0),null,!0);b.undone=Gb(a.undone.slice(0),null,!0)},addLineClass:ia(function(a,b,d){return Nc(this,a,"class",function(a){var h="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[h]){if((new RegExp("(?:^|\\s)"+d+"(?:$|\\s)")).test(a[h]))return!1;
a[h]+=" "+d}else a[h]=d;return!0})}),removeLineClass:ia(function(a,b,d){return Nc(this,a,"class",function(a){var h="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",c=a[h];if(c)if(null==d)a[h]=null;else{var e=c.match(new RegExp("(?:^|\\s+)"+d+"(?:$|\\s+)"));if(!e)return!1;var f=e.index+e[0].length;a[h]=c.slice(0,e.index)+(e.index&&f!=c.length?" ":"")+c.slice(f)||null}else return!1;return!0})}),markText:function(a,b,d){return Fb(this,E(this,a),E(this,b),d,"range")},setBookmark:function(a,
b){var d={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};a=E(this,a);return Fb(this,a,a,d,"bookmark")},findMarksAt:function(a){a=E(this,a);var b=[],d=G(this,a.line).markedSpans;if(d)for(var g=0;g<d.length;++g){var h=d[g];(null==h.from||h.from<=a.ch)&&(null==h.to||h.to>=a.ch)&&b.push(h.marker.parent||h.marker)}return b},findMarks:function(a,b,d){a=E(this,a);b=E(this,b);var g=[],h=a.line;this.iter(a.line,b.line+1,function(c){if(c=c.markedSpans)for(var e=
0;e<c.length;e++){var f=c[e];h==a.line&&a.ch>f.to||null==f.from&&h!=a.line||h==b.line&&f.from>b.ch||d&&!d(f.marker)||g.push(f.marker.parent||f.marker)}++h});return g},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var d=0;d<b.length;++d)null!=b[d].from&&a.push(b[d].marker)});return a},posFromIndex:function(a){var b,d=this.first;this.iter(function(g){g=g.text.length+1;if(g>a)return b=a,!0;a-=g;++d});return E(this,A(d,b))},indexFromPos:function(a){a=E(this,a);var b=a.ch;
if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=new ka(Fd(this,this.first,this.first+this.size),this.modeOption,this.first);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,d=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<
d&&(d=a.to);b=new ka(Fd(this,b,d),a.mode||this.modeOption,b);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=ve(this);for(d=0;d<a.length;d++){var g=a[d],h=g.find(),c=b.clipPos(h.from),h=b.clipPos(h.to);K(c,h)&&(c=Fb(b,c,h,g.primary,g.primary.type),g.markers.push(c),c.parent=g)}return b},unlinkDoc:function(a){a instanceof c&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==
a){this.linked.splice(b,1);a.unlinkDoc(this);rf(ve(this));break}if(a.history==this.history){var d=[a.id];nb(a,function(a){d.push(a.id)},!0);a.history=new Uc(null);a.history.done=Gb(this.history.done,d);a.history.undone=Gb(this.history.undone,d)}},iterLinkedDocs:function(a){nb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});ka.prototype.eachLine=ka.prototype.iter;var Hf=["iter","insert","remove","copy","getEditor"],jc;for(jc in ka.prototype)ka.prototype.hasOwnProperty(jc)&&
0>ca(Hf,jc)&&(c.prototype[jc]=function(a){return function(){return a.apply(this.doc,arguments)}}(ka.prototype[jc]));Hb(ka);var ja=c.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},If=c.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},nd=c.e_stop=function(a){ja(a);If(a)},J=c.on=function(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent?a.attachEvent("on"+b,d):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(d))},
Pa=c.off=function(a,b,d){if(a.removeEventListener)a.removeEventListener(b,d,!1);else if(a.detachEvent)a.detachEvent("on"+b,d);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==d){a.splice(b,1);break}},aa=c.signal=function(a,b){var d=a._handlers&&a._handlers[b];if(d)for(var g=Array.prototype.slice.call(arguments,2),h=0;h<d.length;++h)d[h].apply(null,g)},Wa,wc=0,qa=30,de=c.Pass={toString:function(){return"CodeMirror.Pass"}},hb={scroll:!1},rd={origin:"*mouse"},Wc={origin:"+move"};
Yc.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var ua=c.countColumn=function(a,b,d,g,h){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));g=g||0;for(h=h||0;;){var c=a.indexOf("\t",g);if(0>c||c>=b)return h+(b-g);h+=c-g;h+=d-h%d;g=c+1}},Vc=[""],$b=function(a){a.select()};Jb?$b=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:N&&($b=function(a){try{a.select()}catch(b){}});[].indexOf&&(ca=function(a,b){return a.indexOf(b)});[].map&&(yd=function(a,b){return a.map(b)});
var Jf=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ke=c.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Jf.test(a))},Cf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Sb;Sb=document.createRange?function(a,b,d){var g=document.createRange();g.setEnd(a,d);g.setStart(a,b);return g}:function(a,b,d){var g=document.body.createTextRange();g.moveToElementText(a.parentNode);g.collapse(!0);g.moveEnd("character",d);g.moveStart("character",b);return g};N&&11>R&&(Qa=function(){try{return document.activeElement}catch(a){return document.body}});var Jd=!1,ef=function(){if(N&&9>R)return!1;var a=D("div");return"draggable"in a||"dragDrop"in a}(),gc,Hd,Dd,Cb=c.splitLines=3!="\n\nb".split(/\n/).length?
function(a){for(var b=0,d=[],g=a.length;b<=g;){var h=a.indexOf("\n",b);-1==h&&(h=a.length);var c=a.slice(b,"\r"==a.charAt(h-1)?h-1:h),e=c.indexOf("\r");-1!=e?(d.push(c.slice(0,e)),b+=e+1):(d.push(c),b=h+1)}return d}:function(a){return a.split(/\r\n?|\n/)},af=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(d){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Ud=
function(){var a=D("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Xa={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",
219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};c.keyNames=Xa;(function(){for(var a=0;10>a;a++)Xa[a+48]=Xa[a+96]=String(a);for(a=65;90>=a;a++)Xa[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Xa[a+111]=Xa[a+63235]="F"+a})();var Wb,Af=function(){function a(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):
1424<=a&&1524>=a?"R":1536<=a&&1773>=a?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(a-1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,d){this.level=a;this.from=b;this.to=d}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,h=/[LRr]/,c=/[Lb1n]/,e=/[1n]/;return function(f){if(!d.test(f))return!1;
for(var k=f.length,p=[],q=0,l;q<k;++q)p.push(a(f.charCodeAt(q)));for(var q=0,m="L";q<k;++q)l=p[q],"m"==l?p[q]=m:m=l;q=0;for(m="L";q<k;++q)l=p[q],"1"==l&&"r"==m?p[q]="n":h.test(l)&&(m=l,"r"==l&&(p[q]="R"));q=1;for(m=p[0];q<k-1;++q)l=p[q],"+"==l&&"1"==m&&"1"==p[q+1]?p[q]="1":","!=l||m!=p[q+1]||"1"!=m&&"n"!=m||(p[q]=m),m=l;for(q=0;q<k;++q)if(l=p[q],","==l)p[q]="N";else if("%"==l){for(m=q+1;m<k&&"%"==p[m];++m);var s=q&&"!"==p[q-1]||m<k&&"1"==p[m]?"1":"N";for(l=q;l<m;++l)p[l]=s;q=m-1}q=0;for(m="L";q<k;++q)l=
p[q],"L"==m&&"1"==l?p[q]="L":h.test(l)&&(m=l);for(q=0;q<k;++q)if(g.test(p[q])){for(m=q+1;m<k&&g.test(p[m]);++m);l="L"==(m<k?p[m]:"L");s="L"==(q?p[q-1]:"L")||l?"L":"R";for(l=q;l<m;++l)p[l]=s;q=m-1}for(var m=[],n,q=0;q<k;)if(c.test(p[q])){l=q;for(++q;q<k&&c.test(p[q]);++q);m.push(new b(0,l,q))}else{var y=q,s=m.length;for(++q;q<k&&"L"!=p[q];++q);for(l=y;l<q;)if(e.test(p[l])){y<l&&m.splice(s,0,new b(1,y,l));y=l;for(++l;l<q&&e.test(p[l]);++l);m.splice(s,0,new b(2,y,l));y=l}else++l;y<q&&m.splice(s,0,new b(1,
y,q))}1==m[0].level&&(n=f.match(/^\s+/))&&(m[0].from=n[0].length,m.unshift(new b(0,0,n[0].length)));1==Q(m).level&&(n=f.match(/\s+$/))&&(Q(m).to-=n[0].length,m.push(new b(0,k-n[0].length,k)));m[0].level!=Q(m).level&&m.push(new b(m[0].level,k,k));return m}}();c.version="4.3.0";return c});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){var w=/[\w$]+/;c.registerHelper("hint","anyword",function(u,t){for(var n=t&&t.word||w,e=t&&t.range||500,l=u.getCursor(),f=u.getLine(l.line),m=l.ch,v=m;v<f.length&&n.test(f.charAt(v));)++v;for(;m&&n.test(f.charAt(m-1));)--m;for(var f=m!=v&&f.slice(m,v),s=[],k={},n=new RegExp(n.source,"g"),q=-1;1>=q;q+=
2)for(var p=l.line,z=Math.min(Math.max(p+q*e,u.firstLine()),u.lastLine())+q;p!=z;p+=q)for(var y=u.getLine(p),x;x=n.exec(y);)p==l.line&&x[0]===f||f&&0!=x[0].lastIndexOf(f,0)||Object.prototype.hasOwnProperty.call(k,x[0])||(k[x[0]]=!0,s.push(x[0]));return{list:s,from:c.Pos(l.line,m),to:c.Pos(l.line,v)}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","brace",function(w,u){function t(k){for(var p=u.ch,q=0;;)if(p=0>=p?-1:e.lastIndexOf(k,p-1),-1==p){if(1==q)break;q=1;p=e.length}else{if(1==q&&p<u.ch)break;f=w.getTokenTypeAt(c.Pos(n,p+1));if(!/^(comment|string)/.test(f))return p+1;p-=1}}var n=u.line,e=w.getLine(n),l,f,m="{",v="}";
l=t("{");null==l&&(m="[",v="]",l=t("["));if(null!=l){var s=1,k=w.lastLine(),q,p,z=n;a:for(;z<=k;++z)for(var y=w.getLine(z),x=z==n?l:0;;){var B=y.indexOf(m,x),x=y.indexOf(v,x);0>B&&(B=y.length);0>x&&(x=y.length);x=Math.min(B,x);if(x==y.length)break;if(w.getTokenTypeAt(c.Pos(z,x+1))==f)if(x==B)++s;else if(!--s){q=z;p=x;break a}++x}if(null!=q&&(n!=q||p!=l))return{from:c.Pos(n,l),to:c.Pos(q,p)}}});c.registerHelper("fold","import",function(w,u){function t(e){if(e<w.firstLine()||e>w.lastLine())return null;
var l=w.getTokenAt(c.Pos(e,1));/\S/.test(l.string)||(l=w.getTokenAt(c.Pos(e,l.end+1)));if("keyword"!=l.type||"import"!=l.string)return null;var n=e;for(e=Math.min(w.lastLine(),e+10);n<=e;++n){var s=w.getLine(n).indexOf(";");if(-1!=s)return{startCh:l.end,end:c.Pos(n,s)}}}u=u.line;var n=t(u),e;if(!n||t(u-1)||(e=t(u-2))&&e.end.line==u-1)return null;for(e=n.end;;){var l=t(e.line+1);if(null==l)break;e=l.end}return{from:w.clipPos(c.Pos(u,n.startCh+1)),to:e}});c.registerHelper("fold","include",function(w,
u){function t(e){if(e<w.firstLine()||e>w.lastLine())return null;var f=w.getTokenAt(c.Pos(e,1));/\S/.test(f.string)||(f=w.getTokenAt(c.Pos(e,f.end+1)));if("meta"==f.type&&"#include"==f.string.slice(0,8))return f.start+8}u=u.line;var n=t(u);if(null==n||null!=t(u-1))return null;for(var e=u;null!=t(e+1);)++e;return{from:c.Pos(u,n+1),to:w.clipPos(c.Pos(e))}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,f){var m=c.getRange(e(f.line,f.ch-1),e(f.line,f.ch+1));return 2==m.length?m:null}function u(l){for(var f={name:"autoCloseBrackets",Backspace:function(f){if(f.getOption("disableInput"))return c.Pass;for(var k=f.listSelections(),q=0;q<k.length;q++){if(!k[q].empty())return c.Pass;var p=w(f,k[q].head);
if(!p||0!=l.indexOf(p)%2)return c.Pass}for(q=k.length-1;0<=q;q--)p=k[q].head,f.replaceRange("",e(p.line,p.ch-1),e(p.line,p.ch+1))}},m="",v=0;v<l.length;v+=2)(function(l,k){l!=k&&(m+=k);f["'"+l+"'"]=function(f){if(f.getOption("disableInput"))return c.Pass;for(var p=f.listSelections(),v,y,x=0;x<p.length;x++){var t=p[x],u=t.head;if("'"==l&&"comment"==f.getTokenTypeAt(u))return c.Pass;y=f.getRange(u,e(u.line,u.ch+1));if(t.empty())if(l==k&&y==k)y=f.getRange(u,e(u.line,u.ch+3))==l+l+l?"skipThree":"skip";
else if(l==k&&1<u.ch&&f.getRange(e(u.line,u.ch-2),u)==l+l&&(2>=u.ch||f.getRange(e(u.line,u.ch-3),e(u.line,u.ch-2))!=l))y="addFour";else{if(l==k&&c.isWordChar(y)||!(f.getLine(u.line).length==u.ch||0<=m.indexOf(y)||n.test(y)))return c.Pass;y="both"}else y="surround";if(!v)v=y;else if(v!=y)return c.Pass}f.operation(function(){if("skip"==v)f.execCommand("goCharRight");else if("skipThree"==v)for(var c=0;3>c;c++)f.execCommand("goCharRight");else if("surround"==v){for(var e=f.getSelections(),c=0;c<e.length;c++)e[c]=
l+e[c]+k;f.replaceSelections(e,"around")}else"both"==v?(f.replaceSelection(l+k,null),f.execCommand("goCharLeft")):"addFour"==v&&(f.replaceSelection(l+l+l+l,"before"),f.execCommand("goCharRight"))})};l!=k&&(f["'"+k+"'"]=function(f){for(var p=f.listSelections(),l=0;l<p.length;l++){var m=p[l];if(!m.empty()||f.getRange(m.head,e(m.head.line,m.head.ch+1))!=k)return c.Pass}f.execCommand("goCharRight")})})(l.charAt(v),l.charAt(v+1));return f}function t(e){return function(f){if(f.getOption("disableInput"))return c.Pass;
for(var m=f.listSelections(),n=0;n<m.length;n++){if(!m[n].empty())return c.Pass;var s=w(f,m[n].head);if(!s||0!=e.indexOf(s)%2)return c.Pass}f.operation(function(){f.replaceSelection("\n\n",null);f.execCommand("goCharLeft");m=f.listSelections();for(var c=0;c<m.length;c++){var e=m[c].head.line;f.indentLine(e,null,!0);f.indentLine(e+1,null,!0)}})}}var n=/\s/,e=c.Pos;c.defineOption("autoCloseBrackets",!1,function(e,f,m){m!=c.Init&&m&&e.removeKeyMap("autoCloseBrackets");if(f){var n="()[]{}''\"\"";m="[]{}";
"string"==typeof f?n=f:"object"==typeof f&&(null!=f.pairs&&(n=f.pairs),null!=f.explode&&(m=f.explode));f=u(n);m&&(f.Enter=t(m));e.addKeyMap(f)}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function w(l){if(l.getOption("disableInput"))return c.Pass;for(var f=l.listSelections(),m=[],v=0;v<f.length;v++){if(!f[v].empty())return c.Pass;var s=f[v].head,k=l.getTokenAt(s),q=c.innerMode(l.getMode(),k.state),p=q.state;if("xml"!=q.mode.name||!p.tagName)return c.Pass;
var z=l.getOption("autoCloseTags"),y="html"==q.mode.configuration,q="object"==typeof z&&z.dontCloseTags||y&&n,y="object"==typeof z&&z.indentTags||y&&e,z=p.tagName;k.end>s.ch&&(z=z.slice(0,z.length-k.end+s.ch));var x=z.toLowerCase();if(!z||"string"==k.type&&(k.end!=s.ch||!/[\"\']/.test(k.string.charAt(k.string.length-1))||1==k.string.length)||"tag"==k.type&&"closeTag"==p.type||k.string.indexOf("/")==k.string.length-1||q&&-1<u(q,x)||t(l,z,s,p,!0))return c.Pass;k=y&&-1<u(y,x);m[v]={indent:k,text:">"+
(k?"\n\n":"")+"</"+z+">",newPos:k?c.Pos(s.line+1,0):c.Pos(s.line,s.ch+1)}}for(v=f.length-1;0<=v;v--)s=m[v],l.replaceRange(s.text,f[v].head,f[v].anchor,"+insert"),k=l.listSelections().slice(0),k[v]={head:s.newPos,anchor:s.newPos},l.setSelections(k),s.indent&&(l.indentLine(s.newPos.line,null,!0),l.indentLine(s.newPos.line+1,null,!0))}function u(c,e){if(c.indexOf)return c.indexOf(e);for(var m=0,n=c.length;m<n;++m)if(c[m]==e)return m;return-1}function t(e,f,m,n,s){if(!c.scanForClosingTag)return!1;var k=
Math.min(e.lastLine()+1,m.line+500);m=c.scanForClosingTag(e,m,null,k);if(!m||m.tag!=f)return!1;n=n.context;for(s=s?1:0;n&&n.tagName==f;n=n.prev)++s;m=m.to;for(n=1;n<s;n++){m=c.scanForClosingTag(e,m,null,k);if(!m||m.tag!=f)return!1;m=m.to}return!0}c.defineOption("autoCloseTags",!1,function(e,f,m){m!=c.Init&&m&&e.removeKeyMap("autoCloseTags");if(f){m={name:"autoCloseTags"};if("object"!=typeof f||f.whenClosing)m["'/'"]=function(e){a:if(e.getOption("disableInput"))e=c.Pass;else{for(var f=e.listSelections(),
k=[],l=0;l<f.length;l++){if(!f[l].empty()){e=c.Pass;break a}var p=f[l].head,m=e.getTokenAt(p),n=c.innerMode(e.getMode(),m.state),x=n.state;if("string"==m.type||"<"!=m.string.charAt(0)||m.start!=p.ch-1||"xml"!=n.mode.name||!x.context||!x.context.tagName||t(e,x.context.tagName,p,x)){e=c.Pass;break a}k[l]="/"+x.context.tagName+">"}e.replaceSelections(k);e=void 0}return e};if("object"!=typeof f||f.whenOpening)m["'>'"]=function(c){return w(c)};e.addKeyMap(m)}});var n="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),
e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ")});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./runmode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./runmode"],c):c(CodeMirror)})(function(c){function w(c,n){if(3==c.nodeType)return n.push(c.nodeValue);for(var e=c.firstChild;e;e=e.nextSibling)w(e,n),u.test(c.nodeType)&&n.push("\n")}var u=/^(p|li|div|h\\d|pre|blockquote|td)$/;c.colorize=function(t,n){t||(t=document.body.getElementsByTagName("pre"));for(var e=
0;e<t.length;++e){var l=t[e],f=l.getAttribute("data-lang")||n;if(f){var m=[];w(l,m);l.innerHTML="";c.runMode(m.join(""),f,l);l.className+=" cm-s-default"}}}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){c=c.search(t);return-1==c?0:c}var u={},t=/[^\s\u00a0]/,n=c.Pos;c.commands.toggleComment=function(c){for(var l=Infinity,f=c.listSelections(),m=null,v=f.length-1;0<=v;v--){var s=f[v].from(),k=f[v].to();s.line>=l||(k.line>=l&&(k=n(l,0)),l=s.line,null==m?c.uncomment(s,k)?m="un":(c.lineComment(s,
k),m="line"):"un"==m?c.uncomment(s,k):c.lineComment(s,k))}};c.defineExtension("lineComment",function(c,l,f){f||(f=u);var m=this,v=m.getModeAt(c),s=f.lineComment||v.lineComment;if(s){var k=m.getLine(c.line);if(null!=k){var q=Math.min(0!=l.ch||l.line==c.line?l.line+1:l.line,m.lastLine()+1),p=null==f.padding?" ":f.padding,z=f.commentBlankLines||c.line==l.line;m.operation(function(){if(f.indent)for(var l=k.slice(0,w(k)),x=c.line;x<q;++x){var v=m.getLine(x),u=l.length;if(z||t.test(v))v.slice(0,u)!=l&&
(u=w(v)),m.replaceRange(l+s+p,n(x,0),n(x,u))}else for(x=c.line;x<q;++x)(z||t.test(m.getLine(x)))&&m.replaceRange(s+p,n(x,0))})}}else if(f.blockCommentStart||v.blockCommentStart)f.fullLines=!0,m.blockComment(c,l,f)});c.defineExtension("blockComment",function(c,l,f){f||(f=u);var m=this,v=m.getModeAt(c),s=f.blockCommentStart||v.blockCommentStart,k=f.blockCommentEnd||v.blockCommentEnd;if(s&&k){var q=Math.min(l.line,m.lastLine());q!=c.line&&0==l.ch&&t.test(m.getLine(q))&&--q;var p=null==f.padding?" ":
f.padding;c.line>q||m.operation(function(){if(!1!=f.fullLines){var z=t.test(m.getLine(q));m.replaceRange(p+k,n(q));m.replaceRange(s+p,n(c.line,0));var y=f.blockCommentLead||v.blockCommentLead;if(null!=y)for(var x=c.line+1;x<=q;++x)(x!=q||z)&&m.replaceRange(y+p,n(x,0))}else m.replaceRange(k,l),m.replaceRange(s,c)})}else(f.lineComment||v.lineComment)&&!1!=f.fullLines&&m.lineComment(c,l,f)});c.defineExtension("uncomment",function(c,l,f){f||(f=u);var m=this,v=m.getModeAt(c),s=Math.min(l.line,m.lastLine()),
k=Math.min(c.line,s),q=f.lineComment||v.lineComment,p=[],z=null==f.padding?" ":f.padding,y;a:if(q){for(c=k;c<=s;++c){l=m.getLine(c);var x=l.indexOf(q);-1<x&&!/comment/.test(m.getTokenTypeAt(n(c,x+1)))&&(x=-1);if(-1==x&&(c!=s||c==k)&&t.test(l))break a;if(-1<x&&t.test(l.slice(0,x)))break a;p.push(l)}m.operation(function(){for(var c=k;c<=s;++c){var e=p[c-k],f=e.indexOf(q),l=f+q.length;0>f||(e.slice(l,l+z.length)==z&&(l+=z.length),y=!0,m.replaceRange("",n(c,f),n(c,l)))}});if(y)return!0}var B=f.blockCommentStart||
v.blockCommentStart,w=f.blockCommentEnd||v.blockCommentEnd;if(!B||!w)return!1;var L=f.blockCommentLead||v.blockCommentLead,S=m.getLine(k),da=s==k?S:m.getLine(s),ga=S.indexOf(B),U=da.lastIndexOf(w);-1==U&&k!=s&&(da=m.getLine(--s),U=da.lastIndexOf(w));if(-1==ga||-1==U||!/comment/.test(m.getTokenTypeAt(n(k,ga+1)))||!/comment/.test(m.getTokenTypeAt(n(s,U+1))))return!1;m.operation(function(){m.replaceRange("",n(s,U-(z&&da.slice(U-z.length,U)==z?z.length:0)),n(s,U+w.length));var c=ga+B.length;z&&S.slice(c,
c+z.length)==z&&(c+=z.length);m.replaceRange("",n(k,ga),n(k,c));if(L)for(c=k+1;c<=s;++c){var e=m.getLine(c),f=e.indexOf(L);if(-1!=f&&!t.test(e.slice(0,f))){var p=f+L.length;z&&e.slice(p,p+z.length)==z&&(p+=z.length);m.replaceRange("",n(c,f),n(c,p))}}});return!0})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerGlobalHelper("fold","comment",function(c){return c.blockCommentStart&&c.blockCommentEnd},function(w,u){var t=w.getModeAt(u),n=t.blockCommentStart,t=t.blockCommentEnd;if(n&&t){for(var e=u.line,l=w.getLine(e),f,m=u.ch,v=0;;)if(m=0>=m?-1:l.lastIndexOf(n,m-1),-1==m){if(1==v)return;v=1;m=l.length}else{if(1==
v&&m<u.ch)return;if(/comment/.test(w.getTokenTypeAt(c.Pos(e,m+1)))){f=m+n.length;break}m-=1}var l=1,v=w.lastLine(),s,k,m=e;a:for(;m<=v;++m)for(var q=w.getLine(m),p=m==e?f:0;;){var z=q.indexOf(n,p),p=q.indexOf(t,p);0>z&&(z=q.length);0>p&&(p=q.length);p=Math.min(z,p);if(p==q.length)break;if(p==z)++l;else if(!--l){s=m;k=p;break a}++p}if(null!=s&&(e!=s||k!=f))return{from:c.Pos(e,f),to:c.Pos(s,k)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(e){if(e.getOption("disableInput"))return c.Pass;for(var l=e.listSelections(),f,m=[],n=0;n<l.length;n++){var s=l[n].head,k=e.getTokenAt(s);if("comment"!=k.type)return c.Pass;var q=c.innerMode(e.getMode(),k.state).mode;if(!f)f=q;else if(f!=q)return c.Pass;q=null;if(f.blockCommentStart&&f.blockCommentContinue){var p=
k.string.indexOf(f.blockCommentEnd),z=e.getRange(c.Pos(s.line,0),c.Pos(s.line,k.end)),y;if(!(-1!=p&&p==k.string.length-f.blockCommentEnd.length&&s.ch>=p))if(0==k.string.indexOf(f.blockCommentStart)){if(q=z.slice(0,k.start),!/^\s*$/.test(q))for(q="",p=0;p<k.start;++p)q+=" "}else-1!=(y=z.indexOf(f.blockCommentContinue))&&y+f.blockCommentContinue.length>k.start&&/^\s*$/.test(z.slice(0,y))&&(q=z.slice(0,y));null!=q&&(q+=f.blockCommentContinue)}null==q&&f.lineComment&&u(e)&&(s=e.getLine(s.line),y=s.indexOf(f.lineComment),
-1<y&&(q=s.slice(0,y),q=/\S/.test(q)?null:q+(f.lineComment+s.slice(y+f.lineComment.length).match(/^\s*/)[0])));if(null==q)return c.Pass;m[n]="\n"+q}e.operation(function(){for(var c=l.length-1;0<=c;c--)e.replaceRange(m[c],l[c].from(),l[c].to(),"+insert")})}function u(c){return(c=c.getOption("continueComments"))&&"object"==typeof c?!1!==c.continueLineComment:!0}for(var t=["clike","css","javascript"],n=0;n<t.length;++n)c.extendMode(t[n],{blockCommentContinue:" * "});c.defineOption("continueComments",
null,function(e,l,f){f&&f!=c.Init&&e.removeKeyMap("continueComment");l&&(f="Enter","string"==typeof l?f=l:"object"==typeof l&&l.key&&(f=l.key),l={name:"continueComment"},l[f]=w,e.addKeyMap(l))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){for(var e={},f=0;f<c.length;++f)e[c[f]]=!0;return e}function u(c,e){for(var f=!1,k;null!=(k=c.next());){if(f&&"/"==k){e.tokenize=null;break}f="*"==k}return["comment","comment"]}function t(c,e){c.skipTo("--\x3e")?(c.match("--\x3e"),e.tokenize=null):c.skipToEnd();return["comment","comment"]}
c.defineMode("css",function(e,f){function k(c,e){Z=e;return c}function p(c,e){var f=c.next();if(t[f]){var q=t[f](c,e);if(!1!==q)return q}if("@"==f)return c.eatWhile(/[\w\\\-]/),k("def",c.current());if("="==f||("~"==f||"|"==f)&&c.eat("="))return k(null,"compare");if('"'==f||"'"==f)return e.tokenize=l(f),e.tokenize(c,e);if("#"==f)return c.eatWhile(/[\w\\\-]/),k("atom","hash");if("!"==f)return c.match(/^\s*\w*/),k("keyword","important");if(/\d/.test(f)||"."==f&&c.eat(/\d/))return c.eatWhile(/[\w.%]/),
k("number","unit");if("-"===f){if(/[\d.]/.test(c.peek()))return c.eatWhile(/[\w.%]/),k("number","unit");if(c.match(/^\w+-/))return k("meta","meta")}else return/[,+>*\/]/.test(f)?k(null,"select-op"):"."==f&&c.match(/^-?[_a-z][_a-z0-9-]*/i)?k("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(f)?k(null,f):"u"==f&&c.match("rl(")?(c.backUp(1),e.tokenize=m,k("property","word")):/[\w\\\-]/.test(f)?(c.eatWhile(/[\w\\\-]/),k("property","word")):k(null,null)}function l(c){return function(e,f){for(var p=!1,l;null!=
(l=e.next());){if(l==c&&!p){")"==c&&e.backUp(1);break}p=!p&&"\\"==l}if(l==c||!p&&")"!=c)f.tokenize=null;return k("string","string")}}function m(c,e){c.next();c.match(/\s*[\"\')]/,!1)?e.tokenize=null:e.tokenize=l(")");return k(null,"(")}function q(c,e,f){this.type=c;this.indent=e;this.prev=f}function n(c,e,f){c.context=new q(f,e.indentation()+z,c.context);return f}function s(c){c.context=c.context.prev;return c.context.type}function y(c,e,f,k){for(k=k||1;0<k;k--)f.context=f.context.prev;return E[f.context.type](c,
e,f)}function v(c){c=c.current().toLowerCase();O=ra.hasOwnProperty(c)?"atom":fb.hasOwnProperty(c)?"keyword":"variable"}f.propertyKeywords||(f=c.resolveMode("text/css"));var z=e.indentUnit,t=f.tokenHooks,u=f.mediaTypes||{},w=f.mediaFeatures||{},vb=f.propertyKeywords||{},eb=f.nonStandardPropertyKeywords||{},fb=f.colorKeywords||{},ra=f.valueKeywords||{},ea=f.fontProperties||{},M=f.allowNested,Z,O,E={top:function(c,e,f){if("{"==c)return n(f,e,"block");if("}"==c&&f.context.prev)return s(f);if("@media"==
c)return n(f,e,"media");if("@font-face"==c)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(c))return"keyframes";if(c&&"@"==c.charAt(0))return n(f,e,"at");if("hash"==c)O="builtin";else if("word"==c)O="tag";else{if("variable-definition"==c)return"maybeprop";if("interpolation"==c)return n(f,e,"interpolation");if(":"==c)return"pseudo";if(M&&"("==c)return n(f,e,"parens")}return f.context.type},block:function(c,e,f){if("word"==c){c=e.current().toLowerCase();if(vb.hasOwnProperty(c))return O=
"property","maybeprop";if(eb.hasOwnProperty(c))return O="string-2","maybeprop";if(M)return O=e.match(/^\s*:/,!1)?"property":"tag","block";O+=" error";return"maybeprop"}if("meta"==c)return"block";if(M||"hash"!=c&&"qualifier"!=c)return E.top(c,e,f);O="error";return"block"},maybeprop:function(c,e,f){return":"==c?n(f,e,"prop"):E[f.context.type](c,e,f)},prop:function(c,e,f){if(";"==c)return s(f);if("{"==c&&M)return n(f,e,"propBlock");if("}"==c||"{"==c)return y(c,e,f);if("("==c)return n(f,e,"parens");if("hash"==
c&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e.current()))O+=" error";else if("word"==c)v(e);else if("interpolation"==c)return n(f,e,"interpolation");return"prop"},propBlock:function(c,e,f){return"}"==c?s(f):"word"==c?(O="property","maybeprop"):f.context.type},parens:function(c,e,f){if("{"==c||"}"==c)return y(c,e,f);if(")"==c)return s(f);if("("==c)return n(f,e,"parens");"word"==c&&v(e);return"parens"},pseudo:function(c,e,f){return"word"==c?(O="variable-3",f.context.type):E[f.context.type](c,e,f)},
media:function(c,e,f){if("("==c)return n(f,e,"media_parens");if("}"==c)return y(c,e,f);if("{"==c)return s(f)&&n(f,e,M?"block":"top");"word"==c&&(c=e.current().toLowerCase(),O="only"==c||"not"==c||"and"==c?"keyword":u.hasOwnProperty(c)?"attribute":w.hasOwnProperty(c)?"property":"error");return f.context.type},media_parens:function(c,e,f){return")"==c?s(f):"{"==c||"}"==c?y(c,e,f,2):E.media(c,e,f)},font_face_before:function(c,e,f){return"{"==c?n(f,e,"font_face"):E[f.context.type](c,e,f)},font_face:function(c,
e,f){return"}"==c?s(f):"word"==c?(O=ea.hasOwnProperty(e.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},keyframes:function(c,e,f){return"word"==c?(O="variable","keyframes"):"{"==c?n(f,e,"top"):E[f.context.type](c,e,f)},at:function(c,e,f){if(";"==c)return s(f);if("{"==c||"}"==c)return y(c,e,f);"word"==c?O="tag":"hash"==c&&(O="builtin");return"at"},interpolation:function(c,e,f){if("}"==c)return s(f);if("{"==c||";"==c)return y(c,e,f);"variable"!=c&&(O="error");return"interpolation"}};
return{startState:function(c){return{tokenize:null,state:"top",context:new q("top",c||0,null)}},token:function(c,e){if(!e.tokenize&&c.eatSpace())return null;var f=(e.tokenize||p)(c,e);f&&"object"==typeof f&&(Z=f[1],f=f[0]);O=f;e.state=E[e.state](Z,c,e);return O},indent:function(c,e){var f=c.context,k=e&&e.charAt(0),p=f.indent;"prop"!=f.type||"}"!=k&&")"!=k||(f=f.prev);!f.prev||("}"!=k||"block"!=f.type&&"top"!=f.type&&"interpolation"!=f.type&&"font_face"!=f.type)&&(")"!=k||"parens"!=f.type&&"media_parens"!=
f.type)&&("{"!=k||"at"!=f.type&&"media"!=f.type)||(p=f.indent-z);return p},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var n="all aural braille handheld print projection screen tty tv embossed".split(" "),e=w(n),l="width min-width max-width height min-height max-height device-width min-device-width max-device-width device-height min-device-height max-device-height aspect-ratio min-aspect-ratio max-aspect-ratio device-aspect-ratio min-device-aspect-ratio max-device-aspect-ratio color min-color max-color color-index min-color-index max-color-index monochrome min-monochrome max-monochrome resolution min-resolution max-resolution scan grid".split(" "),
f=w(l),m="align-content align-items align-self alignment-adjust alignment-baseline anchor-point animation animation-delay animation-direction animation-duration animation-fill-mode animation-iteration-count animation-name animation-play-state animation-timing-function appearance azimuth backface-visibility background background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size baseline-shift binding bleed bookmark-label bookmark-level bookmark-state bookmark-target border border-bottom border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-collapse border-color border-image border-image-outset border-image-repeat border-image-slice border-image-source border-image-width border-left border-left-color border-left-style border-left-width border-radius border-right border-right-color border-right-style border-right-width border-spacing border-style border-top border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-width bottom box-decoration-break box-shadow box-sizing break-after break-before break-inside caption-side clear clip color color-profile column-count column-fill column-gap column-rule column-rule-color column-rule-style column-rule-width column-span column-width columns content counter-increment counter-reset crop cue cue-after cue-before cursor direction display dominant-baseline drop-initial-after-adjust drop-initial-after-align drop-initial-before-adjust drop-initial-before-align drop-initial-size drop-initial-value elevation empty-cells fit fit-position flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap float float-offset flow-from flow-into font font-feature-settings font-family font-kerning font-language-override font-size font-size-adjust font-stretch font-style font-synthesis font-variant font-variant-alternates font-variant-caps font-variant-east-asian font-variant-ligatures font-variant-numeric font-variant-position font-weight grid grid-area grid-auto-columns grid-auto-flow grid-auto-position grid-auto-rows grid-column grid-column-end grid-column-start grid-row grid-row-end grid-row-start grid-template grid-template-areas grid-template-columns grid-template-rows hanging-punctuation height hyphens icon image-orientation image-rendering image-resolution inline-box-align justify-content left letter-spacing line-break line-height line-stacking line-stacking-ruby line-stacking-shift line-stacking-strategy list-style list-style-image list-style-position list-style-type margin margin-bottom margin-left margin-right margin-top marker-offset marks marquee-direction marquee-loop marquee-play-count marquee-speed marquee-style max-height max-width min-height min-width move-to nav-down nav-index nav-left nav-right nav-up object-fit object-position opacity order orphans outline outline-color outline-offset outline-style outline-width overflow overflow-style overflow-wrap overflow-x overflow-y padding padding-bottom padding-left padding-right padding-top page page-break-after page-break-before page-break-inside page-policy pause pause-after pause-before perspective perspective-origin pitch pitch-range play-during position presentation-level punctuation-trim quotes region-break-after region-break-before region-break-inside region-fragment rendering-intent resize rest rest-after rest-before richness right rotation rotation-point ruby-align ruby-overhang ruby-position ruby-span shape-image-threshold shape-inside shape-margin shape-outside size speak speak-as speak-header speak-numeral speak-punctuation speech-rate stress string-set tab-size table-layout target target-name target-new target-position text-align text-align-last text-decoration text-decoration-color text-decoration-line text-decoration-skip text-decoration-style text-emphasis text-emphasis-color text-emphasis-position text-emphasis-style text-height text-indent text-justify text-outline text-overflow text-shadow text-size-adjust text-space-collapse text-transform text-underline-position text-wrap top transform transform-origin transform-style transition transition-delay transition-duration transition-property transition-timing-function unicode-bidi vertical-align visibility voice-balance voice-duration voice-family voice-pitch voice-range voice-rate voice-stress voice-volume volume white-space widows width word-break word-spacing word-wrap z-index clip-path clip-rule mask enable-background filter flood-color flood-opacity lighting-color stop-color stop-opacity pointer-events color-interpolation color-interpolation-filters color-rendering fill fill-opacity fill-rule image-rendering marker marker-end marker-mid marker-start shape-rendering stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-rendering baseline-shift dominant-baseline glyph-orientation-horizontal glyph-orientation-vertical text-anchor writing-mode".split(" "),
v=w(m),s="scrollbar-arrow-color scrollbar-base-color scrollbar-dark-shadow-color scrollbar-face-color scrollbar-highlight-color scrollbar-shadow-color scrollbar-3d-light-color scrollbar-track-color shape-inside searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration zoom".split(" "),s=w(s),k="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray grey green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple rebeccapurple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
q=w(k),p="above absolute activeborder activecaption afar after-white-space ahead alias all all-scroll alternate always amharic amharic-abegede antialiased appworkspace arabic-indic armenian asterisks auto avoid avoid-column avoid-page avoid-region background backwards baseline below bidi-override binary bengali blink block block-axis bold bolder border border-box both bottom break break-all break-word button button-bevel buttonface buttonhighlight buttonshadow buttontext cambodian capitalize caps-lock-indicator caption captiontext caret cell center checkbox circle cjk-earthly-branch cjk-heavenly-stem cjk-ideographic clear clip close-quote col-resize collapse column compact condensed contain content content-box context-menu continuous copy cover crop cross crosshair currentcolor cursive dashed decimal decimal-leading-zero default default-button destination-atop destination-in destination-out destination-over devanagari disc discard document dot-dash dot-dot-dash dotted double down e-resize ease ease-in ease-in-out ease-out element ellipse ellipsis embed end ethiopic ethiopic-abegede ethiopic-abegede-am-et ethiopic-abegede-gez ethiopic-abegede-ti-er ethiopic-abegede-ti-et ethiopic-halehame-aa-er ethiopic-halehame-aa-et ethiopic-halehame-am-et ethiopic-halehame-gez ethiopic-halehame-om-et ethiopic-halehame-sid-et ethiopic-halehame-so-et ethiopic-halehame-ti-er ethiopic-halehame-ti-et ethiopic-halehame-tig ew-resize expanded extra-condensed extra-expanded fantasy fast fill fixed flat footnotes forwards from geometricPrecision georgian graytext groove gujarati gurmukhi hand hangul hangul-consonant hebrew help hidden hide higher highlight highlighttext hiragana hiragana-iroha horizontal hsl hsla icon ignore inactiveborder inactivecaption inactivecaptiontext infinite infobackground infotext inherit initial inline inline-axis inline-block inline-table inset inside intrinsic invert italic justify kannada katakana katakana-iroha keep-all khmer landscape lao large larger left level lighter line-through linear lines list-item listbox listitem local logical loud lower lower-alpha lower-armenian lower-greek lower-hexadecimal lower-latin lower-norwegian lower-roman lowercase ltr malayalam match media-controls-background media-current-time-display media-fullscreen-button media-mute-button media-play-button media-return-to-realtime-button media-rewind-button media-seek-back-button media-seek-forward-button media-slider media-sliderthumb media-time-remaining-display media-volume-slider media-volume-slider-container media-volume-sliderthumb medium menu menulist menulist-button menulist-text menulist-textfield menutext message-box middle min-intrinsic mix mongolian monospace move multiple myanmar n-resize narrower ne-resize nesw-resize no-close-quote no-drop no-open-quote no-repeat none normal not-allowed nowrap ns-resize nw-resize nwse-resize oblique octal open-quote optimizeLegibility optimizeSpeed oriya oromo outset outside outside-shape overlay overline padding padding-box painted page paused persian plus-darker plus-lighter pointer polygon portrait pre pre-line pre-wrap preserve-3d progress push-button radio read-only read-write read-write-plaintext-only rectangle region relative repeat repeat-x repeat-y reset reverse rgb rgba ridge right round row-resize rtl run-in running s-resize sans-serif scroll scrollbar se-resize searchfield searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration semi-condensed semi-expanded separate serif show sidama single skip-white-space slide slider-horizontal slider-vertical sliderthumb-horizontal sliderthumb-vertical slow small small-caps small-caption smaller solid somali source-atop source-in source-out source-over space square square-button start static status-bar stretch stroke sub subpixel-antialiased super sw-resize table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group telugu text text-bottom text-top textarea textfield thai thick thin threeddarkshadow threedface threedhighlight threedlightshadow threedshadow tibetan tigre tigrinya-er tigrinya-er-abegede tigrinya-et tigrinya-et-abegede to top transparent ultra-condensed ultra-expanded underline up upper-alpha upper-armenian upper-greek upper-hexadecimal upper-latin upper-norwegian upper-roman uppercase urdu url vertical vertical-text visible visibleFill visiblePainted visibleStroke visual w-resize wait wave wider window windowframe windowtext x-large x-small xor xx-large xx-small".split(" "),
z=w(p),y=w("font-family src unicode-range font-variant font-feature-settings font-stretch font-weight font-style".split(" ")),n=n.concat(l).concat(m).concat(s).concat(k).concat(p);c.registerHelper("hintWords","css",n);c.defineMIME("text/css",{mediaTypes:e,mediaFeatures:f,propertyKeywords:v,nonStandardPropertyKeywords:s,colorKeywords:q,valueKeywords:z,fontProperties:y,tokenHooks:{"<":function(c,e){if(!c.match("!--"))return!1;e.tokenize=t;return t(c,e)},"/":function(c,e){if(!c.eat("*"))return!1;e.tokenize=
u;return u(c,e)}},name:"css"});c.defineMIME("text/x-scss",{mediaTypes:e,mediaFeatures:f,propertyKeywords:v,nonStandardPropertyKeywords:s,colorKeywords:q,valueKeywords:z,fontProperties:y,allowNested:!0,tokenHooks:{"/":function(c,e){return c.eat("/")?(c.skipToEnd(),["comment","comment"]):c.eat("*")?(e.tokenize=u,u(c,e)):["operator","operator"]},":":function(c){return c.match(/\s*\{/)?[null,"{"]:!1},$:function(c){c.match(/^[\w-]+/);return c.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2",
"variable"]},"#":function(c){return c.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"});c.defineMIME("text/x-less",{mediaTypes:e,mediaFeatures:f,propertyKeywords:v,nonStandardPropertyKeywords:s,colorKeywords:q,valueKeywords:z,fontProperties:y,allowNested:!0,tokenHooks:{"/":function(c,e){return c.eat("/")?(c.skipToEnd(),["comment","comment"]):c.eat("*")?(e.tokenize=u,u(c,e)):["operator","operator"]},"@":function(c){if(c.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,
!1))return!1;c.eatWhile(/[\w\\\-]/);return c.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../../mode/css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/css/css"],c):c(CodeMirror)})(function(c){var w={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};c.registerHelper("hint","css",function(u){function t(c){for(var e in c)f&&0!=e.lastIndexOf(f,0)||s.push(e)}var n=u.getCursor(),e=
u.getTokenAt(n),l=c.innerMode(u.getMode(),e.state);if("css"==l.mode.name){var f=e.string;u=e.start;var m=e.end;/[^\w$_-]/.test(f)&&(f="",u=m=n.ch);var v=c.resolveMode("text/css"),s=[],l=l.state.state;if("pseudo"==l||"variable-3"==e.type)t(w);else if("block"==l||"maybeprop"==l)t(v.propertyKeywords);else if("prop"==l||"parens"==l||"at"==l||"params"==l)t(v.valueKeywords),t(v.colorKeywords);else if("media"==l||"media_parens"==l)t(v.mediaTypes),t(v.mediaFeatures);if(s.length)return{list:s,from:c.Pos(n.line,
u),to:c.Pos(n.line,m)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,n,e){c=c.getWrapperElement().appendChild(document.createElement("div"));c.className=e?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top";"string"==typeof n?c.innerHTML=n:c.appendChild(n);return c}function u(c,n){c.state.currentNotificationClose&&c.state.currentNotificationClose();
c.state.currentNotificationClose=n}c.defineExtension("openDialog",function(t,n,e){function l(c){"string"==typeof c?s.value=c:m||(m=!0,f.parentNode.removeChild(f))}u(this,null);var f=w(this,t,e&&e.bottom),m=!1,v=this,s=f.getElementsByTagName("input")[0];if(s){e&&e.value&&(s.value=e.value);c.on(s,"keydown",function(f){e&&e.onKeyDown&&e.onKeyDown(f,s.value,l)||13!=f.keyCode&&27!=f.keyCode||(s.blur(),c.e_stop(f),l(),v.focus(),13==f.keyCode&&n(s.value))});if(e&&e.onKeyUp)c.on(s,"keyup",function(c){e.onKeyUp(c,
s.value,l)});e&&e.value&&(s.value=e.value);s.focus();c.on(s,"blur",l)}else if(t=f.getElementsByTagName("button")[0])c.on(t,"click",function(){l();v.focus()}),t.focus(),c.on(t,"blur",l);return l});c.defineExtension("openConfirm",function(t,n,e){function l(){m||(m=!0,f.parentNode.removeChild(f),v.focus())}u(this,null);var f=w(this,t,e&&e.bottom);t=f.getElementsByTagName("button");var m=!1,v=this,s=1;t[0].focus();for(e=0;e<t.length;++e){var k=t[e];(function(e){c.on(k,"click",function(f){c.e_preventDefault(f);
l();e&&e(v)})})(n[e]);c.on(k,"blur",function(){--s;setTimeout(function(){0>=s&&l()},200)});c.on(k,"focus",function(){++s})}});c.defineExtension("openNotification",function(t,n){function e(){m||(m=!0,clearTimeout(v),l.parentNode.removeChild(l))}u(this,e);var l=w(this,t,n&&n.bottom),f=n&&(void 0===n.duration?5E3:n.duration),m=!1,v;c.on(l,"click",function(f){c.e_preventDefault(f);e()});f&&(v=setTimeout(e,n.duration))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(e,l,f,m){function n(c){var f=s(e,l);if(!f||f.to.line-f.from.line<k)return null;for(var p=e.findMarksAt(f.from),q=0;q<p.length;++q)if(p[q].__isFold&&"fold"!==m){if(!c)return null;f.cleared=!0;p[q].clear()}return f}if(f&&f.call){var s=f;f=null}else s=t(e,f,"rangeFinder");"number"==typeof l&&(l=
c.Pos(l,0));var k=t(e,f,"minFoldSize"),q=n(!0);if(t(e,f,"scanUp"))for(;!q&&l.line>e.firstLine();)l=c.Pos(l.line-1,0),q=n(!1);if(q&&!q.cleared&&"unfold"!==m){f=u(e,f);c.on(f,"mousedown",function(e){p.clear();c.e_preventDefault(e)});var p=e.markText(q.from,q.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});p.on("clear",function(f,k){c.signal(e,"unfold",e,f,k)});c.signal(e,"fold",e,q.from,q.to)}}function u(c,l){var f=t(c,l,"widget");if("string"==typeof f){var m=document.createTextNode(f),f=document.createElement("span");
f.appendChild(m);f.className="CodeMirror-foldmarker"}return f}function t(c,l,f){return l&&void 0!==l[f]?l[f]:(c=c.options.foldOptions)&&void 0!==c[f]?c[f]:n[f]}c.newFoldFunction=function(c,l){return function(f,m){w(f,m,{rangeFinder:c,widget:l})}};c.defineExtension("foldCode",function(c,l,f){w(this,c,l,f)});c.defineExtension("isFolded",function(c){c=this.findMarksAt(c);for(var l=0;l<c.length;++l)if(c[l].__isFold)return!0});c.commands.toggleFold=function(c){c.foldCode(c.getCursor())};c.commands.fold=
function(c){c.foldCode(c.getCursor(),null,"fold")};c.commands.unfold=function(c){c.foldCode(c.getCursor(),null,"unfold")};c.commands.foldAll=function(e){e.operation(function(){for(var l=e.firstLine(),f=e.lastLine();l<=f;l++)e.foldCode(c.Pos(l,0),null,"fold")})};c.commands.unfoldAll=function(e){e.operation(function(){for(var l=e.firstLine(),f=e.lastLine();l<=f;l++)e.foldCode(c.Pos(l,0),null,"unfold")})};c.registerHelper("fold","combine",function(){var c=Array.prototype.slice.call(arguments,0);return function(l,
f){for(var m=0;m<c.length;++m){var n=c[m](l,f);if(n)return n}}});c.registerHelper("fold","auto",function(c,l){for(var f=c.getHelpers(l,"fold"),m=0;m<f.length;m++){var n=f[m](c,l);if(n)return n}});var n={rangeFinder:c.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};c.defineOption("foldOptions",null)});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineOption("fullScreen",!1,function(w,u,t){t==c.Init&&(t=!1);!t!=!u&&(u?(u=w.getWrapperElement(),w.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:u.style.width,height:u.style.height},u.style.width="",u.style.height="auto",u.className+=" CodeMirror-fullscreen",
document.documentElement.style.overflow="hidden"):(u=w.getWrapperElement(),u.className=u.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="",t=w.state.fullScreenRestore,u.style.width=t.width,u.style.height=t.height,window.scrollTo(t.scrollLeft,t.scrollTop)),w.refresh())})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){for(var e in s)s.hasOwnProperty(e)&&(c.attrs[e]=s[e])}var u="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),
t=["_blank","_self","_top","_parent"],n=["ascii","utf-8","utf-16","latin1","latin1"],e=["get","post","put","delete"],l=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],f="all;screen;print;embossed;braille;handheld;print;projection;screen;tty;tv;speech;3d-glasses;resolution [>][<][=] [X];device-aspect-ratio: X/Y;orientation:portrait;orientation:landscape;device-height: [X];device-width: [X]".split(";"),m={attrs:{}},v={a:{attrs:{href:null,ping:null,type:null,media:f,target:t,
hreflang:u}},abbr:m,acronym:m,address:m,applet:m,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:f,hreflang:u,type:null,shape:["default","rect","circle","poly"]}},article:m,aside:m,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:m,base:{attrs:{href:null,target:t}},basefont:m,bdi:m,bdo:m,big:m,blockquote:{attrs:{cite:null}},body:m,br:m,
button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:l,formmethod:e,formnovalidate:["","novalidate"],formtarget:t,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:m,center:m,cite:m,code:m,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},
data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:m,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:m,dir:m,div:m,dl:m,dt:m,em:m,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:m,figure:m,font:m,footer:m,form:{attrs:{action:null,name:null,"accept-charset":n,autocomplete:["on","off"],
enctype:l,method:e,novalidate:["","novalidate"],target:t}},frame:m,frameset:m,h1:m,h2:m,h3:m,h4:m,h5:m,h6:m,head:{attrs:{},children:"title base link style meta script noscript command".split(" ")},header:m,hgroup:m,hr:m,html:{attrs:{manifest:null},children:["head","body"]},i:m,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,
width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:l,formmethod:e,formnovalidate:["","novalidate"],formtarget:t,multiple:["",
"multiple"],readonly:["","readonly"],required:["","required"],type:"hidden text search tel url email password datetime date month week time datetime-local number range color checkbox radio file submit image reset button".split(" ")}},ins:{attrs:{cite:null,datetime:null}},kbd:m,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:m,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,
hreflang:u,media:f,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:m,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:n,name:"viewport application-name author description generator keywords".split(" "),"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:m,noframes:m,noscript:m,object:{attrs:{data:null,type:null,
name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:m,param:{attrs:{name:null,value:null}},pre:m,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:m,rt:m,ruby:m,s:m,samp:m,script:{attrs:{type:["text/javascript"],
src:null,async:["","async"],defer:["","defer"],charset:n}},section:m,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:m,source:{attrs:{src:null,type:null,media:null}},span:m,strike:m,strong:m,style:{attrs:{type:["text/css"],media:f,scoped:null}},sub:m,summary:m,sup:m,table:m,tbody:m,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,
cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:m,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:m,time:{attrs:{datetime:null}},title:m,tr:m,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:u}},tt:m,u:m,ul:m,"var":m,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous",
"use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:m},s={accesskey:"abcdefghijklmnopqrstuvwxyz0123456789".split(""),"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,
lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:"123456789".split(""),title:null,translate:["yes","no"],onclick:null,rel:"stylesheet alternate author bookmark help license next nofollow noreferrer prefetch prev search tag".split(" ")};w(m);for(var k in v)v.hasOwnProperty(k)&&v[k]!=m&&w(v[k]);c.htmlSchema=v;c.registerHelper("hint","html",function(e,f){var k={schemaInfo:v};if(f)for(var l in f)k[l]=f[l];return c.hint.xml(e,k)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed"],c):c(CodeMirror)})(function(c){c.defineMode("htmlembedded",function(w,u){function t(c,l){return c.match(e,!1)?(l.token=n,f.token(c,l.scriptState)):m.token(c,l.htmlState)}function n(c,e){return c.match(l,!1)?(e.token=t,m.token(c,e.htmlState)):f.token(c,e.scriptState)}var e=u.scriptStartRegex||
/^<%/i,l=u.scriptEndRegex||/^%>/i,f,m;return{startState:function(){f=f||c.getMode(w,u.scriptingModeSpec);m=m||c.getMode(w,"htmlmixed");return{token:u.startOpen?n:t,htmlState:c.startState(m),scriptState:c.startState(f)}},token:function(c,e){return e.token(c,e)},indent:function(c,e){if(c.token==t)return m.indent(c.htmlState,e);if(f.indent)return f.indent(c.scriptState,e)},copyState:function(e){return{token:e.token,htmlState:c.copyState(m,e.htmlState),scriptState:c.copyState(f,e.scriptState)}},innerMode:function(c){return c.token==
n?{state:c.scriptState,mode:f}:{state:c.htmlState,mode:m}}}},"htmlmixed");c.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});c.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});c.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});c.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],c):c(CodeMirror)})(function(c){c.defineMode("htmlmixed",function(w,u){function t(c,k){var q=k.htmlState.tagName,n=f.token(c,k.htmlState);if("script"==q&&/\btag\b/.test(n)&&">"==c.current()){(q=(q=c.string.slice(Math.max(0,
c.pos-100),c.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i))?q[1]:"")&&/[\"\']/.test(q.charAt(0))&&(q=q.slice(1,q.length-1));for(var s=0;s<v.length;++s){var t=v[s];if("string"==typeof t.matches?q==t.matches:t.matches.test(q)){t.mode&&(k.token=e,k.localMode=t.mode,k.localState=t.mode.startState&&t.mode.startState(f.indent(k.htmlState,"")));break}}}else"style"==q&&/\btag\b/.test(n)&&">"==c.current()&&(k.token=l,k.localMode=m,k.localState=m.startState(f.indent(k.htmlState,"")));return n}function n(c,
e,f){var k=c.current(),l=k.search(e);-1<l?c.backUp(k.length-l):k.match(/<\/?$/)&&(c.backUp(k.length),c.match(e,!1)||c.match(k));return f}function e(c,e){return c.match(/^<\/\s*script\s*>/i,!1)?(e.token=t,e.localState=e.localMode=null,t(c,e)):n(c,/<\/\s*script\s*>/,e.localMode.token(c,e.localState))}function l(c,e){return c.match(/^<\/\s*style\s*>/i,!1)?(e.token=t,e.localState=e.localMode=null,t(c,e)):n(c,/<\/\s*style\s*>/,m.token(c,e.localState))}var f=c.getMode(w,{name:"xml",htmlMode:!0,multilineTagIndentFactor:u.multilineTagIndentFactor,
multilineTagIndentPastTag:u.multilineTagIndentPastTag}),m=c.getMode(w,"css"),v=[],s=u&&u.scriptTypes;v.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:c.getMode(w,"javascript")});if(s)for(var k=0;k<s.length;++k){var q=s[k];v.push({matches:q.matches,mode:q.mode&&c.getMode(w,q.mode)})}v.push({matches:/./,mode:c.getMode(w,"text/plain")});return{startState:function(){var c=f.startState();return{token:t,localMode:null,localState:null,htmlState:c}},copyState:function(e){if(e.localState)var k=
c.copyState(e.localMode,e.localState);return{token:e.token,localMode:e.localMode,localState:k,htmlState:c.copyState(f,e.htmlState)}},token:function(c,e){return e.token(c,e)},indent:function(e,k){return!e.localMode||/^\s*<\//.test(k)?f.indent(e.htmlState,k):e.localMode.indent?e.localMode.indent(e.localState,k):c.Pass},innerMode:function(c){return{state:c.localState||c.htmlState,mode:c.localMode||f}}}},"xml","javascript","css");c.defineMIME("text/html","htmlmixed")});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","indent",function(w,u){var t=w.getOption("tabSize"),n=w.getLine(u.line);if(/\S/.test(n)){for(var e=c.countColumn(n,null,t),l=null,f=u.line+1,m=w.lastLine();f<=m;++f){var v=w.getLine(f);if(c.countColumn(v,null,t)>e)l=f;else if(/\S/.test(v))break}if(l)return{from:c.Pos(u.line,n.length),
to:c.Pos(l,w.getLine(l).length)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineMode("javascript",function(w,u){function t(c,e,f){Ia=c;Va=f;return e}function n(c,k){var p=c.next();if('"'==p||"'"==p)return k.tokenize=e(p),k.tokenize(c,k);if("."==p&&c.match(/^\d+(?:[eE][+\-]?\d+)?/))return t("number","number");if("."==p&&c.match(".."))return t("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(p))return t(p);
if("="==p&&c.eat(">"))return t("=>","operator");if("0"==p&&c.eat(/x/i))return c.eatWhile(/[\da-f]/i),t("number","number");if(/\d/.test(p))return c.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),t("number","number");if("/"==p){if(c.eat("*"))return k.tokenize=l,l(c,k);if(c.eat("/"))return c.skipToEnd(),t("comment","comment");if("operator"==k.lastType||"keyword c"==k.lastType||"sof"==k.lastType||/^[\[{}\(,;:]$/.test(k.lastType)){a:for(var p=!1,q,m=!1;null!=(q=c.next());){if(!p){if("/"==q&&!m)break a;"["==
q?m=!0:m&&"]"==q&&(m=!1)}p=!p&&"\\"==q}c.eatWhile(/[gimy]/);return t("regexp","string-2")}c.eatWhile(na);return t("operator","operator",c.current())}if("`"==p)return k.tokenize=f,f(c,k);if("#"==p)return c.skipToEnd(),t("error","error");if(na.test(p))return c.eatWhile(na),t("operator","operator",c.current());c.eatWhile(/[\w\$_]/);p=c.current();return(q=ib.propertyIsEnumerable(p)&&ib[p])&&"."!=k.lastType?t(q.type,q.style,p):t("variable","variable",p)}function e(c){return function(e,f){var k=!1,p;if(Aa&&
"@"==e.peek()&&e.match(tc))return f.tokenize=n,t("jsonld-keyword","meta");for(;null!=(p=e.next())&&(p!=c||k);)k=!k&&"\\"==p;k||(f.tokenize=n);return t("string","string")}}function l(c,e){for(var f=!1,k;k=c.next();){if("/"==k&&f){e.tokenize=n;break}f="*"==k}return t("comment","comment")}function f(c,e){for(var f=!1,k;null!=(k=c.next());){if(!f&&("`"==k||"$"==k&&c.eat("{"))){e.tokenize=n;break}f=!f&&"\\"==k}return t("quasi","string-2",c.current())}function m(c,e){e.fatArrowAt&&(e.fatArrowAt=null);var f=
c.string.indexOf("=>",c.start);if(!(0>f)){for(var k=0,p=!1,f=f-1;0<=f;--f){var l=c.string.charAt(f),q="([{}])".indexOf(l);if(0<=q&&3>q){if(!k){++f;break}if(0==--k)break}else if(3<=q&&6>q)++k;else if(/[$\w]/.test(l))p=!0;else if(p&&!k){++f;break}}p&&!k&&(e.fatArrowAt=f)}}function v(c,e,f,k,p,l){this.indented=c;this.column=e;this.type=f;this.prev=p;this.info=l;null!=k&&(this.align=k)}function s(){for(var c=arguments.length-1;0<=c;c--)C.cc.push(arguments[c])}function k(){s.apply(null,arguments);return!0}
function q(c){function e(f){for(;f;f=f.next)if(f.name==c)return!0;return!1}var f=C.state;f.context?(C.marked="def",e(f.localVars)||(f.localVars={name:c,next:f.localVars})):!e(f.globalVars)&&u.globalVars&&(f.globalVars={name:c,next:f.globalVars})}function p(){C.state.context={prev:C.state.context,vars:C.state.localVars};C.state.localVars=Za}function z(){C.state.localVars=C.state.context.vars;C.state.context=C.state.context.prev}function y(c,e){var f=function(){var f=C.state,k=f.indented;"stat"==f.lexical.type&&
(k=f.lexical.indented);f.lexical=new v(k,C.stream.column(),c,null,f.lexical,e)};f.lex=!0;return f}function x(){var c=C.state;c.lexical.prev&&(")"==c.lexical.type&&(c.indented=c.lexical.indented),c.lexical=c.lexical.prev)}function B(c){function e(f){return f==c?k():";"==c?s():k(e)}return e}function F(c,e){return"var"==c?k(y("vardef",e.length),W,B(";"),x):"keyword a"==c?k(y("form"),L,F,x):"keyword b"==c?k(y("form"),F,x):"{"==c?k(y("}"),Z,x):";"==c?k():"if"==c?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-
1]==x&&C.state.cc.pop()(),k(y("form"),L,F,x,pc)):"function"==c?k(ta):"for"==c?k(y("form"),Ob,F,x):"variable"==c?k(y("stat"),nc):"switch"==c?k(y("form"),L,y("}","switch"),B("{"),Z,x,x):"case"==c?k(L,B(":")):"default"==c?k(B(":")):"catch"==c?k(y("form"),p,B("("),Ua,B(")"),F,x,z):"module"==c?k(y("form"),p,cd,z,x):"class"==c?k(y("form"),db,x):"export"==c?k(y("form"),ed,x):"import"==c?k(y("form"),jb,x):s(y("stat"),L,B(";"),x)}function L(c){return da(c,!1)}function S(c){return da(c,!0)}function da(c,e){if(C.state.fatArrowAt==
C.stream.start){var f=e?mc:Nb;if("("==c)return k(p,y(")"),ea(pa,")"),x,B("=>"),f,z);if("variable"==c)return s(p,pa,B("=>"),f,z)}f=e?ha:Ma;return jd.hasOwnProperty(c)?k(f):"function"==c?k(ta,f):"keyword c"==c?k(e?U:ga):"("==c?k(y(")"),ga,Ta,B(")"),x,f):"operator"==c||"spread"==c?k(e?S:L):"["==c?k(y("]"),sc,x,f):"{"==c?M(eb,"}",null,f):"quasi"==c?s(T,f):k()}function ga(c){return c.match(/[;\}\)\],]/)?s():s(L)}function U(c){return c.match(/[;\}\)\],]/)?s():s(S)}function Ma(c,e){return","==c?k(L):ha(c,
e,!1)}function ha(c,e,f){var l=!1==f?Ma:ha,q=!1==f?L:S;if("=>"==e)return k(p,f?mc:Nb,z);if("operator"==c)return/\+\+|--/.test(e)?k(l):"?"==e?k(L,B(":"),q):k(q);if("quasi"==c)return s(T,l);if(";"!=c){if("("==c)return M(S,")","call",l);if("."==c)return k(vb,l);if("["==c)return k(y("]"),ga,B("]"),x,l)}}function T(c,e){return"quasi"!=c?s():"${"!=e.slice(e.length-2)?k(T):k(L,Mb)}function Mb(c){if("}"==c)return C.marked="string-2",C.state.tokenize=f,k(T)}function Nb(c){m(C.stream,C.state);return"{"==c?
s(F):s(L)}function mc(c){m(C.stream,C.state);return"{"==c?s(F):s(S)}function nc(c){return":"==c?k(x,F):s(Ma,B(";"),x)}function vb(c){if("variable"==c)return C.marked="property",k()}function eb(c,e){if("variable"==c||"keyword"==C.style)return C.marked="property","get"==e||"set"==e?k(fb):k(ra);if("number"==c||"string"==c)return C.marked=Aa?"property":C.style+" property",k(ra);if("jsonld-keyword"==c)return k(ra);if("["==c)return k(L,B("]"),ra)}function fb(c){if("variable"!=c)return s(ra);C.marked="property";
return k(ta)}function ra(c){if(":"==c)return k(S);if("("==c)return s(ta)}function ea(c,e){function f(p){return","==p?(p=C.state.lexical,"call"==p.info&&(p.pos=(p.pos||0)+1),k(c,f)):p==e?k():k(B(e))}return function(p){return p==e?k():s(c,f)}}function M(c,e,f){for(var p=3;p<arguments.length;p++)C.cc.push(arguments[p]);return k(y(e,f),ea(c,e),x)}function Z(c){return"}"==c?k():s(F,Z)}function O(c){if(Vb&&":"==c)return k(E)}function E(c){if("variable"==c)return C.marked="variable-3",k()}function W(){return s(pa,
O,xb,oc)}function pa(c,e){if("variable"==c)return q(e),k();if("["==c)return M(pa,"]");if("{"==c)return M(wb,"}")}function wb(c,e){if("variable"==c&&!C.stream.match(/^\s*:/,!1))return q(e),k(xb);"variable"==c&&(C.marked="property");return k(B(":"),pa,xb)}function xb(c,e){if("="==e)return k(S)}function oc(c){if(","==c)return k(W)}function pc(c,e){if("keyword b"==c&&"else"==e)return k(y("form","else"),F,x)}function Ob(c){if("("==c)return k(y(")"),$,B(")"),x)}function $(c){return"var"==c?k(W,B(";"),gb):
";"==c?k(gb):"variable"==c?k(yb):s(L,B(";"),gb)}function yb(c,e){return"in"==e||"of"==e?(C.marked="keyword",k(L)):k(Ma,gb)}function gb(c,e){return";"==c?k(Pb):"in"==e||"of"==e?(C.marked="keyword",k(L)):s(L,B(";"),Pb)}function Pb(c){")"!=c&&k(L)}function ta(c,e){if("*"==e)return C.marked="keyword",k(ta);if("variable"==c)return q(e),k(ta);if("("==c)return k(p,y(")"),ea(Ua,")"),x,F,z)}function Ua(c){return"spread"==c?k(Ua):s(pa,O)}function db(c,e){if("variable"==c)return q(e),k(rc)}function rc(c,e){if("extends"==
e)return k(L,rc);if("{"==c)return k(y("}"),Ga,x)}function Ga(c,e){if("variable"==c||"keyword"==C.style)return C.marked="property","get"==e||"set"==e?k(Ya,ta,Ga):k(ta,Ga);if("*"==e)return C.marked="keyword",k(Ga);if(";"==c)return k(Ga);if("}"==c)return k()}function Ya(c){if("variable"!=c)return s();C.marked="property";return k()}function cd(c,e){if("string"==c)return k(F);if("variable"==c)return q(e),k(Ab)}function ed(c,e){return"*"==e?(C.marked="keyword",k(Ab,B(";"))):"default"==e?(C.marked="keyword",
k(L,B(";"))):s(F)}function jb(c){return"string"==c?k():s(Kb,Ab)}function Kb(c,e){if("{"==c)return M(Kb,"}");"variable"==c&&q(e);return k()}function Ab(c,e){if("from"==e)return C.marked="keyword",k(L)}function sc(c){return"]"==c?k():s(S,tb)}function tb(c){return"for"==c?s(Ta,B("]")):","==c?k(ea(S,"]")):s(ea(S,"]"))}function Ta(c){if("for"==c)return k(Ob,Ta);if("if"==c)return k(L,Ta)}var Oa=w.indentUnit,Tb=u.statementIndent,Aa=u.jsonld,Ha=u.json||Aa,Vb=u.typescript,ib=function(){function c(e){return{type:e,
style:"keyword"}}var e=c("keyword a"),f=c("keyword b"),k=c("keyword c"),p=c("operator"),l={type:"atom",style:"atom"},e={"if":c("if"),"while":e,"with":e,"else":f,"do":f,"try":f,"finally":f,"return":k,"break":k,"continue":k,"new":k,"delete":k,"throw":k,"debugger":k,"var":c("var"),"const":c("var"),let:c("var"),"function":c("function"),"catch":c("catch"),"for":c("for"),"switch":c("switch"),"case":c("case"),"default":c("default"),"in":p,"typeof":p,"instanceof":p,"true":l,"false":l,"null":l,undefined:l,
NaN:l,Infinity:l,"this":c("this"),module:c("module"),"class":c("class"),"super":c("atom"),yield:k,"export":c("export"),"import":c("import"),"extends":k};if(Vb){var f={type:"variable",style:"variable-3"},f={"interface":c("interface"),"extends":c("extends"),constructor:c("constructor"),"public":c("public"),"private":c("private"),"protected":c("protected"),"static":c("static"),string:f,number:f,bool:f,any:f},q;for(q in f)e[q]=f[q]}return e}(),na=/[+\-*&%=<>!?|~^]/,tc=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,
Ia,Va,jd={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},C={state:null,column:null,marked:null,cc:null},Za={name:"this",next:{name:"arguments"}};x.lex=!0;return{startState:function(c){c={tokenize:n,lastType:"sof",cc:[],lexical:new v((c||0)-Oa,0,"block",!1),localVars:u.localVars,context:u.localVars&&{vars:u.localVars},indented:0};u.globalVars&&"object"==typeof u.globalVars&&(c.globalVars=u.globalVars);return c},token:function(c,e){c.sol()&&(e.lexical.hasOwnProperty("align")||
(e.lexical.align=!1),e.indented=c.indentation(),m(c,e));if(e.tokenize!=l&&c.eatSpace())return null;var f=e.tokenize(c,e);if("comment"==Ia)return f;e.lastType="operator"!=Ia||"++"!=Va&&"--"!=Va?Ia:"incdec";a:{var k=Ia,p=Va,q=e.cc;C.state=e;C.stream=c;C.marked=null;C.cc=q;C.style=f;e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;)if((q.length?q.pop():Ha?L:F)(k,p)){for(;q.length&&q[q.length-1].lex;)q.pop()();if(C.marked){f=C.marked;break a}if(k="variable"==k)b:{for(k=e.localVars;k;k=k.next)if(k.name==
p){k=!0;break b}for(q=e.context;q;q=q.prev)for(k=q.vars;k;k=k.next)if(k.name==p){k=!0;break b}k=void 0}if(k){f="variable-2";break a}break a}f=void 0}return f},indent:function(e,f){if(e.tokenize==l)return c.Pass;if(e.tokenize!=n)return 0;var k=f&&f.charAt(0),p=e.lexical;if(!/^\s*else\b/.test(f))for(var q=e.cc.length-1;0<=q;--q){var m=e.cc[q];if(m==x)p=p.prev;else if(m!=pc)break}"stat"==p.type&&"}"==k&&(p=p.prev);Tb&&")"==p.type&&"stat"==p.prev.type&&(p=p.prev);q=p.type;m=k==q;return"vardef"==q?p.indented+
("operator"==e.lastType||","==e.lastType?p.info+1:0):"form"==q&&"{"==k?p.indented:"form"==q?p.indented+Oa:"stat"==q?p.indented+("operator"==e.lastType||","==e.lastType?Tb||Oa:0):"switch"!=p.info||m||!1==u.doubleIndentSwitch?p.align?p.column+(m?0:1):p.indented+(m?0:Oa):p.indented+(/^(?:case|default)\b/.test(f)?Oa:2*Oa)},electricChars:":{}",blockCommentStart:Ha?null:"/*",blockCommentEnd:Ha?null:"*/",lineComment:Ha?null:"//",fold:"brace",helperType:Ha?"json":"javascript",jsonldMode:Aa,jsonMode:Ha}});
c.registerHelper("wordChars","javascript",/[\\w$]/);c.defineMIME("text/javascript","javascript");c.defineMIME("text/ecmascript","javascript");c.defineMIME("application/javascript","javascript");c.defineMIME("application/x-javascript","javascript");c.defineMIME("application/ecmascript","javascript");c.defineMIME("application/json",{name:"javascript",json:!0});c.defineMIME("application/x-json",{name:"javascript",json:!0});c.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});c.defineMIME("text/typescript",
{name:"javascript",typescript:!0});c.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,e){for(var f=0,l=c.length;f<l;++f)e(c[f])}function u(f,l,p,m){var s=f.getCursor(),x=p(f,s),v=x;if(!/\b(?:string|comment)\b/.test(x.type)){x.state=c.innerMode(f.getMode(),x.state).state;for(/^[\w$_]*$/.test(x.string)||(x=v={start:s.ch,end:s.ch,string:"",state:x.state,type:"."==x.string?"property":
null});"property"==v.type;){v=p(f,e(s.line,v.start));if("."!=v.string)return;v=p(f,e(s.line,v.start));if(!t)var t=[];t.push(v)}return{list:n(x,t,l,m),from:e(s.line,x.start),to:e(s.line,x.end)}}}function t(c,e){var f=c.getTokenAt(e);e.ch==f.start+1&&"."==f.string.charAt(0)?(f.end=f.start,f.string=".",f.type="property"):/^\.[\w$_]*$/.test(f.string)&&(f.type="property",f.start++,f.string=f.string.replace(/\./,""));return f}function n(c,e,p,n){function s(c){var e;if(e=0==c.lastIndexOf(t,0)){a:if(Array.prototype.indexOf)e=
-1!=v.indexOf(c);else{for(e=v.length;e--;)if(v[e]===c){e=!0;break a}e=!1}e=!e}e&&v.push(c)}function x(c){"string"==typeof c?w(l,s):c instanceof Array?w(f,s):c instanceof Function&&w(m,s);for(var e in c)s(e)}var v=[],t=c.string;if(e&&e.length){c=e.pop();var u;c.type&&0===c.type.indexOf("variable")?(n&&n.additionalContext&&(u=n.additionalContext[c.string]),n&&!1===n.useGlobalScope||(u=u||window[c.string])):"string"==c.type?u="":"atom"==c.type?u=1:"function"==c.type&&(null==window.jQuery||"$"!=c.string&&
"jQuery"!=c.string||"function"!=typeof window.jQuery?null!=window._&&"_"==c.string&&"function"==typeof window._&&(u=window._()):u=window.jQuery());for(;null!=u&&e.length;)u=u[e.pop().string];null!=u&&x(u)}else{for(e=c.state.localVars;e;e=e.next)s(e.name);for(e=c.state.globalVars;e;e=e.next)s(e.name);n&&!1===n.useGlobalScope||x(window);w(p,s)}return v}var e=c.Pos;c.registerHelper("hint","javascript",function(c,e){return u(c,v,function(c,e){return c.getTokenAt(e)},e)});c.registerHelper("hint","coffeescript",
function(c,e){return u(c,s,t,e)});var l="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),f="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),m=["prototype","apply","call","bind"],v="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),
s="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){c.operation(function(){l(c)})}function u(c){c.state.markedSelection.length&&c.operation(function(){n(c)})}function t(c,e,l,p){if(0!=v(e,l))for(var n=c.state.markedSelection,y=c.state.markedSelectionStyle,x=e.line;;){var t=x==e.line?e:m(x,0),x=x+f,u=x>=l.line,w=u?l:m(x,0),t=c.markText(t,w,
{className:y});null==p?n.push(t):n.splice(p++,0,t);if(u)break}}function n(c){c=c.state.markedSelection;for(var e=0;e<c.length;++e)c[e].clear();c.length=0}function e(c){n(c);for(var e=c.listSelections(),f=0;f<e.length;f++)t(c,e[f].from(),e[f].to())}function l(c){if(!c.somethingSelected())return n(c);if(1<c.listSelections().length)return e(c);var k=c.getCursor("start"),l=c.getCursor("end"),p=c.state.markedSelection;if(!p.length)return t(c,k,l);var m=p[0].find(),y=p[p.length-1].find();if(!m||!y||l.line-
k.line<f||0<=v(k,y.to)||0>=v(l,m.from))return e(c);for(;0<v(k,m.from);)p.shift().clear(),m=p[0].find();0>v(k,m.from)&&(m.to.line-k.line<f?(p.shift().clear(),t(c,k,m.to,0)):t(c,k,m.from,0));for(;0>v(l,y.to);)p.pop().clear(),y=p[p.length-1].find();0<v(l,y.to)&&(l.line-y.from.line<f?(p.pop().clear(),t(c,y.from,l)):t(c,y.to,l))}c.defineOption("styleSelectedText",!1,function(f,k,l){l=l&&l!=c.Init;k&&!l?(f.state.markedSelection=[],f.state.markedSelectionStyle="string"==typeof k?k:"CodeMirror-selectedtext",
e(f),f.on("cursorActivity",w),f.on("change",u)):!k&&l&&(f.off("cursorActivity",w),f.off("change",u),n(f),f.state.markedSelection=f.state.markedSelectionStyle=null)});var f=8,m=c.Pos,v=c.cmpPos});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","markdown",function(w,u){function t(e){return(e=w.getTokenTypeAt(c.Pos(e,0)))&&/\bheader\b/.test(e)}function n(c,e,f){return(e=e&&e.match(/^#+/))&&t(c)?e[0].length:(e=f&&f.match(/^[=\-]+\s*$/))&&t(c+1)?"="==f[0]?1:2:100}var e=w.getLine(u.line),l=w.getLine(u.line+1),f=n(u.line,e,
l);if(100!==f){for(var m=w.lastLine(),v=u.line,s=w.getLine(v+2);v<m&&!(n(v+1,l,s)<=f);)++v,l=s,s=w.getLine(v+2);return{from:c.Pos(u.line,e.length),to:c.Pos(v,w.getLine(v).length)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){"object"==typeof c&&(this.minChars=c.minChars,this.style=c.style,this.showToken=c.showToken,this.delay=c.delay);null==this.style&&(this.style="matchhighlight");null==this.minChars&&(this.minChars=2);null==this.delay&&(this.delay=100);this.overlay=this.timeout=null}function u(c){var l=c.state.matchHighlighter;
clearTimeout(l.timeout);l.timeout=setTimeout(function(){t(c)},l.delay)}function t(c){c.operation(function(){var l=c.state.matchHighlighter;l.overlay&&(c.removeOverlay(l.overlay),l.overlay=null);if(!c.somethingSelected()&&l.showToken){for(var f=!0===l.showToken?/[\w$]/:l.showToken,m=c.getCursor(),v=c.getLine(m.line),s=m=m.ch;m&&f.test(v.charAt(m-1));)--m;for(;s<v.length&&f.test(v.charAt(s));)++s;m<s&&c.addOverlay(l.overlay=n(v.slice(m,s),f,l.style))}else f=c.getCursor("from"),v=c.getCursor("to"),f.line==
v.line&&(f=c.getRange(f,v).replace(/^\s+|\s+$/g,""),f.length>=l.minChars&&c.addOverlay(l.overlay=n(f,!1,l.style)))})}function n(c,l,f){return{token:function(m){var n;if(n=m.match(c))(n=!l)||(n=(!m.start||!l.test(m.string.charAt(m.start-1)))&&(m.pos==m.string.length||!l.test(m.string.charAt(m.pos))));if(n)return f;m.next();m.skipTo(c.charAt(0))||m.skipToEnd()}}}c.defineOption("highlightSelectionMatches",!1,function(e,l,f){f&&f!=c.Init&&((f=e.state.matchHighlighter.overlay)&&e.removeOverlay(f),clearTimeout(e.state.matchHighlighter.timeout),
e.state.matchHighlighter=null,e.off("cursorActivity",u));l&&(e.state.matchHighlighter=new w(l),t(e),e.on("cursorActivity",u))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,e,k,m){var p=c.getLineHandle(e.line),n=e.ch-1,p=0<=n&&f[p.text.charAt(n)]||f[p.text.charAt(++n)];if(!p)return null;var y=">"==p.charAt(1)?1:-1;if(k&&0<y!=(n==e.ch))return null;k=c.getTokenTypeAt(l(e.line,n+1));c=u(c,l(e.line,n+(0<y?1:0)),y,k||null,m);return null==c?null:{from:l(e.line,n),
to:c&&c.pos,match:c&&c.ch==p.charAt(0),forward:0<y}}function u(c,e,k,m,p){var n=p&&p.maxScanLineLength||1E4,y=p&&p.maxScanLines||1E3,x=[];p=p&&p.bracketRegex?p.bracketRegex:/[(){}[\]]/;for(var y=0<k?Math.min(e.line+y,c.lastLine()+1):Math.max(c.firstLine()-1,e.line-y),t=e.line;t!=y;t+=k){var u=c.getLine(t);if(u){var w=0<k?0:u.length-1,S=0<k?u.length:-1;if(!(u.length>n))for(t==e.line&&(w=e.ch-(0>k?1:0));w!=S;w+=k){var da=u.charAt(w);if(p.test(da)&&(void 0===m||c.getTokenTypeAt(l(t,w+1))==m))if(">"==
f[da].charAt(1)==0<k)x.push(da);else if(x.length)x.pop();else return{pos:l(t,w),ch:da}}}}return t-k==(0<k?c.lastLine():c.firstLine())?!1:null}function t(c,f,k){for(var m=c.state.matchBrackets.maxHighlightLineLength||1E3,p=[],n=c.listSelections(),y=0;y<n.length;y++){var x=n[y].empty()&&w(c,n[y].head,!1,k);if(x&&c.getLine(x.from.line).length<=m){var t=x.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";p.push(c.markText(x.from,l(x.from.line,x.from.ch+1),{className:t}));x.to&&c.getLine(x.to.line).length<=
m&&p.push(c.markText(x.to,l(x.to.line,x.to.ch+1),{className:t}))}}if(p.length)if(e&&c.state.focused&&c.display.input.focus(),k=function(){c.operation(function(){for(var c=0;c<p.length;c++)p[c].clear()})},f)setTimeout(k,800);else return k}function n(c){c.operation(function(){m&&(m(),m=null);m=t(c,!1,c.state.matchBrackets)})}var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),l=c.Pos,f={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},m=null;c.defineOption("matchBrackets",
!1,function(e,f,k){k&&k!=c.Init&&e.off("cursorActivity",n);f&&(e.state.matchBrackets="object"==typeof f?f:{},e.on("cursorActivity",n))});c.defineExtension("matchBrackets",function(){t(this,!0)});c.defineExtension("findMatchingBracket",function(c,e,f){return w(this,c,e,f)});c.defineExtension("scanForBracket",function(c,e,f,l){return u(this,c,e,f,l)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function w(c){c.state.tagHit&&c.state.tagHit.clear();c.state.tagOther&&c.state.tagOther.clear();c.state.tagHit=c.state.tagOther=null}function u(n){n.state.failedTagMatch=!1;n.operation(function(){w(n);if(!n.somethingSelected()){var e=n.getCursor(),l=n.getViewport();
l.from=Math.min(l.from,e.line);l.to=Math.max(e.line+1,l.to);if(e=c.findMatchingTag(n,e,l))n.state.matchBothTags&&(l="open"==e.at?e.open:e.close)&&(n.state.tagHit=n.markText(l.from,l.to,{className:"CodeMirror-matchingtag"})),(e="close"==e.at?e.open:e.close)?n.state.tagOther=n.markText(e.from,e.to,{className:"CodeMirror-matchingtag"}):n.state.failedTagMatch=!0}})}function t(c){c.state.failedTagMatch&&u(c)}c.defineOption("matchTags",!1,function(n,e,l){l&&l!=c.Init&&(n.off("cursorActivity",u),n.off("viewportChange",
t),w(n));e&&(n.state.matchBothTags="object"==typeof e&&e.bothTags,n.on("cursorActivity",u),n.on("viewportChange",t),u(n))});c.commands.toMatchingTag=function(n){var e=c.findMatchingTag(n,n.getCursor());e&&(e="close"==e.at?e.open:e.close)&&n.extendSelection(e.to,e.from)}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){c.state.placeholder&&(c.state.placeholder.parentNode.removeChild(c.state.placeholder),c.state.placeholder=null)}function u(c){w(c);var e=c.state.placeholder=document.createElement("pre");e.style.cssText="height: 0; overflow: visible";e.className="CodeMirror-placeholder";e.appendChild(document.createTextNode(c.getOption("placeholder")));
c.display.lineSpace.insertBefore(e,c.display.lineSpace.firstChild)}function t(c){e(c)&&u(c)}function n(c){var f=c.getWrapperElement(),m=e(c);f.className=f.className.replace(" CodeMirror-empty","")+(m?" CodeMirror-empty":"");m?u(c):w(c)}function e(c){return 1===c.lineCount()&&""===c.getLine(0)}c.defineOption("placeholder","",function(e,f,m){m=m&&m!=c.Init;f&&!m?(e.on("blur",t),e.on("change",n),n(e)):!f&&m&&(e.off("blur",t),e.off("change",n),w(e),m=e.getWrapperElement(),m.className=m.className.replace(" CodeMirror-empty",
""));f&&!e.hasFocus()&&t(e)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c){for(var e=c.display.lineSpace.childNodes.length-1;0<=e;e--){var l=c.display.lineSpace.childNodes[e];/(^|\s)CodeMirror-ruler($|\s)/.test(l.className)&&l.parentNode.removeChild(l)}}function u(n){for(var e=n.getOption("rulers"),l=n.defaultCharWidth(),f=n.charCoords(c.Pos(n.firstLine(),0),"div").left,
m=n.display.scroller.offsetHeight+30,t=0;t<e.length;t++){var s=document.createElement("div");s.className="CodeMirror-ruler";var k,q=e[t];"number"==typeof q?k=q:(k=q.column,q.className&&(s.className+=" "+q.className),q.color&&(s.style.borderColor=q.color),q.lineStyle&&(s.style.borderLeftStyle=q.lineStyle),q.width&&(s.style.borderLeftWidth=q.width));s.style.left=f+k*l+"px";s.style.top="-50px";s.style.bottom="-20px";s.style.minHeight=m+"px";n.display.lineSpace.insertBefore(s,n.display.cursorDiv)}}function t(c){w(c);
u(c)}c.defineOption("rulers",!1,function(n,e,l){l&&l!=c.Init&&(w(n),n.off("refresh",t));e&&e.length&&(u(n),n.on("refresh",t))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(t,n){c.changeEnd(n).line==t.lastLine()&&u(t)}function u(c){var n="";if(1<c.lineCount())var n=c.display.scroller.clientHeight-30,e=c.getLineHandle(c.lastLine()).height,n=n-e+"px";c.state.scrollPastEndPadding!=n&&(c.state.scrollPastEndPadding=n,c.display.lineSpace.parentNode.style.paddingBottom=
n,c.setSize())}c.defineOption("scrollPastEnd",!1,function(t,n,e){e&&e!=c.Init&&(t.off("change",w),t.off("refresh",u),t.display.lineSpace.parentNode.style.paddingBottom="",t.state.scrollPastEndPadding=null);n&&(t.on("change",w),t.on("refresh",u),u(t))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],c):c(CodeMirror)})(function(c){function w(c,e){"string"==typeof c?c=new RegExp(c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):c.global||(c=new RegExp(c.source,c.ignoreCase?"gi":"g"));return{token:function(e){c.lastIndex=e.pos;
var f=c.exec(e.string);if(f&&f.index==e.pos)return e.pos+=f[0].length,"searching";f?e.pos=f.index:e.skipToEnd()}}}function u(){this.overlay=this.posFrom=this.posTo=this.query=null}function t(c){return c.state.search||(c.state.search=new u)}function n(c){return"string"==typeof c&&c==c.toLowerCase()}function e(c,e,f){return c.getSearchCursor(e,f,n(e))}function l(c,e,f,k,l){c.openDialog?c.openDialog(e,l,{value:k}):l(prompt(f,k))}function f(c,e,f,k){if(c.openConfirm)c.openConfirm(e,k);else if(confirm(f))k[0]()}
function m(c){var e=c.match(/^\/(.*)\/([a-z]*)$/);e?(c=new RegExp(e[1],-1==e[2].indexOf("i")?"":"i"),c.test("")&&(c=/x^/)):""==c&&(c=/x^/);return c}function v(c,e){var f=t(c);if(f.query)return s(c,e);l(c,'Search: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',"Search for:",c.getSelection(),function(k){c.operation(function(){k&&!f.query&&(f.query=m(k),c.removeOverlay(f.overlay,n(f.query)),f.overlay=w(f.query,n(f.query)),c.addOverlay(f.overlay),
f.posFrom=f.posTo=c.getCursor(),s(c,e))})})}function s(f,k){f.operation(function(){var l=t(f),m=e(f,l.query,k?l.posFrom:l.posTo);if(!m.find(k)&&(m=e(f,l.query,k?c.Pos(f.lastLine()):c.Pos(f.firstLine(),0)),!m.find(k)))return;f.setSelection(m.from(),m.to());f.scrollIntoView({from:m.from(),to:m.to()});l.posFrom=m.from();l.posTo=m.to()})}function k(c){c.operation(function(){var e=t(c);e.query&&(e.query=null,c.removeOverlay(e.overlay))})}function q(c,q){l(c,'Replace: <input type="text" style="width: 10em"/> <span style="color: #888">(Use /re/ syntax for regexp search)</span>',
"Replace:",c.getSelection(),function(n){n&&(n=m(n),l(c,'With: <input type="text" style="width: 10em"/>',"Replace with:","",function(l){if(q)c.operation(function(){for(var f=e(c,n);f.findNext();)if("string"!=typeof n){var k=c.getRange(f.from(),f.to()).match(n);f.replace(l.replace(/\$(\d)/g,function(c,e){return k[e]}))}else f.replace(l)});else{k(c);var m=e(c,n,c.getCursor()),s=function(){var k=m.from(),l;if(!(l=m.findNext())&&(m=e(c,n),!(l=m.findNext())||k&&m.from().line==k.line&&m.from().ch==k.ch))return;
c.setSelection(m.from(),m.to());c.scrollIntoView({from:m.from(),to:m.to()});f(c,"Replace? <button>Yes</button> <button>No</button> <button>Stop</button>","Replace?",[function(){t(l)},s])},t=function(c){m.replace("string"==typeof n?l:l.replace(/\$(\d)/g,function(e,f){return c[f]}));s()};s()}}))})}c.commands.find=function(c){k(c);v(c)};c.commands.findNext=v;c.commands.findPrev=function(c){v(c,!0)};c.commands.clearSearch=k;c.commands.replace=q;c.commands.replaceAll=function(c){q(c,!0)}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,e,l,f){this.atOccurrence=!1;this.doc=c;null==f&&"string"==typeof e&&(f=!1);l=l?c.clipPos(l):t(0,0);this.pos={from:l,to:l};if("string"!=typeof e)e.global||(e=new RegExp(e.source,e.ignoreCase?"ig":"g")),this.matches=function(f,k){if(f){e.lastIndex=0;for(var l=c.getLine(k.line).slice(0,k.ch),
m=0,s,u;;){e.lastIndex=m;m=e.exec(l);if(!m)break;s=m;u=s.index;m=s.index+(s[0].length||1);if(m==l.length)break}(m=s&&s[0].length||0)||(0==u&&0==l.length?s=void 0:u!=c.getLine(k.line).length&&m++)}else e.lastIndex=k.ch,l=c.getLine(k.line),m=(s=e.exec(l))&&s[0].length||0,u=s&&s.index,u+m==l.length||m||(m=1);if(s&&m)return{from:t(k.line,u),to:t(k.line,u+m),match:s}};else{var m=e;f&&(e=e.toLowerCase());var v=f?function(c){return c.toLowerCase()}:function(c){return c},s=e.split("\n");if(1==s.length)this.matches=
e.length?function(f,k){if(f){var l=c.getLine(k.line).slice(0,k.ch),s=v(l),x=s.lastIndexOf(e);if(-1<x)return x=u(l,s,x),{from:t(k.line,x),to:t(k.line,x+m.length)}}else if(l=c.getLine(k.line).slice(k.ch),s=v(l),x=s.indexOf(e),-1<x)return x=u(l,s,x)+k.ch,{from:t(k.line,x),to:t(k.line,x+m.length)}}:function(){};else{var k=m.split("\n");this.matches=function(e,f){var l=s.length-1;if(e){if(!(f.line-(s.length-1)<c.firstLine())&&v(c.getLine(f.line).slice(0,k[l].length))==s[s.length-1]){for(var m=t(f.line,
k[l].length),u=f.line-1,w=l-1;1<=w;--w,--u)if(s[w]!=v(c.getLine(u)))return;var w=c.getLine(u),F=w.length-k[0].length;if(v(w.slice(F))==s[0])return{from:t(u,F),to:m}}}else if(!(f.line+(s.length-1)>c.lastLine())&&(w=c.getLine(f.line),F=w.length-k[0].length,v(w.slice(F))==s[0])){m=t(f.line,F);u=f.line+1;for(w=1;w<l;++w,++u)if(s[w]!=v(c.getLine(u)))return;if(c.getLine(u).slice(0,k[l].length)==s[l])return{from:m,to:t(u,k[l].length)}}}}}}function u(c,e,l){if(c.length==e.length)return l;for(e=Math.min(l,
c.length);;){var f=c.slice(0,e).toLowerCase().length;if(f<l)++e;else if(f>l)--e;else return e}}var t=c.Pos;w.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(c){function e(c){c=t(c,0);l.pos={from:c,to:c};return l.atOccurrence=!1}for(var l=this,f=this.doc.clipPos(c?this.pos.from:this.pos.to);;){if(this.pos=this.matches(c,f))return this.atOccurrence=!0,this.pos.match||!0;if(c){if(!f.line)return e(0);f=t(f.line-1,this.doc.getLine(f.line-
1).length)}else{var m=this.doc.lineCount();if(f.line==m-1)return e(m);f=t(f.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(n){this.atOccurrence&&(n=c.splitLines(n),this.doc.replaceRange(n,this.pos.from,this.pos.to),this.pos.to=t(this.pos.from.line+n.length-1,n[n.length-1].length+(1==n.length?this.pos.from.ch:0)))}};c.defineExtension("getSearchCursor",function(c,e,l){return new w(this.doc,c,e,l)});c.defineDocExtension("getSearchCursor",
function(c,e,l){return new w(this,c,e,l)});c.defineExtension("selectMatches",function(n,e){for(var l=[],f=this.getSearchCursor(n,this.getCursor("from"),e);f.findNext()&&!(0<c.cmpPos(f.to(),this.getCursor("to")));)l.push({anchor:f.from(),head:f.to()});l.length&&this.setSelections(l,0)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineMode("xml",function(w,u){function t(c,e){function k(f){e.tokenize=f;return f(c,e)}var m=c.next();if("<"==m){if(c.eat("!"))return c.eat("[")?c.match("CDATA[")?k(l("atom","]]\x3e")):null:c.match("--")?k(l("comment","--\x3e")):c.match("DOCTYPE",!0,!0)?(c.eatWhile(/[\w\._\-]/),k(f(1))):null;if(c.eat("?"))return c.eatWhile(/[\w\._\-]/),
e.tokenize=l("meta","?>"),"meta";ha=c.eat("/")?"closeTag":"openTag";e.tokenize=n;return"tag bracket"}if("&"==m)return(c.eat("#")?c.eat("x")?c.eatWhile(/[a-fA-F\d]/)&&c.eat(";"):c.eatWhile(/[\d]/)&&c.eat(";"):c.eatWhile(/[\w\.\-:]/)&&c.eat(";"))?"atom":"error";c.eatWhile(/[^&<]/);return null}function n(c,f){var l=c.next();if(">"==l||"/"==l&&c.eat(">"))return f.tokenize=t,ha=">"==l?"endTag":"selfcloseTag","tag bracket";if("="==l)return ha="equals",null;if("<"==l)return f.tokenize=t,f.state=k,f.tagName=
f.tagStart=null,(l=f.tokenize(c,f))?l+" tag error":"tag error";if(/[\'\"]/.test(l))return f.tokenize=e(l),f.stringStartCol=c.column(),f.tokenize(c,f);c.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function e(c){var e=function(e,f){for(;!e.eol();)if(e.next()==c){f.tokenize=n;break}return"string"};e.isInAttribute=!0;return e}function l(c,e){return function(f,k){for(;!f.eol();){if(f.match(e)){k.tokenize=t;break}f.next()}return c}}function f(c){return function(e,k){for(var l;null!=(l=
e.next());){if("<"==l)return k.tokenize=f(c+1),k.tokenize(e,k);if(">"==l)if(1==c){k.tokenize=t;break}else return k.tokenize=f(c-1),k.tokenize(e,k)}return"meta"}}function m(c,e,f){this.prev=c.context;this.tagName=e;this.indent=c.indented;this.startOfLine=f;if(U.doNotIndent.hasOwnProperty(e)||c.context&&c.context.noIndent)this.noIndent=!0}function v(c){c.context&&(c.context=c.context.prev)}function s(c,e){for(var f;c.context;){f=c.context.tagName;if(!U.contextGrabbers.hasOwnProperty(f)||!U.contextGrabbers[f].hasOwnProperty(e))break;
v(c)}}function k(c,e,f){return"openTag"==c?(f.tagStart=e.column(),q):"closeTag"==c?p:k}function q(c,e,f){if("word"==c)return f.tagName=e.current(),T="tag",x;T="error";return q}function p(c,e,f){if("word"==c){c=e.current();f.context&&f.context.tagName!=c&&U.implicitlyClosed.hasOwnProperty(f.context.tagName)&&v(f);if(f.context&&f.context.tagName==c)return T="tag",z;T="tag error";return y}T="error";return y}function z(c,e,f){if("endTag"!=c)return T="error",z;v(f);return k}function y(c,e,f){T="error";
return z(c,e,f)}function x(c,e,f){if("word"==c)return T="attribute",B;if("endTag"==c||"selfcloseTag"==c){e=f.tagName;var l=f.tagStart;f.tagName=f.tagStart=null;"selfcloseTag"==c||U.autoSelfClosers.hasOwnProperty(e)?s(f,e):(s(f,e),f.context=new m(f,e,l==f.indented));return k}T="error";return x}function B(c,e,f){if("equals"==c)return F;U.allowMissing||(T="error");return x(c,e,f)}function F(c,e,f){if("string"==c)return L;if("word"==c&&U.allowUnquoted)return T="string",x;T="error";return x(c,e,f)}function L(c,
e,f){return"string"==c?L:x(c,e,f)}var S=w.indentUnit,da=u.multilineTagIndentFactor||1,ga=u.multilineTagIndentPastTag;null==ga&&(ga=!0);var U=u.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},
optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},
doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},Ma=u.alignCDATA,ha,T;return{startState:function(){return{tokenize:t,state:k,indented:0,tagName:null,tagStart:null,context:null}},token:function(c,e){!e.tagName&&c.sol()&&(e.indented=c.indentation());if(c.eatSpace())return null;ha=null;var f=e.tokenize(c,e);(f||ha)&&"comment"!=f&&(T=null,e.state=e.state(ha||f,c,e),T&&(f="error"==T?f+" error":T));return f},indent:function(e,f,k){var l=e.context;if(e.tokenize.isInAttribute)return e.tagStart==
e.indented?e.stringStartCol+1:e.indented+S;if(l&&l.noIndent)return c.Pass;if(e.tokenize!=n&&e.tokenize!=t)return k?k.match(/^(\s*)/)[0].length:0;if(e.tagName)return ga?e.tagStart+e.tagName.length+2:e.tagStart+S*da;if(Ma&&/<!\[CDATA\[/.test(f))return 0;if((e=f&&/^<(\/)?([\w_:\.-]*)/.exec(f))&&e[1])for(;l;)if(l.tagName==e[2]){l=l.prev;break}else if(U.implicitlyClosed.hasOwnProperty(l.tagName))l=l.prev;else break;else if(e)for(;l;)if((f=U.contextGrabbers[l.tagName])&&f.hasOwnProperty(e[2]))l=l.prev;
else break;for(;l&&!l.startOfLine;)l=l.prev;return l?l.indent+S:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml"}});c.defineMIME("text/xml","xml");c.defineMIME("application/xml","xml");c.mimeModes.hasOwnProperty("text/html")||c.defineMIME("text/html",{name:"xml",htmlMode:!0})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function w(c,e,f,k){this.line=e;this.ch=f;this.cm=c;this.text=c.getLine(e);this.min=k?k.from:c.firstLine();this.max=k?k.to-1:c.lastLine()}function u(c,e){var f=c.cm.getTokenTypeAt(s(c.line,e));return f&&/\btag\b/.test(f)}function t(c){if(!(c.line>=c.max))return c.ch=0,c.text=c.cm.getLine(++c.line),!0}
function n(c){if(!(c.line<=c.min))return c.text=c.cm.getLine(--c.line),c.ch=c.text.length,!0}function e(c){for(;;){var e=c.text.indexOf(">",c.ch);if(-1==e)if(t(c))continue;else break;if(u(c,e+1)){var f=c.text.lastIndexOf("/",e),f=-1<f&&!/\S/.test(c.text.slice(f+1,e));c.ch=e+1;return f?"selfClose":"regular"}c.ch=e+1}}function l(c){for(;;){var e=c.ch?c.text.lastIndexOf("<",c.ch-1):-1;if(-1==e)if(n(c))continue;else break;if(u(c,e+1)){k.lastIndex=e;c.ch=e;var f=k.exec(c.text);if(f&&f.index==e)return f}else c.ch=
e}}function f(c){for(;;){k.lastIndex=c.ch;var e=k.exec(c.text);if(!e)if(t(c))continue;else break;if(u(c,e.index+1))return c.ch=e.index+e[0].length,e;c.ch=e.index+1}}function m(c,k){for(var l=[];;){var m=f(c),n,u=c.line,t=c.ch-(m?m[0].length:0);if(!m||!(n=e(c)))break;if("selfClose"!=n)if(m[1]){for(var v=l.length-1;0<=v;--v)if(l[v]==m[2]){l.length=v;break}if(0>v&&(!k||k==m[2]))return{tag:m[2],from:s(u,t),to:s(c.line,c.ch)}}else l.push(m[2])}}function v(c,e){for(var f=[];;){var k;a:{for(k=c;;){var m=
k.ch?k.text.lastIndexOf(">",k.ch-1):-1;if(-1==m)if(n(k))continue;else{k=void 0;break a}if(u(k,m+1)){var t=k.text.lastIndexOf("/",m),t=-1<t&&!/\S/.test(k.text.slice(t+1,m));k.ch=m+1;k=t?"selfClose":"regular";break a}else k.ch=m}k=void 0}if(!k)break;if("selfClose"==k)l(c);else{k=c.line;m=c.ch;t=l(c);if(!t)break;if(t[1])f.push(t[2]);else{for(var v=f.length-1;0<=v;--v)if(f[v]==t[2]){f.length=v;break}if(0>v&&(!e||e==t[2]))return{tag:t[2],from:s(c.line,c.ch),to:s(k,m)}}}}}var s=c.Pos,k=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)",
"g");c.registerHelper("fold","xml",function(c,k){for(var l=new w(c,k.line,0);;){var n=f(l),t;if(!n||l.line!=k.line||!(t=e(l)))break;if(!n[1]&&"selfClose"!=t)return k=s(l.line,l.ch),(l=m(l,n[2]))&&{from:k,to:l.from}}});c.findMatchingTag=function(c,f,k){var n=new w(c,f.line,f.ch,k);if(-1!=n.text.indexOf(">")||-1!=n.text.indexOf("<")){var t=e(n),u=t&&s(n.line,n.ch),F=t&&l(n);if(t&&"selfClose"!=t&&F&&!(0<(n.line-f.line||n.ch-f.ch))){f={from:s(n.line,n.ch),to:u,tag:F[2]};if(F[1])return{open:v(n,F[2]),
close:f,at:"close"};n=new w(c,u.line,u.ch,k);return{open:f,close:m(n,F[2]),at:"open"}}}};c.findEnclosingTag=function(c,e,f){for(var k=new w(c,e.line,e.ch,f);;){var l=v(k);if(!l)break;var n=new w(c,e.line,e.ch,f);if(n=m(n,l.tag))return{open:l,close:n}}};c.scanForClosingTag=function(c,e,f,k){c=new w(c,e.line,e.ch,k?{from:0,to:k}:null);return m(c,f)}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){var w=c.Pos;c.registerHelper("hint","xml",function(u,t){var n=t&&t.schemaInfo,e=t&&t.quoteChar||'"';if(n){var l=u.getCursor(),f=u.getTokenAt(l),m=c.innerMode(u.getMode(),f.state);if("xml"==m.mode.name){var v=[],s=!1,k,q=/\btag\b/.test(f.type),p=q&&/^\w/.test(f.string),z;if(p){var y=u.getLine(l.line).slice(Math.max(0,
f.start-2),f.start);(y=/<\/$/.test(y)?"close":/<$/.test(y)?"open":null)&&(z=f.start-("close"==y?2:1))}else q&&"<"==f.string?y="open":q&&"</"==f.string&&(y="close");if(!q&&!m.state.tagName||y){p&&(k=f.string);var s=y,m=(e=m.state.context)&&n[e.tagName],x=e?m&&m.children:n["!top"];if(x&&"close"!=y)for(n=0;n<x.length;++n)k&&0!=x[n].lastIndexOf(k,0)||v.push("<"+x[n]);else if("close"!=y)for(var B in n)!n.hasOwnProperty(B)||"!top"==B||"!attrs"==B||k&&0!=B.lastIndexOf(k,0)||v.push("<"+B);e&&(!k||"close"==
y&&0==e.tagName.lastIndexOf(k,0))&&v.push("</"+e.tagName+">")}else{B=(m=n[m.state.tagName])&&m.attrs;n=n["!attrs"];if(!B&&!n)return;if(!B)B=n;else if(n){var y={},F;for(F in n)n.hasOwnProperty(F)&&(y[F]=n[F]);for(F in B)B.hasOwnProperty(F)&&(y[F]=B[F]);B=y}if("string"==f.type||"="==f.string){y=u.getRange(w(l.line,Math.max(0,l.ch-60)),w(l.line,"string"==f.type?f.start:f.end));n=y.match(/([^\s\u00a0=<>\"\']+)=$/);if(!n||!B.hasOwnProperty(n[1])||!(x=B[n[1]]))return;"function"==typeof x&&(x=x.call(this,
u));"string"==f.type&&(k=f.string,s=0,/['"]/.test(f.string.charAt(0))&&(e=f.string.charAt(0),k=f.string.slice(1),s++),n=f.string.length,/['"]/.test(f.string.charAt(n-1))&&(e=f.string.charAt(n-1),k=f.string.substr(s,n-2)),s=!0);for(n=0;n<x.length;++n)k&&0!=x[n].lastIndexOf(k,0)||v.push(e+x[n]+e)}else{"attribute"==f.type&&(k=f.string,s=!0);for(var L in B)!B.hasOwnProperty(L)||k&&0!=L.lastIndexOf(k,0)||v.push(L)}}return{list:v,from:s?w(l.line,null==z?f.start:z):l,to:s?w(l.line,f.end):l}}}})});
